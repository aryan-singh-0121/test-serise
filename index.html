<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ECE249 â€” Test Series (Units 1-6)</title>
<style>
/* ===================== CSS Variables ===================== */
:root{
    --bg:#10a482; /* Background main color variable */
    --card:#0d0e0f; /* Card background color variable */
    --accent:#1d6c52; /* Main accent color */
    --accent-600:#059669; /* Darker accent */
    --accent-400:#44a631; /* Lighter accent */
    --danger:#d41212b8; /* Error/danger color */
    --muted:#1e2939; /* Muted text color */
    --glass:rgba(52, 36, 36, 0.03); /* Glassy overlay color */
}

/* ===================== Global Styles ===================== */
*{
    box-sizing:border-box; /* Padding + border included in element width/height */
    font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial; /* Default font stack */
}
html,body{
    height:100%; /* Full height for page */
}
body{
    margin:0; /* Remove default margin */
    background:
        radial-gradient(900px 500px at 10% 10%, rgba(244, 50, 163, 0.04), transparent), /* Decorative radial gradient */
        linear-gradient(180deg,#5a7ab2 0%, #11bac0 100%); /* Main page gradient background */
    color:#070b0f; /* Default text color */
    min-height:100vh; /* Minimum height full viewport */
    display:flex; /* Flex layout */
    align-items:center; /* Vertically center content */
    justify-content:center; /* Horizontally center content */
    padding:18px; /* Page padding */
}

/* ===================== Layout Wrappers ===================== */
.wrap{
    width:100%; /* Full width */
    max-width:1100px; /* Max width for large screens */
    margin:0 auto; /* Center horizontally */
}
.card{
    background:linear-gradient(180deg, rgba(5, 3, 3, 0.02), rgba(0,0,0,0.12)); /* Card gradient */
    border-radius:14px; /* Rounded corners */
    padding:18px; /* Inner spacing */
    box-shadow:0 10px 40px rgba(2,6,23,0.7); /* Shadow under card */
    border:1px solid rgba(255,255,255,0.03); /* Subtle border */
}

/* ===================== Header ===================== */
header{
    display:flex; /* Flex layout */
    justify-content:space-between; /* Space between title and other elements */
    align-items:flex-start; /* Align at top */
    gap:12px; /* Gap between items */
}
.title{
    display:flex; /* Flex for vertical layout */
    flex-direction:column; /* Stack title + subtitle vertically */
}
h1{
    margin:0; /* Remove default margin */
    font-size:20px; /* Title font size */
}
.small-by{
    font-size:12px; /* Small subtitle text */
    color:var(--muted); /* Muted color */
    margin-top:6px; /* Space above */
}
.accent-badge{
    background:linear-gradient(90deg,var(--accent-400),var(--accent)); /* Gradient badge */
    padding:6px 10px; /* Inner spacing */
    border-radius:8px; /* Rounded corners */
    color:#022; /* Text color inside badge */
    font-weight:700; /* Bold */
}

/* ===================== Start area ===================== */
.start-area{
    display:flex; /* Flex layout */
    gap:14px; /* Gap between inputs/buttons */
    align-items:flex-start; /* Align at top */
    margin-top:12px; /* Top spacing */
}
.inputs{
    display:flex; /* Flex layout */
    flex-direction:column; /* Stack inputs vertically */
    gap:8px; /* Space between inputs */
}
input[type="text"], input[type="file"]{
    padding:10px; /* Inner spacing */
    border-radius:8px; /* Rounded corners */
    border:1px solid rgba(255,255,255,0.05); /* Border style */
    background:transparent; /* Transparent input background */
    color:inherit; /* Same as body color */
    width:280px; /* Fixed input width */
}

/* ===================== About box ===================== */
.about{
    background:linear-gradient(180deg, rgba(204, 66, 66, 0.01), rgba(156, 43, 43, 0.02)); /* Light background gradient */
    padding:12px; /* Inner spacing */
    border-radius:10px; /* Rounded corners */
    border:1px solid rgba(150, 23, 23, 0.02); /* Light border */
    max-width:600px; /* Max width */
}
.about p{
    margin:6px 0; /* Paragraph spacing */
    color:var(--muted); /* Muted color */
    font-size:13px; /* Small text */
}

/* ===================== Buttons ===================== */
.btn{
    padding:10px 14px; /* Inner spacing */
    border-radius:10px; /* Rounded */
    border:0; /* No border */
    cursor:pointer; /* Pointer on hover */
    font-weight:700; /* Bold */
    background:var(--accent); /* Main accent color */
    color:#022; /* Text color */
    box-shadow:0 6px 20px rgba(14, 239, 164, 0.08); /* Shadow */
    transition:transform .14s ease, box-shadow .14s ease; /* Smooth interaction */
}
.btn:active{
    transform:translateY(2px); /* Button press effect */
}
.btn.ghost{
    background:transparent; /* Ghost button */
    border:1px solid rgba(99, 46, 46, 0.06); /* Light border */
    color:#1a5795; /* Text color */
}
.btn.warn{
    background:var(--danger); /* Red background for warning */
    color:#52aeb7; /* Text color */
}

/* ===================== Row flex ===================== */
.row{
    display:flex; /* Flex layout */
    gap:8px; /* Gap between items */
    align-items:center; /* Vertical center */
}
.muted{
    color:var(--muted); /* Muted text */
    font-size:13px; /* Small text */
}

/* ===================== Main Layout ===================== */
.main{
    display:flex; /* Flex layout */
    gap:16px; /* Gap between left and right */
    margin-top:16px; /* Top spacing */
}
.left{
    flex:1; /* Left area grows */
}
.right{
    width:320px; /* Fixed width for right panel */
}

/* ===================== Top Status boxes ===================== */
.topstatus{
    display:flex;
    gap:8px;
    align-items:center;
    flex-wrap:wrap; /* Wrap to next line if overflow */
}
.status-box{
    background:var(--glass); /* Glassy background */
    padding:8px 10px; /* Inner padding */
    border-radius:8px;
    min-width:80px; /* Minimum width */
    text-align:center; /* Center text */
    font-size:13px;
}
.status-box .label{
    color:var(--muted);
    font-size:12px;
}
.status-box .val{
    font-weight:800;
    margin-top:4px;
}

/* ===================== Question Area ===================== */
.question-area{
    margin-top:12px;
    padding:18px;
    border-radius:12px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
    border:1px solid rgba(255,255,255,0.02);
}
.qtop{
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.qtext{
    font-size:19px;
    font-weight:700;
    margin:12px 0;
}
.options{
    display:grid; /* Grid layout */
    grid-template-columns:1fr 1fr; /* Two columns for options */
    gap:12px; /* Gap between options */
}
.option{
    padding:12px;
    border-radius:10px;
    border:1px solid rgba(91, 206, 248, 0.438);
    cursor:pointer;
    background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
    transition:transform .18s cubic-bezier(.2,.9,.3,1), box-shadow .18s ease, background .18s ease;
}
.option:hover{
    transform:translateY(-4px); /* Hover lift effect */
    box-shadow:0 10px 30px rgba(12, 49, 217, 0.6);
}
.option .label{
    font-weight:750;
}
.option .explainTiny{
    font-size:12px;
    color:var(--muted);
    padding:10px 10px;
    border-radius:10px;
    border:5px solid rgba(255,255,255,0.02);
}

/* ===================== Option states ===================== */
.option.correct{
    background:linear-gradient(90deg, rgba(11, 29, 23, 0.12), rgba(22, 69, 53, 0.06));
    border-color:rgba(16,185,129,0.28);
    color:var(--accent);
    box-shadow:0 10px 30px rgba(16,185,129,0.06), 0 0 18px rgba(16,185,129,0.06) inset;
    animation:glow 900ms ease forwards; /* Green glow animation */
}
.option.wrong{
    background:linear-gradient(90deg, rgba(239,68,68,0.06), rgba(239,68,68,0.03));
    border-color:rgba(5, 5, 5, 0.22);
    color:var(--danger);
    animation:shake .45s linear; /* Red shake animation */
}

/* ===================== Animations ===================== */
@keyframes glow{
    0%{box-shadow:0 0 0 rgba(16,185,129,0)}
    50%{box-shadow:0 0 20px rgba(113, 234, 194, 0.08)}
    100%{box-shadow:0 0 6px rgba(16,185,129,0.04)}
}
@keyframes shake{
    0%{transform:translateX(0)}
    25%{transform:translateX(-6px)}
    50%{transform:translateX(6px)}
    75%{transform:translateX(-4px)}
    100%{transform:translateX(0)}
}

/* ===================== Explanation box ===================== */
.explain{
    font-size:14px;
    color:var(--muted);
    margin-top:10px;
    padding:12px;
    border-radius:10px;
    background:rgba(0,0,0,0.05);
    display:none; /* Hidden by default */
}

/* ===================== Controls and Footer ===================== */
.controls{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-top:14px;
}
.nav{
    display:flex;
    gap:8px;
    align-items:center;
}
.footer{
    margin-top:12px;
    color:var(--muted);
    font-size:13px;
}

/* ===================== Modal ===================== */
.modal-backdrop{
    position:fixed;
    inset:0;
    background:rgba(2,6,23,0.6); /* Semi-transparent backdrop */
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:60;
}
.modal{
    background:#071025;
    padding:16px;
    border-radius:12px;
    width:90%;
    max-width:720px;
    border:1px solid rgba(255,255,255,0.03);
}
.modal h3{
    margin:0 0 8px;
}
.results-table{
    width:100%;
    border-collapse:collapse;
    margin-top:8px;
}
.results-table th,.results-table td{
    padding:8px;
    border-bottom:1px solid rgba(255,255,255,0.03);
    text-align:left;
    font-size:13px;
}
.img-preview{
    width:56px;
    height:56px;
    border-radius:8px;
    object-fit:cover;
    border:1px solid rgba(255,255,255,0.04);
}

/* ===================== Responsive ===================== */
@media(max-width:880px){
    .main{flex-direction:column;} /* Stack left & right vertically */
    .right{width:100%;} /* Right panel full width */
    .options{grid-template-columns:1fr;} /* Single column for options */
}
</style>
<!-- Supabase client JS (must be above your custom <script>) -->
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body>
  <div class="wrap">
    <div class="card" id="cardRoot">
      <header>
        <div class="title">
          <div style="display:flex;align-items:center;gap:10px">
            <h1>ECE249 â€” Test Series (Units 1-6)</h1>
            <div class="accent-badge" id="badgeCount">300+ Qs</div>
          </div>
          <div class="small-by">Created by <strong>Aryan Singh</strong></div>
        </div>
        <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px">
          <div style="font-size:12px;color:var(--muted)">BY:- <strong style="color:var(--accent)">ARYAN SINGH ðŸ¥·</strong></div>
        </div>
      </header>

      <!-- START PAGE -->
      <div id="startPage" style="margin-top:12px">
        <div class="start-area">
          <div class="inputs">
            <input id="inpName" type="text" placeholder="Enter full name "  />
            <input id="inpReg" type="text" placeholder="Registration number" />
            <div style="display:flex;align-items:center;gap:8px">
              <input id="inpPic" type="file" accept="image/*" />
              <img id="imgPreview" class="img-preview" src="" alt="profile picture" style="display:none" />
            </div>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button id="btnStart" class="btn" disabled>Start Test</button>
              <button id="btnResetStart" class="btn ghost">Reset</button>
            </div>
            <div id="startErrors" style="color:#ffcccb;font-size:13px;margin-top:6px"></div>
          </div>
          <div class="about">
            <strong>About this Test</strong>
            <p>â€¢ 300+ MCQs covering Units 1-6. One question at a time.</p>
            <p>â€¢ Name & Registration number are mandatory. Profile picture optional.</p>
            <p>â€¢ No hard time limit, but inactivity of 60s shows a warning.</p>
            <p>â€¢ Wrong answers do not increase progress percentage (progress = correct / total).</p>
          </div>
        </div>
      </div>

      <!-- TEST PAGE (hidden initially) -->
      <div id="testPage" style="display:none">
        <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap">
          <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap" class="topstatus">
            <div class="status-box"><div class="label">Time</div><div class="val" id="timeTop">00:00</div></div>
            <div class="status-box"><div class="label">Correct</div><div class="val" id="topCorrect">0</div></div>
            <div class="status-box"><div class="label">Wrong</div><div class="val" id="topWrong">0</div></div>
            <div class="status-box"><div class="label">Progress</div><div class="val" id="topProgress">0%</div></div>
            <div class="status-box"><div class="label">Attempted</div><div class="val" id="topAttempted">0</div></div>
            <div class="status-box"><div class="label">Q</div><div class="val" id="topQno">0/300</div></div>
          </div>
          <div style="display:flex;gap:8px;align-items:center">
            <div class="muted" id="showUser">â€”</div>
            <button id="btnEndTestTop" class="btn warn">End Test</button>
          </div>
        </div>

        <div class="main">
          <div class="left">
            <div class="question-area">
              <div class="qtop">
                <div class="muted">Name: <span id="showName">â€”</span> â€¢ Reg: <span id="showReg">â€”</span></div>
                <div class="muted">Progress: <span id="progressPercent">0%</span></div>
              </div>
              <div class="qtext" id="questionText">Loading...</div>
              <div class="options" id="optionsBox"></div>
              <div class="explain" id="explainBox"></div>

              <div class="controls">
                <div class="nav">
                  <button id="btnPrev" class="btn ghost">Prev</button>
                  <button id="btnNext" class="btn ghost">Next</button>
                  <button id="btnShowExplain" class="btn ghost">Show Explanation</button>
                </div>
                <div class="muted">Score: <span id="scoreInline">0</span></div>
              </div>
            </div>
            <div class="footer">Tip: Click the correct option â€” it turns <span style="color:var(--accent);font-weight:700">green</span>. Wrong picks become <span style="color:var(--danger);font-weight:700">red</span>.</div>
          </div>

          <aside class="right">
            <div class="scorebox">
              <div class="row" style="justify-content:space-between;align-items:center">
                <div style="display:flex;gap:8px;align-items:center">
                  <div style="display:flex;flex-direction:column"><div class="muted" style="font-size:12px">Questions</div><div style="font-weight:800" id="curQ">0</div></div>
                  <div style="display:flex;flex-direction:column"><div class="muted" style="font-size:12px">Total</div><div style="font-weight:800" id="totalQ">300</div></div>
                </div>
                <img id="userPicSmall" class="img-preview" src="" style="display:none">
              </div>

              <div style="display:flex;gap:8px;margin-top:8px">
                <div style="flex:1"><div class="label muted">Correct</div><div id="correctCount" style="font-weight:800">0</div></div>
                <div style="flex:1"><div class="label muted">Wrong</div><div id="wrongCount" style="font-weight:800">0</div></div>
              </div>

              <div style="display:flex;gap:8px;margin-top:10px">
                <div style="flex:1"><div class="label muted">Attempted</div><div id="attemptedCount" style="font-weight:800">0</div></div>
                <div style="flex:1"><div class="label muted">Time</div><div id="timeSpent" style="font-weight:800">00:00</div></div>
              </div>

              <div style="margin-top:10px;display:flex;gap:8px">
                <button id="btnSave" class="btn">Save Result</button>
                <button id="btnExport" class="btn ghost">Export CSV</button>
              </div>
            </div>
          </aside>
        </div>
      </div>

    </div>
  </div>

  <!-- modal container -->
  <div id="modalRoot" style="display:none"></div>
  <!-- ðŸŸ¢ Supabase Connection Setup -->
<script>
const SUPABASE_URL = "https://kqfdyvqrhytbjyszsxmr.supabase.co"; // Supabase Project URL
const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtxZmR5dnFyaHl0Ymp5c3pzeG1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2NDkzNzQsImV4cCI6MjA4MDIyNTM3NH0.-WpfPxH7Q3xE5UF5448ERdsdSjYTiefF4nVymSM9cu0";
// Create Supabase client
const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
</script>
<script>const QUESTIONS = [
  {
    "q": "Environmental Studies mainly deals with:",
    "options": ["Space science", "Only animals", "Interaction of humans with environment", "Only plants"],
    "answer": 2,
    "explanation": "Environmental Studies focuses on the relationship between humans and the environment."
  },
  {
    "q": "Environmental Science mainly integrates:",
    "options": ["Engineering only", "Social sciences only", "Physical, chemical, biological sciences", "Medical sciences"],
    "answer": 2,
    "explanation": "It combines core sciences to understand environmental processes and problems."
  },
  {
    "q": "Environmental Engineering is concerned with:",
    "options": ["Theory of environment", "Improving environmental quality", "Climate study", "Forest management"],
    "answer": 1,
    "explanation": "It applies engineering and science to provide healthy living conditions."
  },
  {
    "q": "Importance of Environmental Studies includes:",
    "options": ["Economic growth only", "Industrial development", "Only pollution control", "Understanding surroundings"],
    "answer": 3,
    "explanation": "It provides basic knowledge of our environment and helps solve environmental problems."
  },
  {
    "q": "Environment is defined as:",
    "options": ["Only living beings", "Only physical factors", "Surroundings affecting living organisms", "Only air and water"],
    "answer": 2,
    "explanation": "Environment includes physical, biological, chemical and social factors."
  },
  {
    "q": "Natural environment consists of:",
    "options": ["Factories", "Cities and industries", "Agricultural fields", "Air, water, soil, forests"],
    "answer": 3,
    "explanation": "Natural environment exists without human modification."
  },
  {
    "q": "Anthropogenic environment refers to:",
    "options": ["Oceans", "Human-modified environment", "Natural forests", "Wildlife sanctuaries"],
    "answer": 1,
    "explanation": "It is created or altered by humans like farms and gardens."
  },
  {
    "q": "Lithosphere represents:",
    "options": ["Land part", "Water part", "Living part", "Air part"],
    "answer": 0,
    "explanation": "Lithosphere includes crust, mantle and core of Earth."
  },
  {
    "q": "Hydrosphere includes:",
    "options": ["Only rivers", "Only groundwater", "Only oceans", "All forms of water"],
    "answer": 3,
    "explanation": "It includes oceans, rivers, glaciers, groundwater and water vapour."
  },
  {
    "q": "Major gas in the atmosphere is:",
    "options": ["Argon", "Carbon dioxide", "Oxygen", "Nitrogen"],
    "answer": 3,
    "explanation": "Nitrogen forms about 78% of the atmosphere."
  },
  {
    "q": "Biosphere is also called:",
    "options": ["Atmosphere", "Ecosphere", "Lithosphere", "Hydrosphere"],
    "answer": 1,
    "explanation": "It includes all living organisms and their interactions."
  },
  {
    "q": "Sustainability means:",
    "options": ["Urban development", "Meeting present needs without harming future", "Economic growth", "Using resources fully"],
    "answer": 1,
    "explanation": "It ensures resources are conserved for future generations."
  },
  {
    "q": "Three pillars of sustainability are:",
    "options": ["Social, political, economic", "Industrial, economic, social", "Environmental, social, economic", "Only environmental"],
    "answer": 2,
    "explanation": "Balanced development requires all three pillars."
  },
  {
    "q": "Carrying capacity refers to:",
    "options": ["Birth rate", "Maximum population supported", "Population growth", "Death rate"],
    "answer": 1,
    "explanation": "It depends on food, water and environmental resources."
  },
  {
    "q": "Supporting capacity means:",
    "options": ["Waste discharge", "Regeneration capacity", "Pollution tolerance", "Energy use"],
    "answer": 1,
    "explanation": "It is the ability of environment to regenerate resources."
  },
  {
    "q": "Assimilative capacity means:",
    "options": ["Pollution tolerance", "Population control", "Resource creation", "Energy production"],
    "answer": 0,
    "explanation": "It is the ability to absorb environmental stress."
  },
  {
    "q": "Highest water consuming sector is:",
    "options": ["Municipal", "Power plants", "Industry", "Agriculture"],
    "answer": 3,
    "explanation": "Agriculture consumes the most water globally (approx 70%)."
  },
  {
    "q": "Over-exploitation of groundwater leads to:",
    "options": ["More rainfall", "Floods", "Lowering water table", "Rising water table"],
    "answer": 2,
    "explanation": "Excess withdrawal reduces groundwater levels."
  },
  {
    "q": "Meteorological drought occurs due to:",
    "options": ["Flood", "Less rainfall", "Low stream flow", "Low soil moisture"],
    "answer": 1,
    "explanation": "It is caused by prolonged rainfall deficiency."
  },
  {
    "q": "Hydrological drought is related to:",
    "options": ["Stream flow", "Rainfall", "Wind", "Soil moisture"],
    "answer": 0,
    "explanation": "It occurs when rivers and streams dry up."
  },
  {
    "q": "Agricultural drought is due to:",
    "options": ["Low soil moisture", "Low rainfall", "Floods", "Cyclones"],
    "answer": 0,
    "explanation": "It affects crop growth due to lack of soil moisture."
  },
  {
    "q": "One major disadvantage of dams is:",
    "options": ["Displacement of people", "Flood control", "Electricity generation", "Water storage"],
    "answer": 0,
    "explanation": "Large dams submerge forests and villages."
  },
  {
    "q": "Rainwater harvesting helps in:",
    "options": ["Soil erosion", "Water pollution", "Groundwater recharge", "Increasing runoff"],
    "answer": 2,
    "explanation": "It increases water table and reduces water scarcity."
  },
  {
    "q": "Watershed is:",
    "options": ["Desert region", "Area draining to a common point", "Forest area", "Urban land"],
    "answer": 1,
    "explanation": "It may range from small streams to large river basins."
  },
  {
    "q": "Soil is formed by:",
    "options": ["Volcanoes", "Weathering of rocks", "Erosion", "Floods"],
    "answer": 1,
    "explanation": "Physical, chemical and biological processes form soil."
  },
  {
    "q": "Pedology is the study of:",
    "options": ["Rocks", "Forests", "Water", "Soil"],
    "answer": 3,
    "explanation": "It studies soil in its natural environment."
  },
  {
    "q": "Soil erosion means:",
    "options": ["Increase fertility", "Soil formation", "Water retention", "Removal of top soil"],
    "answer": 3,
    "explanation": "Loss of fertile top soil reduces productivity."
  },
  {
    "q": "Desertification refers to:",
    "options": ["Flooding", "Forest growth", "Urbanization", "Land productivity loss"],
    "answer": 3,
    "explanation": "It degrades arid and semi-arid lands."
  },
  {
    "q": "Forest canopy cover above 70% is:",
    "options": ["Very dense forest", "Moderate forest", "Open forest", "Scrub land"],
    "answer": 0,
    "explanation": "Such forests have rich biodiversity."
  },
  {
    "q": "Mangrove forests grow in:",
    "options": ["Deserts", "Coastal areas", "Plains", "Mountains"],
    "answer": 1,
    "explanation": "They tolerate saline and fresh water conditions."
  },
  {
    "q": "Deforestation causes:",
    "options": ["Better climate", "Biodiversity loss", "Soil formation", "More rainfall"],
    "answer": 1,
    "explanation": "It destroys habitats and ecological balance."
  },
  {
    "q": "Coal is a:",
    "options": ["Non-renewable resource", "Clean fuel", "Renewable resource", "Biomass"],
    "answer": 0,
    "explanation": "Coal takes millions of years to form."
  },
  {
    "q": "Cleanest fossil fuel is:",
    "options": ["Lignite", "Petroleum", "Natural gas", "Coal"],
    "answer": 2,
    "explanation": "Natural gas produces least pollution."
  },
  {
    "q": "Nuclear energy is produced by:",
    "options": ["Combustion", "Evaporation", "Fusion only", "Fission only"],
    "answer": 3,
    "explanation": "Splitting of heavy nuclei releases energy."
  },
  {
    "q": "Hydroelectric power uses:",
    "options": ["Flowing water energy", "Wind energy", "Solar energy", "Nuclear energy"],
    "answer": 0,
    "explanation": "Water rotates turbines to generate electricity."
  },
  {
    "q": "Solar energy disadvantage is:",
    "options": ["High fuel cost", "Depends on sunlight", "Noise", "Pollution"],
    "answer": 1,
    "explanation": "Solar power works only when sunlight is available."
  },
  {
    "q": "Wind energy depends mainly on:",
    "options": ["Rainfall", "Humidity", "Wind speed", "Temperature"],
    "answer": 2,
    "explanation": "Higher wind speed gives higher power output."
  },
  {
    "q": "Which of the following is a strong acid?",
    "options": ["H2O", "HCl", "CH3COOH", "NH3"],
    "answer": 1,
    "explanation": "Hydrochloric acid (HCl) dissociates completely releasing H+ ions."
  },
  {
    "q": "What type of bond is formed between sodium and chlorine in NaCl?",
    "options": ["Covalent", "Metallic", "Ionic", "Hydrogen"],
    "answer": 2,
    "explanation": "Na gives electron to Cl forming ionic bond."
  },
  {
    "q": "pH value of a neutral solution at 25Â°C is:",
    "options": ["9", "8", "7", "6"],
    "answer": 2,
    "explanation": "Neutral water has pH = 7 at room temperature."
  },
  {
    "q": "Which gas is most responsible for greenhouse effect?",
    "options": ["N2", "H2", "O2", "CO2"],
    "answer": 3,
    "explanation": "Carbon dioxide traps heat in the atmosphere."
  },
  {
    "q": "Titration is used for:",
    "options": ["Measuring pH", "Evaporation", "Quantitative analysis", "Separation of mixtures"],
    "answer": 2,
    "explanation": "Used to find concentration of unknown solutions."
  },
  {
    "q": "Catalyst is a substance that:",
    "options": ["Speeds up reaction", "Stops reaction", "Changes product", "Slows reaction"],
    "answer": 0,
    "explanation": "Catalyst increases reaction rate without being consumed."
  },
  {
    "q": "Hard water contains:",
    "options": ["H+ ions", "Ca2+ and Mg2+ ions", "Na+ and NO3- ions", "Cl- ions"],
    "answer": 1,
    "explanation": "Calcium and magnesium cause water hardness."
  },
  {
    "q": "Which energy change occurs in endothermic reaction?",
    "options": ["Energy released", "Energy scattered", "No energy change", "Energy absorbed"],
    "answer": 3,
    "explanation": "Endothermic reactions absorb energy."
  },
  {
    "q": "Oxidation is:",
    "options": ["Gain of electrons", "Only combustion", "Loss of electrons", "Only heat release"],
    "answer": 2,
    "explanation": "Oxidation involves loss of electrons."
  },
  {
    "q": "Corrosion of iron can be prevented by:",
    "options": ["Heating", "Mixing with water", "Painting", "Freezing"],
    "answer": 2,
    "explanation": "Paint isolates iron from moisture and air."
  },
  {
    "q": "pH of strong base is:",
    "options": ["<7", "=7", ">7", "Cannot be determined"],
    "answer": 2,
    "explanation": "Strong bases produce high OH- so pH >7."
  },
  {
    "q": "Distillation is used for separation of:",
    "options": ["Solids from solids", "Gases", "Immiscible liquids", "Miscible liquids with different boiling points"],
    "answer": 3,
    "explanation": "Based on difference in boiling points."
  },
  {
    "q": "Which is a renewable energy source?",
    "options": ["Natural gas", "Petroleum", "Wind", "Coal"],
    "answer": 2,
    "explanation": "Wind energy is renewable and sustainable."
  },
  {
    "q": "Which instrument measures pH?",
    "options": ["Calorimeter", "Spectrometer", "pH meter", "Barometer"],
    "answer": 2,
    "explanation": "pH meter gives precise acidity/alkalinity reading."
  },
  {
    "q": "A buffer solution resists change in:",
    "options": ["Temperature", "Pressure", "Color", "pH"],
    "answer": 3,
    "explanation": "It stabilizes pH when small amounts of acid/base are added."
  },
{
    "q": "Who coined the term 'Oekologie' (Ecology) in the year 1866?",
    "options": ["Arthur Tansley", "Ernst Haeckel", "Claude Bernard", "Walter Bradford Cannon"],
    "answer": 1,
    "explanation": "The term Oekologie (Ecology) was coined by the German biologist Ernst Haeckel in 1866."
},
{
    "q": "Which branch of ecology deals with the study of a single species or organism?",
    "options": ["Synecology", "Autecology", "Community Ecology", "Biosphere Ecology"],
    "answer": 1,
    "explanation": "Autecology is defined as the study of single species or organisms, whereas Synecology is the study of multiple species or groups of organisms."
},
{
    "q": "Who first used the term 'Ecosystem' in 1935?",
    "options": ["Ernst Haeckel", "Charles Darwin", "Arthur Tansley", "E.P. Odum"],
    "answer": 2,
    "explanation": "The term Ecosystem was first used in 1935 in a publication by British ecologist Arthur Tansley."
},
{
    "q": "Which of the following is an example of a Chemo-autotroph?",
    "options": ["Green plants", "Nitrosomonas", "Fungi", "Zooplankton"],
    "answer": 1,
    "explanation": "Chemo-autotrophs include organisms like Nitrosomonas, Iron bacteria, and Methanogens."
},
{
    "q": "Which abiotic component relates to soil type and soil moisture?",
    "options": ["Climatic", "Edaphic", "Geographic", "Biotic"],
    "answer": 1,
    "explanation": "Edaphic factors refer to soil-related components such as soil type, soil moisture, and soil reaction."
},
{
    "q": "A Detritus food chain begins with:",
    "options": ["Living green plants", "Solar energy", "Dead organic matter", "Herbivores"],
    "answer": 2,
    "explanation": "Energy flow in a detritus food chain begins with dead organic matter broken down by decomposers."
},
{
    "q": "What does the 'Pyramid of Energy' depict?",
    "options": ["The number of organisms at each level", "The biomass standing crop", "The rate at which food is produced", "The inverse relationship of parasites"],
    "answer": 2,
    "explanation": "The Pyramid of Energy depicts the rate at which food is being produced and is always upright."
},
{
    "q": "Which energy flow model is known as the 'double channel' or 'Y-shaped' model?",
    "options": ["Universal energy flow model", "Single channel energy flow model", "Two-channel energy flow model", "Biogeochemical cycle model"],
    "answer": 2,
    "explanation": "The Y-shaped or 2-channel energy flow model shows energy flowing through both the grazing food chain and the detritus food chain."
},
{
    "q": "Which of the following is classified as a Sedimentary Cycle?",
    "options": ["Nitrogen Cycle", "Carbon Cycle", "Phosphorus Cycle", "Oxygen Cycle"],
    "answer": 2,
    "explanation": "The Phosphorus Cycle and Sulphur Cycle are classified as Sedimentary Cycles."
},
{
    "q": "Homeostasis refers to:",
    "options": ["The tendency to change with the environment", "The tendency to maintain a stable internal environment", "The rapid evolution of a species", "The migration of species"],
    "answer": 1,
    "explanation": "Homeostasis is the tendency to maintain a stable, relatively constant internal environment."
},
{
    "q": "Which feedback mechanism is responsible for the sudden appearance of rapid changes within an ecosystem?",
    "options": ["Negative feedback", "Positive feedback", "Neutral feedback", "Homeostatic loop"],
    "answer": 1,
    "explanation": "Positive feedback stimulates change and is responsible for the sudden appearance of rapid changes within ecosystems."
},
{
    "q": "What is the first community to inhabit a bare area called?",
    "options": ["Climax community", "Intermediate species", "Pioneer community", "Seral stage"],
    "answer": 2,
    "explanation": "Primary succession starts with a Pioneer Species (or community) on a new habitat like bare rock."
},
{
    "q": "Secondary succession occurs on:",
    "options": ["Bare rocks", "Newly formed sand dunes", "Volcanic lava", "Previously colonized but disturbed land"],
    "answer": 3,
    "explanation": "Secondary succession takes place on a previously colonized, but disturbed or damaged habitat."
},
{
    "q": "Succession initiating in a dry area is known as:",
    "options": ["Hydrarch", "Mesarch", "Xerarch", "Halosere"],
    "answer": 2,
    "explanation": "Xerarch or Xerosere refers to succession occurring on dry lands."
},
{
    "q": "In the process of succession, 'Nudation' refers to:",
    "options": ["The arrival of seeds", "The formation of a bare area", "Competition between species", "Stabilization of the community"],
    "answer": 1,
    "explanation": "Nudation is the formation of a bare area by reasons such as volcanic eruption or flooding."
},
{
    "q": "Which layer of the Tropical Rain Forest contains the tallest trees that rise above the rest?",
    "options": ["Canopy", "Understory", "Forest Floor", "Emergent Layer"],
    "answer": 3,
    "explanation": "The Emergent Layer is the top layer, followed by the Canopy, Understory, and Forest Floor."
},
{
    "q": "Which type of forest is found on the eastern slopes of the Western Ghats and sheds leaves for a specific period?",
    "options": ["Tropical Rain Forest", "Tropical Deciduous Forest", "Temperate Rain Forest", "Evergreen Coniferous Forest"],
    "answer": 1,
    "explanation": "Tropical Deciduous Forests are found on the eastern slopes of Western Ghats and shed their leaves for a particular period."
},
{
    "q": "Permafrost is a characteristic feature of which ecosystem?",
    "options": ["Tropical Desert", "Polar Grassland (Tundra)", "Temperate Deciduous Forest", "Savanna"],
    "answer": 1,
    "explanation": "Permafrost is soil or rock frozen for more than two consecutive years, found in Polar Grasslands (Arctic Tundra)."
},
{
    "q": "The 'Limnetic Zone' in a lake ecosystem refers to:",
    "options": ["The bottom mud layer", "The open water zone", "The shallow water near the shore", "The dark deep zone"],
    "answer": 1,
    "explanation": "The Limnetic Zone refers to the open water, while the Littoral Zone is the shore area."
},
{
    "q": "Which term describes a lake with high nutrient content?",
    "options": ["Oligotrophic", "Eutrophic", "Dystrophic", "Mermictic"],
    "answer": 1,
    "explanation": "Eutrophic lakes have high nutrient content, while Oligotrophic lakes have low nutrient content."
},
  {
    "q": "Which of the following is considered a 'Geographic' abiotic component of an ecosystem?",
    "options": ["Temperature", "Soil moisture", "Latitude", "pH"],
    "answer": 2,
    "explanation": "Geographic abiotic components include Latitude, Longitude, and Altitude."
  },
  {
    "q": "The inter-linkage between different food chains in an ecosystem is known as:",
    "options": ["Trophic level", "Food web", "Energy pyramid", "Biomass cycle"],
    "answer": 1,
    "explanation": "A Food Web is defined as the inter-linkage between different food chains."
  },
  {
    "q": "Which ecological pyramid depicts the quantitative relationships of standing crops?",
    "options": ["Pyramid of Numbers", "Pyramid of Energy", "Pyramid of Biomass", "Pyramid of Species"],
    "answer": 2,
    "explanation": "The Pyramid of Biomass depicts the quantitative relationships of the standing crops rather than geometric factors."
  },
  {
    "q": "Energy flow in an environment is always:",
    "options": ["Multi-directional", "Uni-directional", "Cyclic", "Reversible"],
    "answer": 1,
    "explanation": "Energy flow in the environment is uni-directional, moving from producers to consumers and eventually lost as heat."
  },
  {
    "q": "Which of the following is an example of a Gaseous Biogeochemical Cycle?",
    "options": ["Phosphorus Cycle", "Sulphur Cycle", "Nitrogen Cycle", "Sedimentary Cycle"],
    "answer": 2,
    "explanation": "Gaseous cycles include Carbon, Nitrogen, Oxygen, and the Hydrological Cycle."
  },
  {
    "q": "Secondary production in an ecosystem refers to:",
    "options": ["Biomass production by photosynthesis", "Biomass production by consuming producers", "Production of inorganic nutrients", "Decomposition of organic matter"],
    "answer": 1,
    "explanation": "Secondary production is defined as biomass production by consuming producers."
  },
  {
    "q": "In the process of ecological succession, 'Reaction' refers to:",
    "options": ["The arrival of new species", "The formation of bare rock", "The modification of the environment by living organisms", "The final stabilization of the community"],
    "answer": 2,
    "explanation": "Reaction is the modification of the environment through the influence of the living organisms present on it, causing changes in soil and temperature."
  },
  {
    "q": "The final, stabilized community in ecological succession is called the:",
    "options": ["Pioneer community", "Seral community", "Climax community", "Intermediate community"],
    "answer": 2,
    "explanation": "The final or terminal community that becomes more or less stabilized for a long period is called the Climax Community."
  },
  {
    "q": "Ecological succession that occurs in a pond, swamp, or bog is termed:",
    "options": ["Xerarch", "Lithosere", "Hydrarch", "Psammosere"],
    "answer": 2,
    "explanation": "Hydrarch or Hydrosere refers to succession that takes place in wet areas like ponds, swamps, or bogs."
  },
  {
    "q": "In an aquatic ecosystem, active swimmers like fishes are classified as:",
    "options": ["Planktons", "Nektons", "Neustons", "Benthos"],
    "answer": 1,
    "explanation": "Nektons are organisms that are active swimmers, such as fishes, in an aquatic ecosystem."
  },
  {
    "q": "Which of the following is an example of a Cold Desert?",
    "options": ["Sahara", "Thar", "Gobi", "Mojave"],
    "answer": 2,
    "explanation": "The Gobi desert is an example of a Cold Desert, which occurs in temperate regions at higher latitudes."
  },
  {
    "q": "Oxbow lakes are a characteristic feature of which stage of a stream?",
    "options": ["Mountain highland", "Youthful stream", "Mature stream", "Old age stream"],
    "answer": 3,
    "explanation": "Oxbow lakes are associated with the 'Old age stream' or the third phase of a river's ecosystem."
  },
  {
    "q": "In which type of forest do trees change color and lose their leaves during the fall?",
    "options": ["Tropical Rain Forest", "Temperate Deciduous Forest", "Evergreen Coniferous Forest", "Sub-Tropical Forest"],
    "answer": 1,
    "explanation": "In Temperate Deciduous Forests, trees change color and lose their leaves during the fall season."
  },
  {
    "q": "Organisms that are bottom dwellers in an aquatic ecosystem are called:",
    "options": ["Periphytons", "Planktons", "Benthos", "Nektons"],
    "answer": 2,
    "explanation": "Benthos are organisms defined as bottom dwellers, such as snails."
  },
  {
    "q": "Which zone of the ocean is characterized by abundant sunlight and high photosynthetic activity?",
    "options": ["Bathyal zone", "Abyssal zone", "Euphotic zone", "Benthic zone"],
    "answer": 2,
    "explanation": "The Euphotic zone in the open sea is characterized by abundant sunlight and high photosynthetic activity."
  },
  {
    "q": "The term 'Biodiversity' was coined by whom in the year 1985?",
    "options": ["Lovejoy", "Walter G Rosen", "Ernst Haeckel", "Norman Myers"],
    "answer": 1,
    "explanation": "Walter G Rosen coined the term biodiversity in 1985. It is a compound word for 'Biological Diversity'."
  },
  {
    "q": "Who introduced the term 'Biological Diversity' in 1980?",
    "options": ["Walter G Rosen", "Arthur Tansley", "Lovejoy", "E.P. Odum"],
    "answer": 2,
    "explanation": "Lovejoy introduced the term 'Biological Diversity' in 1980 to express the number of species present in a community."
  },
  {
    "q": "Where was the Convention on Biological Diversity (1992) held?",
    "options": ["Stockholm Conference", "Rio Earth Summit", "Paris Agreement", "Kyoto Protocol"],
    "answer": 1,
    "explanation": "The Convention on Biological Diversity (1992) took place at the Rio Earth Summit."
  },
  {
    "q": "India accounts for approximately what percentage of the world's recorded species?",
    "options": ["2.4%", "7-8%", "10-12%", "15%"],
    "answer": 1,
    "explanation": "India accounts for 7-8% of all recorded species with only 2.4% of the world's land area."
  },
  {
    "q": "How many Mega-biodiverse countries were identified by Conservation International in 1998?",
    "options": ["10", "12", "18", "34"],
    "answer": 2,
    "explanation": "Conservation International identified 18 mega-diverse countries in 1998, which contain more than 70% of the earth's biodiversity."
  },
  {
    "q": "Which country is home to the greatest number of reptiles, with 755 species?",
    "options": ["Brazil", "Australia", "India", "Mexico"],
    "answer": 1,
    "explanation": "Australia has the greatest number of reptiles of any country, with 755 species."
  },
  {
    "q": "Into how many Bio-geographic regions is India divided?",
    "options": ["5", "8", "10", "12"],
    "answer": 2,
    "explanation": "India is divided into 10 Bio-geographic regions, including Himalayas, Desert, Western Ghats, etc."
  },
  {
    "q": "Which of the following is NOT one of the 10 Bio-geographic zones of India?",
    "options": ["Trans-Himalayan", "Semi-Arid", "Gangetic plain", "Amazon Basin"],
    "answer": 3,
    "explanation": "Amazon Basin is in South America. The Indian zones include Trans-Himalayan, Desert, Western Ghats, Gangetic plain, etc."
  },
  {
    "q": "Variations among the genes of the same species are known as:",
    "options": ["Species diversity", "Genetic diversity", "Ecosystem diversity", "Habitat diversity"],
    "answer": 1,
    "explanation": "Genetic diversity refers to variations among the genes of the same species, such as different varieties of rice or mangoes."
  },
  {
    "q": "Diversity arising due to variations among species present in specific areas is called:",
    "options": ["Genetic diversity", "Species diversity", "Cultural diversity", "Climatic diversity"],
    "answer": 1,
    "explanation": "Species diversity is defined as the diversity which arises due to variations among species present in specific areas."
  },
  {
    "q": "About what percentage of the world population depends upon plants for medicines?",
    "options": ["25%", "50%", "75%", "90%"],
    "answer": 2,
    "explanation": "About 75% of the world population depends upon different plants or plant extracts for medicines."
  },
  {
    "q": "Who proposed the concept of Biodiversity Hotspots in 1988?",
    "options": ["Walter G Rosen", "Norman Myers", "Charles Darwin", "Rachel Carson"],
    "answer": 1,
    "explanation": "The concept of Biodiversity Hotspots was given by Sir Norman Myers in the year 1988."
  },
  {
    "q": "Which of the following is a criterion for identifying a Biodiversity Hotspot?",
    "options": ["Large land area", "Low species count", "Endemism and degree of threat", "Presence of large mammals"],
    "answer": 2,
    "explanation": "Biodiversity hotspots are identified based on the number of species present, endemism, and the degree of threat they face."
  },
  {
    "q": "Which of the following is listed as a Biodiversity Hotspot in India?",
    "options": ["Thar Desert", "Western Ghats", "Gangetic Plains", "Deccan Plateau"],
    "answer": 1,
    "explanation": "The Western Ghats is one of the identified biodiversity hotspots in India, along with the Himalayas, Indo-Burma, and Sundaland."
  },
  {
    "q": "Which organization established the Red Data Book?",
    "options": ["WWF", "UNESCO", "IUCN", "UNEP"],
    "answer": 2,
    "explanation": "The Red Data Book is the document established by the International Union for Conservation of Nature (IUCN)."
  },
  {
    "q": "In the Red Data Book, what does the color 'Red' represent?",
    "options": ["Extinct species", "Critically Endangered Species", "Vulnerable Species", "Rare species"],
    "answer": 1,
    "explanation": "The color Red represents Critically Endangered Species. Black represents Extinct, and Orange represents Endangered."
  },
  {
    "q": "Species confined to a particular region and not found anywhere else are called:",
    "options": ["Endangered species", "Vulnerable species", "Endemic species", "Exotic species"],
    "answer": 2,
    "explanation": "Endemic species are those confined to a particular region and having originated there."
  },
  {
    "q": "In-situ conservation refers to:",
    "options": ["Protection in a zoo", "Protection in a botanical garden", "Protection in natural habitat", "Seed banks"],
    "answer": 2,
    "explanation": "In-situ Conservation is the protection of species in their natural habitat, such as National Parks."
  },
  {
    "q": "Which of the following is strictly prohibited in a National Park?",
    "options": ["Tourism", "Grazing of domestic animals", "Photography", "Research"],
    "answer": 1,
    "explanation": "In National Parks, all private rights are non-existent and activities such as grazing of domestic animals are prohibited."
  },
  {
    "q": "Which zone of a Biosphere Reserve allows limited human activities like research and education?",
    "options": ["Core zone", "Buffer zone", "Transition zone", "Restoration zone"],
    "answer": 1,
    "explanation": "The Buffer zone allows limited human activities like research, education, and research strategy."
  },
  {
    "q": "What is the Transition zone in a Biosphere Reserve used for?",
    "options": ["Strict protection only", "Research only", "Human settlements and cropping", "Restoring degraded areas"],
    "answer": 2,
    "explanation": "The Transition zone allows several human activities like settlements, cropping, recreation, and forestry."
  },
  {
    "q": "Which of the following is an example of Ex-situ conservation?",
    "options": ["National Park", "Wildlife Sanctuary", "Biosphere Reserve", "Botanical Garden"],
    "answer": 3,
    "explanation": "Botanical Gardens, Zoos, and Aquaria are examples of Ex-situ conservation, where protection occurs away from the natural habitat."
  },
  {
    "q": "Which technique is used for asexual propagation of plants in Ex-situ conservation?",
    "options": ["Hybridization", "Tissue Culture", "Grafting", "Layering"],
    "answer": 1,
    "explanation": "Tissue Culture is a technique used for asexual propagation where a small piece of plant is cultured in a sterile environment."
  },
  {
    "q": "What is a major disadvantage of Ex-situ conservation for animals?",
    "options": ["Animals are not protected from poachers", "Animals may not behave normally", "It requires very large areas", "It prevents evolution"],
    "answer": 1,
    "explanation": "A disadvantage is that animals may not behave as normal, making reproduction difficult, and may not survive reintroduction."
  },
  {
    "q": "Which of the following is a cause of Man-wildlife conflict?",
    "options": ["Abundance of food", "Expansion of forest cover", "Shrinkage of habitat", "Decrease in human population"],
    "answer": 2,
    "explanation": "Causes of Man-animal conflicts include shrinkage of habitat, food scarcity, and man-eating tendency."
  },
  {
    "q": "India ranks at what position among the plant-rich countries of the world?",
    "options": ["1st", "6th", "10th", "12th"],
    "answer": 2,
    "explanation": "India ranks 10th among the plant-rich countries of the world."
  },
  {
    "q": "Which country possesses 1/10th of the world's total species?",
    "options": ["Colombia", "Brazil", "China", "Indonesia"],
    "answer": 1,
    "explanation": "Brazil contains 1/10th of the world's species, including 55,000 plant species and 103,870 animal species."
  },
  {
    "q": "How many Phyto-Geographical regions is India divided into based on flora?",
    "options": ["6", "9", "10", "12"],
    "answer": 1,
    "explanation": "India has been divided into 9 Phyto-Geographical regions, such as the Western Himalayas, Gangetic Plains, etc."
  },
  {
    "q": "Which type of diversity refers to the variety of ecosystems within a biogeographical boundary?",
    "options": ["Genetic Diversity", "Species Diversity", "Ecosystem Diversity", "Functional Diversity"],
    "answer": 2,
    "explanation": "Ecosystem diversity refers to the diversity of habitats and ecosystems found within a biogeographical or political boundary."
  },
  {
    "q": "Which of the following represents the 'Aesthetic Value' of biodiversity?",
    "options": ["Prevention of soil erosion", "Production of silk and wool", "Eco-tourism", "Carbon sinks"],
    "answer": 2,
    "explanation": "Eco-tourism, where people visit wilderness areas for pleasure, represents the aesthetic value of biodiversity."
  },
  {
    "q": "According to the document, how many Biodiversity Hotspots are there in the world?",
    "options": ["18", "25", "34", "50"],
    "answer": 2,
    "explanation": "There are a total of 34 Biodiversity Hotspots in the world (though the list shows 36, the text explicitly states 34)."
  },
  {
    "q": "Which Indian Biodiversity Hotspot includes the Nicobar Islands?",
    "options": ["The Himalayas", "Western Ghats", "Indo-Burma", "Sundaland"],
    "answer": 3,
    "explanation": "Sundaland covers the Nicobar Islands."
  },
  {
    "q": "In the IUCN Red Data Book, what does the color 'Black' represent?",
    "options": ["Endangered species", "Vulnerable species", "Extinct species", "Rare species"],
    "answer": 2,
    "explanation": "The color Black represents Extinct species in the Red Data Book."
  },
  {
    "q": "Which color code in the Red Data Book indicates 'Out of Danger' species?",
    "options": ["White", "Green", "Amber", "Grey"],
    "answer": 1,
    "explanation": "The color Green represents 'Out of Danger' species."
  },
  {
    "q": "Which of the following is an example of a 'Vulnerable' species in India?",
    "options": ["Black buck", "Asiatic elephant", "House sparrow", "Red panda"],
    "answer": 2,
    "explanation": "The House sparrow, along with the Sarus crane and Great Indian bustard, is listed as a Vulnerable species in India."
  },
  {
    "q": "What defines 'Rare Species' according to the text?",
    "options": ["Species that are extinct in the wild", "Species with small populations that are uncommon or scarce", "Species found only in zoos", "Species that are widely distributed"],
    "answer": 1,
    "explanation": "Rare species are groups of organisms that are very uncommon, scarce, or infrequently encountered, like the Red panda."
  },
  {
    "q": "How many bird species are estimated to be found in India?",
    "options": ["500", "900", "1,317", "2,000"],
    "answer": 2,
    "explanation": "The number of bird species in India is listed as 1,317."
  },
  {
    "q": "What does the term 'EDGE species' stand for?",
    "options": ["Endangered Domestically and Globally Extinct", "Evolutionarily Distinct and Globally Endangered", "Ecologically Diverse and Genetically Evolved", "Environmentally Damaged and Globally Extinct"],
    "answer": 1,
    "explanation": "EDGE stands for Evolutionarily Distinct and Globally Endangered species."
  },
  {
    "q": "How many National Parks are there in India according to the document?",
    "options": ["85", "96", "106", "120"],
    "answer": 2,
    "explanation": "There are 106 national parks in India."
  },
  {
    "q": "How many Wildlife Sanctuaries are there in India?",
    "options": ["450", "500", "573", "600"],
    "answer": 2,
    "explanation": "In India, there are about 573 wildlife sanctuaries."
  },
  {
    "q": "Which conservation zone allows restoration activities to return degraded areas to their natural form?",
    "options": ["Core zone", "Transition zone", "Restoration zone", "Tourism zone"],
    "answer": 2,
    "explanation": "The Restoration zone is a selected degraded area where activities are carried out to restore it to its natural form."
  },
  {
    "q": "How many Biosphere Reserves are there in India?",
    "options": ["10", "12", "18", "25"],
    "answer": 2,
    "explanation": "There are 18 biosphere reserves in India."
  },
  {
    "q": "Which of the following is NOT an advantage of In-situ conservation?",
    "options": ["Maintains ecological integrity", "Cheaper way of conservation", "Protection from pollution", "Potential for evolution"],
    "answer": 2,
    "explanation": "A disadvantage of In-situ conservation is that it offers less protection against pollution."
  },
  {
    "q": "How many Botanical Gardens are mentioned in the document for Ex-situ conservation?",
    "options": ["50", "100", "122", "150"],
    "answer": 2,
    "explanation": "The document lists 122 Botanical Gardens under Ex-situ conservation."
  },
  {
    "q": "Which animal is cited as a notable man-eater in Corbett National Park?",
    "options": ["Tiger", "Lion", "Leopard", "Elephant"],
    "answer": 2,
    "explanation": "Corbett National Park is famous for notable man-eater leopards, responsible for at least 400 attacks."
  },
  {
    "q": "What is a major cause of the Black buck's decline?",
    "options": ["Competition with domestic cattle", "Destruction of dense forests", "Poaching and destruction of open plain habitat", "Flooding"],
    "answer": 2,
    "explanation": "The existence of the black buck is restricted due to large-scale poaching and destruction of habitat (open plains)."
  },
  {
    "q": "The undesirable change in the physico-chemical or biological properties of the environment is defined as:",
    "options": ["Ecosystem regulation", "Pollution", "Biomagnification", "Homeostasis"],
    "answer": 1,
    "explanation": "Pollution is defined as the undesirable change in the physical-chemical or biological properties of the environment that may have harmful effects."
  },
  {
    "q": "Which of the following is an example of a biodegradable pollutant?",
    "options": ["Plastic", "DDT", "Domestic sewage", "Heavy metals"],
    "answer": 2,
    "explanation": "Biodegradable pollutants are non-persistent, such as domestic sewage, whereas plastics and heavy metals are non-biodegradable."
  },
  {
    "q": "Which gas is formed from incomplete combustion and causes Carboxyhaemoglobinemia?",
    "options": ["Carbon dioxide", "Carbon monoxide", "Sulphur dioxide", "Nitrogen dioxide"],
    "answer": 1,
    "explanation": "Carbon monoxide is produced by incomplete combustion and causes Carboxyhaemoglobinemia by reducing oxygen capacity in blood."
  },
  {
    "q": "Pollutants that are produced from chemical reactions involving primary pollutants are called:",
    "options": ["Secondary pollutants", "Tertiary pollutants", "Particulate matter", "Natural pollutants"],
    "answer": 0,
    "explanation": "Secondary pollutants are produced from chemical reactions involving primary pollutants. Examples include Ozone and Photochemical smog."
  },
  {
    "q": "Which air pollutant is responsible for the 'bleaching of leaf pigment' in plants?",
    "options": ["Nitrogen dioxide", "Ozone", "Sulphur dioxide (SOx)", "Carbon monoxide"],
    "answer": 2,
    "explanation": "Bleaching of the leaf pigment is caused by Sulphur oxides (SOx), while NOx causes the development of necrotic spots."
  },
  {
    "q": "Which of the following is a major indoor air pollutant often found in basements?",
    "options": ["Radon", "Oxygen", "Nitrogen", "Argon"],
    "answer": 0,
    "explanation": "Major indoor air pollutants include Carbon monoxide, tobacco smoke, and Radon, along with molds and solvents."
  },
  {
    "q": "According to the EPA Air Quality Index (AQI), a value between 301-500 is classified as:",
    "options": ["Good", "Moderate", "Unhealthy", "Hazardous"],
    "answer": 3,
    "explanation": "An AQI value between 301 and 500 is classified as Hazardous, representing a severe health warning."
  },
  {
    "q": "In fireworks, fumes of which metal are known to cause 'Metal Fume Fever'?",
    "options": ["Lead", "Copper", "Magnesium", "Cadmium"],
    "answer": 2,
    "explanation": "Magnesium and Zinc fumes from fireworks can cause metal fume fever. Copper causes respiratory irritation."
  },
  {
    "q": "Water pollution from 'Surface run-off' is classified as:",
    "options": ["Point source", "Non-point source", "Industrial source", "Thermal source"],
    "answer": 1,
    "explanation": "Surface run-off is a non-point source as pollutants enter from scattered sources, unlike point sources like factory discharge pipes."
  },
  {
    "q": "High Biochemical Oxygen Demand (BOD) in water indicates:",
    "options": ["High dissolved oxygen", "Low level of organic waste", "Depletion of oxygen", "Safe drinking water"],
    "answer": 2,
    "explanation": "High BOD implies high organic waste decomposed by bacteria, which deplete the oxygen and cause the death of fish."
  },
  {
    "q": "Eutrophication is primarily caused by an excess of which nutrients?",
    "options": ["Iron and Calcium", "Nitrogen and Phosphorus", "Sulphur and Carbon", "Potassium and Magnesium"],
    "answer": 1,
    "explanation": "Inorganic nutrients like Nitrogen and Phosphorus from fertilizers cause algal blooms, leading to Eutrophication."
  },
  {
    "q": "Which disease is caused by Mercury contamination in water?",
    "options": ["Blue Baby Syndrome", "Black Foot Disease", "Minamata Disease", "Itai-Itai Disease"],
    "answer": 2,
    "explanation": "Mercury causes Minamata disease. Nitrates cause Blue Baby Syndrome, and Cadmium causes Itai-Itai Disease."
  },
  {
    "q": "The 'Blue Baby' syndrome is caused by the presence of excess ______ in drinking water.",
    "options": ["Chlorides", "Nitrates", "Fluorides", "Arsenic"],
    "answer": 1,
    "explanation": "Nitrates restrict the oxygen supply in the brain and cause the 'blue baby' syndrome."
  },
  {
    "q": "Biomagnification refers to:",
    "options": ["Decomposition of pollutants", "Increase in pollutant concentration up the food chain", "Dilution of pollutants in water", "Filtering of pollutants by plants"],
    "answer": 1,
    "explanation": "Biomagnification is the increase in concentration of a substance, such as a pesticide, as it moves up the food chain."
  },
  {
    "q": "In wastewater treatment, 'Trickling filters' and 'Activated sludge process' are part of:",
    "options": ["Primary treatment", "Secondary treatment", "Tertiary treatment", "Disposal"],
    "answer": 1,
    "explanation": "Secondary treatment involves biological processes like Trickling filters and the Activated sludge process."
  },
  {
    "q": "Thermal pollution leads to which of the following changes in aquatic bodies?",
    "options": ["Increase in dissolved oxygen", "Decrease in dissolved oxygen", "Decrease in metabolic activities", "Formation of ice"],
    "answer": 1,
    "explanation": "Thermal pollution decreases the dissolved oxygen content of water and increases the metabolic activities of aquatic organisms."
  },
  {
    "q": "About what percentage of marine pollution originates from land-based activities?",
    "options": ["20%", "40%", "60%", "80%"],
    "answer": 3,
    "explanation": "Approximately 80% of the pollution in oceans originates on land and is caused by humans."
  },
  {
    "q": "The term 'Garbage' specifically refers to:",
    "options": ["Non-combustible waste", "Putrescible solid waste", "Electronic waste", "Construction debris"],
    "answer": 1,
    "explanation": "Garbage refers to putrescible solid waste that contains organic matter capable of being decomposed, unlike rubbish."
  },
  {
    "q": "Solid Waste Management (SWM) is described as a three-step process consisting of:",
    "options": ["Collection, Transportation, Disposal", "Reduce, Reuse, Recycle", "Burning, Burying, Dumping", "Storage, Processing, Energy"],
    "answer": 0,
    "explanation": "SWM is a three-step process: Collection of solid waste, Transportation of solid waste, and Disposal of solid waste."
  },
  {
    "q": "In a sanitary landfill, which gas is produced that can be converted into electricity?",
    "options": ["Oxygen", "Nitrogen", "Methane", "Chlorine"],
    "answer": 2,
    "explanation": "Landfill gas (Methane) is produced in sanitary landfills and can be captured for electricity conversion."
  },
  {
    "q": "Incineration involves burning waste at temperatures greater than:",
    "options": ["100Â°C", "500Â°C", "850Â°C", "1500Â°C"],
    "answer": 2,
    "explanation": "Incineration is the burning of waste at very high temperatures, typically greater than 850Â°C."
  },
  {
    "q": "Noise pollution is generally considered harmful when it exceeds:",
    "options": ["25 dB", "45 dB", "65 dB", "75 dB"],
    "answer": 3,
    "explanation": "Noise is considered harmful when it exceeds 75 dB, though noise above 65 dB is defined as noise pollution."
  },
  {
    "q": "What is the day-time noise limit for a Residential area in India?",
    "options": ["75 dB", "65 dB", "55 dB", "50 dB"],
    "answer": 2,
    "explanation": "For a Residential area, the day-time noise limit is 55 dB, and the night-time limit is 45 dB."
  },
  {
    "q": "The unit 'Rem' (Roentgen equivalent man) is used to measure:",
    "options": ["Sound pressure", "Radioactive exposure", "Air quality", "Water turbidity"],
    "answer": 1,
    "explanation": "The unit of radioactive exposure is Rem (Roentgen equivalent man)."
  },
  {
    "q": "Which type of effect from radiation pollution involves changes in DNA?",
    "options": ["Somatic Effects", "Genetic Effects", "Thermal Effects", "Auditory Effects"],
    "answer": 1,
    "explanation": "Genetic Effects involve changes in DNA, leading to abnormal children and infant mortality, unlike somatic effects which affect body cells."
  },
  {
    "q": "Which of the following is considered a 'Primary Pollutant'?",
    "options": ["Ozone", "Sulphur dioxide", "PAN", "Sulphuric acid"],
    "answer": 1,
    "explanation": "Primary pollutants are released directly from a source, such as Sulphur dioxide (SO2) and Carbon monoxide. Ozone and PAN are secondary pollutants."
  },
  {
    "q": "Which air pollution control device uses a high-voltage transformer to charge and collect particulate matter?",
    "options": ["Cyclone Separator", "Venturi Scrubber", "Electrostatic Precipitator", "Bag House Filter"],
    "answer": 2,
    "explanation": "Electrostatic Precipitators use a high-voltage transformer-rectifier to charge particles, which are then attracted to grounded collecting surfaces."
  },
  {
    "q": "For active fish species, the required Dissolved Oxygen (DO) level in water is:",
    "options": ["1-2 mg/L", "3 mg/L", "5-8 mg/L", "Above 15 mg/L"],
    "answer": 2,
    "explanation": "Active fish species require a Dissolved Oxygen (DO) level of 5-8 mg/L to survive."
  },
  {
    "q": "Which disease is associated with Cadmium pollution in water?",
    "options": ["Minamata Disease", "Itai-Itai Disease", "Blue Baby Syndrome", "Fluorosis"],
    "answer": 1,
    "explanation": "Cadmium pollution is responsible for Itai-Itai Disease. Mercury causes Minamata, and Nitrates cause Blue Baby Syndrome."
  },
  {
    "q": "Black Foot Disease is caused by chronic exposure to which element?",
    "options": ["Lead", "Mercury", "Arsenic", "Fluoride"],
    "answer": 2,
    "explanation": "Arsenic contamination causes liver damage, skin cancer, and vascular diseases known as Black Foot Disease."
  },
  {
    "q": "In the context of solid waste, 'Rubbish' refers to:",
    "options": ["Putrescible organic waste", "Non-putrescible solid waste", "Human excreta", "Radioactive waste"],
    "answer": 1,
    "explanation": "Rubbish is defined as non-putrescible solid waste constituents, which can be combustible (paper, wood) or non-combustible (glass, metal)."
  },
  {
    "q": "Which term describes the modification of the environment by living organisms in ecological succession?",
    "options": ["Nudation", "Migration", "Reaction", "Stabilization"],
    "answer": 2,
    "explanation": "Reaction is the modification of the environment through the influence of living organisms, such as changes in soil or temperature."
  },
  {
    "q": "Which of the following is an example of 'Pathological Waste'?",
    "options": ["Paper and plastic", "Meat, hair, and bones", "Fly ash", "Radioactive isotopes"],
    "answer": 1,
    "explanation": "Pathological waste includes anatomical wastes such as meat, hair, bones, skin, and excreta."
  },
  {
    "q": "What is the primary function of a 'Transfer Station' in solid waste management?",
    "options": ["To incinerate waste", "To reduce transportation costs", "To compost organic waste", "To generate electricity"],
    "answer": 1,
    "explanation": "Transfer stations are used to transfer waste from smaller collection vehicles to larger ones, reducing overall transportation costs and vehicular emissions."
  },
  {
    "q": "Which method of disposal involves the use of earthworms to decompose organic waste?",
    "options": ["Sanitary Landfill", "Incineration", "Vermicomposting", "Ocean dumping"],
    "answer": 2,
    "explanation": "Vermicomposting utilizes earthworms to break down biodegradable waste into nutrient-rich manure."
  },
  {
    "q": "The noise limit for a 'Silence Zone' during the day is:",
    "options": ["75 dB", "65 dB", "55 dB", "50 dB"],
    "answer": 3,
    "explanation": "According to the CPCB, the noise limit for Silence zones is 50 dB during the day and 40 dB at night."
  },
  {
    "q": "The threshold of pain for human hearing is approximately:",
    "options": ["80 dB", "100 dB", "120 dB", "130 dB"],
    "answer": 3,
    "explanation": "The threshold of pain for noise is considered to be 130 dB."
  },
  {
    "q": "Which radioactive isotope has a half-life of 2.34 x 10^7 years?",
    "options": ["Radon-222", "Bismuth-209", "Uranium-235", "Carbon-14"],
    "answer": 2,
    "explanation": "Uranium-235 has a half-life of approximately 2.34 x 10^7 years."
  },
  {
    "q": "Cosmic rays from outer space are an example of:",
    "options": ["Anthropogenic radiation", "Natural radiation", "Thermal pollution", "Non-ionizing radiation"],
    "answer": 1,
    "explanation": "Cosmic rays from outer space are classified as a natural source of radiation pollution."
  },
  {
    "q": "Which gas is primarily responsible for the development of necrotic spots on leaves?",
    "options": ["SO2", "NOx", "CO2", "O3"],
    "answer": 1,
    "explanation": "Nitrogen oxides (NOx) cause the development of necrotic spots on plant leaves, while SOx causes bleaching."
  },
  {
    "q": "What is the 'Break Even' point in the context of solid waste transportation?",
    "options": ["The point where recycling becomes profitable", "The distance where hauling costs of different vehicle types intersect", "The limit of landfill capacity", "The maximum noise level allowed"],
    "answer": 1,
    "explanation": "The Break Even point refers to the distance (approx 10 km) where the hauling cost with smaller collection vehicles equals that of larger transfer vehicles."
  },
  {
    "q": "Which functional element of solid waste management immediately follows 'Storage'?",
    "options": ["Disposal", "Collection", "Processing", "Transfer"],
    "answer": 1,
    "explanation": "The functional elements order is Waste generation -> Waste management -> Storage -> Collection -> Transfer/transport."
  },
  {
    "q": "Excessive extraction of groundwater can lead to natural pollution by:",
    "options": ["Nitrates", "Fluoride and Arsenic", "Lead and Mercury", "Pesticides"],
    "answer": 1,
    "explanation": "Excessive extraction can lead to natural pollution of groundwater with contaminants like fluoride and arsenic."
  },
  {
    "q": "Which of the following is a 'Point Source' of water pollution?",
    "options": ["Surface runoff", "Agricultural fields", "Sewage treatment plant discharge", "Acid rain"],
    "answer": 2,
    "explanation": "A sewage treatment plant is a point source because pollutants enter water bodies from a specific, identifiable site."
  },
  {
    "q": "The Bhopal Gas Tragedy is primarily associated with which type of pollution?",
    "options": ["Soil Pollution", "Air Pollution", "Thermal Pollution", "Marine Pollution"],
    "answer": 1,
    "explanation": "The Bhopal Gas Tragedy is a major case study of industrial Air Pollution (release of MIC gas)."
  },
  {
    "q": "The term 'Greenhouse Effect' refers to:",
    "options": ["The cooling of the earth's surface", "A heat-trapping process caused by gases like CO2", "The reflection of solar radiation by clouds", "The growth of plants in a controlled environment"],
    "answer": 1,
    "explanation": "The greenhouse effect is a heat-trapping process caused by gases such as carbon dioxide and water vapour that re-emit infrared radiations."
  },
  {
    "q": "Which of the following is NOT a major Greenhouse Gas?",
    "options": ["Carbon dioxide (CO2)", "Methane (CH4)", "Nitrogen (N2)", "Nitrous oxide (N2O)"],
    "answer": 2,
    "explanation": "The primary greenhouse gases are Carbon dioxide, Methane, Nitrous oxide, and water vapor. Nitrogen (N2) is not a greenhouse gas."
  },
  {
    "q": "Which layer of the atmosphere contains the Ozone layer that protects us from UV radiation?",
    "options": ["Troposphere", "Stratosphere", "Mesosphere", "Thermosphere"],
    "answer": 1,
    "explanation": "The Ozone layer is found in the Stratosphere, approximately 15-35 km above the Earth's surface, and it absorbs harmful UV-B radiation."
  },
  {
    "q": "Who discovered the 'Ozone Hole' over Antarctica in 1985?",
    "options": ["Rowland and Molina", "Farman", "Arrhenius", "Fourier"],
    "answer": 1,
    "explanation": "The Ozone Hole was discovered by Farman in 1985 over Antarctica."
  },
  {
    "q": "The thickness of the Ozone layer is measured in which units?",
    "options": ["Decibels", "Dobson Units (DU)", "Parts per million (ppm)", "Sieverts"],
    "answer": 1,
    "explanation": "The thickness of the ozone layer is measured in Dobson Units (DU). 1 DU is equivalent to 0.01 mm thickness at STP."
  },
  {
    "q": "Which substances are primarily responsible for Ozone Layer Depletion?",
    "options": ["Greenhouse gases", "Ozone Depleting Substances (ODS) like CFCs", "Sulfur dioxide", "Particulate matter"],
    "answer": 1,
    "explanation": "Ozone Depleting Substances (ODS) such as Chlorofluorocarbons (CFCs), Halons, and Methyl bromide are responsible for destroying ozone molecules."
  },
  {
    "q": "Rainwater is considered 'Acid Rain' when its pH is below:",
    "options": ["7.0", "6.5", "5.6", "4.0"],
    "answer": 2,
    "explanation": "Acid rain is defined as rainfall with a pH of less than 5.6."
  },
  {
    "q": "Which gases are the primary causes of Acid Rain?",
    "options": ["CO2 and CH4", "SO2 and NOx", "O3 and CFCs", "CO and NH3"],
    "answer": 1,
    "explanation": "Acid rain is caused by chemical reactions of Sulfur dioxide (SO2) and Nitrogen oxides (NOx) with water and oxygen in the atmosphere."
  },
  {
    "q": "The Environment (Protection) Act was enacted in India in which year?",
    "options": ["1972", "1981", "1986", "1992"],
    "answer": 2,
    "explanation": "The Environment (Protection) Act was enacted in 1986 under Article 253 of the Constitution, often considered a reaction to the Bhopal Gas Tragedy."
  },
  {
    "q": "Which Act provides for the protection of wild animals, birds, and plants in India?",
    "options": ["Forest Conservation Act", "Environment Protection Act", "Wild Life (Protection) Act", "Biodiversity Act"],
    "answer": 2,
    "explanation": "The Wild Life (Protection) Act, enacted in 1972, provides for the protection of wild animals, birds, and plants."
  },
  {
    "q": "The Wild Life (Protection) Act, 1972, contains how many schedules?",
    "options": ["4", "5", "6", "8"],
    "answer": 2,
    "explanation": "The Wild Life (Protection) Act, 1972 has 6 schedules giving varying degrees of protection to different species."
  },
  {
    "q": "The Water (Prevention and Control of Pollution) Act was enacted in:",
    "options": ["1972", "1974", "1981", "1986"],
    "answer": 1,
    "explanation": "The Water (Prevention and Control of Pollution) Act was enacted in 1974 to prevent and control water pollution."
  },
  {
    "q": "Which Act was enacted in 1981 to prevent, control, and abate air pollution?",
    "options": ["Environment Protection Act", "Air (Prevention and Control of Pollution) Act", "Forest Conservation Act", "Motor Vehicles Act"],
    "answer": 1,
    "explanation": "The Air (Prevention and Control of Pollution) Act was enacted in 1981."
  },
  {
    "q": "The Forest (Conservation) Act, 1980 is primarily aimed at:",
    "options": ["Planting new forests", "Stopping the diversion of forest land for non-forest purposes", "Selling timber", "Protecting wildlife only"],
    "answer": 1,
    "explanation": "The Forest (Conservation) Act, 1980 was enacted to control the diversion of forest land for non-forest purposes like mining or industrial projects."
  },
  {
    "q": "The Montreal Protocol (1987) is related to:",
    "options": ["Reducing Greenhouse Gases", "Protecting the Ozone Layer", "Conserving Biodiversity", "Controlling Hazardous Wastes"],
    "answer": 1,
    "explanation": "The Montreal Protocol on Substances that Deplete the Ozone Layer is an international treaty designed to protect the ozone layer by phasing out ODS."
  },
  {
    "q": "The Kyoto Protocol (1997) commits state parties to reduce:",
    "options": ["Ozone depleting substances", "Greenhouse gas emissions", "Plastic waste", "Nuclear weapons"],
    "answer": 1,
    "explanation": "The Kyoto Protocol commits state parties to reduce greenhouse gas emissions based on the scientific consensus on global warming."
  },
  {
    "q": "Which international treaty was a key outcome of the 1992 Rio Earth Summit?",
    "options": ["Kyoto Protocol", "Montreal Protocol", "Convention on Biological Diversity (CBD)", "Paris Agreement"],
    "answer": 2,
    "explanation": "The Convention on Biological Diversity (CBD) was opened for signature at the Earth Summit in Rio de Janeiro in 1992."
  },
  {
    "q": "The 'Scheduled Tribes and Other Traditional Forest Dwellers (Recognition of Forest Rights) Act' was passed in:",
    "options": ["2000", "2002", "2006", "2010"],
    "answer": 2,
    "explanation": "This Act, often called the Forest Rights Act, was passed in 2006 to recognize the rights of forest-dwelling communities."
  },
  {
    "q": "What is the phenomenon called when acid rain damages buildings and historical monuments?",
    "options": ["Global warming", "Stone Leprosy", "Eutrophication", "Bioaccumulation"],
    "answer": 1,
    "explanation": "Acid rain reacts with the calcium carbonate in stones (like marble), causing them to flake off or dissolve, a phenomenon known as Stone Leprosy."
  },
  {
    "q": "The 'Kondh community' mentioned in the text is known for:",
    "options": ["Hunting tigers", "Protesting to protect their environment", "Commercial logging", "Inventing plastic"],
    "answer": 1,
    "explanation": "The Kondh community marched into the streets of Bhubaneshwar to prevent their nature and living area from potential environmental violators."
  },
  {
    "q": "Which article of the Indian Constitution directs the 'State' to protect and improve the environment?",
    "options": ["Article 14", "Article 21", "Article 48-A", "Article 51-A"],
    "answer": 2,
    "explanation": "Article 48-A (Directive Principles of State Policy) states that the State shall endeavour to protect and improve the environment and to safeguard forests and wildlife."
  },
  {
    "q": "Which article makes it a 'Fundamental Duty' of every citizen to protect the natural environment?",
    "options": ["Article 48-A", "Article 51-A(g)", "Article 21", "Article 32"],
    "answer": 1,
    "explanation": "Article 51-A(g) states that it shall be the duty of every citizen of India to protect and improve the natural environment including forests, lakes, rivers, and wildlife."
  },
  {
    "q": "The 'Kyoto Protocol' targets which specific category of gases?",
    "options": ["Ozone Depleting Substances", "Greenhouse Gases (GHGs)", "Noble Gases", "Industrial Aerosols"],
    "answer": 1,
    "explanation": "The Kyoto Protocol targets the reduction of Greenhouse Gases (GHGs) to combat global warming."
  },
  {
    "q": "Which of the following is a major consequence of Global Warming?",
    "options": ["Decrease in sea levels", "Thickening of the ozone layer", "Melting of polar ice caps and glaciers", "Reduction in respiratory diseases"],
    "answer": 2,
    "explanation": "Global warming leads to the melting of polar ice caps and glaciers, causing a rise in sea levels."
  },
  {
    "q": "Which radiation is primarily absorbed by the Ozone layer?",
    "options": ["Infrared radiation", "Visible light", "UV-B radiation", "Radio waves"],
    "answer": 2,
    "explanation": "The Ozone layer absorbs the harmful Ultraviolet-B (UV-B) radiation from the sun, protecting life on Earth."
  },
  {
    "q": "Exposure to UV-B radiation due to ozone depletion can cause:",
    "options": ["Lung cancer", "Skin cancer and Cataracts", "Bone density loss", "Liver cirrhosis"],
    "answer": 1,
    "explanation": "Increased exposure to UV-B radiation can lead to skin cancer, cataracts, and suppression of the immune system."
  },
  {
    "q": "Which chemical is often used as a coolant in refrigerators and is a major Ozone Depleting Substance?",
    "options": ["Methane", "Carbon dioxide", "Chlorofluorocarbon (CFC)", "Ammonia"],
    "answer": 2,
    "explanation": "Chlorofluorocarbons (CFCs), used in refrigerators and air conditioners, are major contributors to ozone depletion."
  },
  {
    "q": "The 'Taj Trapezium Zone' was established to protect the Taj Mahal from:",
    "options": ["Flood waters", "Tourist overcrowding", "Acid Rain and Air Pollution", "Sound pollution"],
    "answer": 2,
    "explanation": "The Taj Trapezium Zone protects the Taj Mahal from pollution and acid rain, which causes the yellowing of the marble (Stone Leprosy)."
  },
  {
    "q": "Which metal can be leached from the soil into water bodies due to Acid Rain, harming fish?",
    "options": ["Calcium", "Aluminum", "Iron", "Magnesium"],
    "answer": 1,
    "explanation": "Acid rain causes aluminum to leach from soil into lakes and streams, which is toxic to fish and other aquatic life."
  },
  {
    "q": "The Convention on Biological Diversity (CBD) has how many main objectives?",
    "options": ["One", "Two", "Three", "Five"],
    "answer": 2,
    "explanation": "The CBD has three main objectives: conservation of biological diversity, sustainable use of its components, and fair and equitable sharing of benefits."
  },
  {
    "q": "Which Schedule of the Wild Life (Protection) Act, 1972 provides 'Absolute Protection' to species?",
    "options": ["Schedule I", "Schedule IV", "Schedule V", "Schedule VI"],
    "answer": 0,
    "explanation": "Schedule I and Part II of Schedule II provide absolute protection, and offenses under these are prescribed the highest penalties."
  },
  {
    "q": "Which animals are listed as 'Vermin' under Schedule V of the Wild Life (Protection) Act?",
    "options": ["Tigers and Lions", "Common Crows and Rats", "Peacocks and Dolphins", "Elephants and Rhinos"],
    "answer": 1,
    "explanation": "Schedule V lists animals that can be hunted (vermin), such as common crows, fruit bats, mice, and rats."
  },
  {
    "q": "The Central Pollution Control Board (CPCB) was constituted under which Act?",
    "options": ["Environment Protection Act, 1986", "Water (Prevention and Control of Pollution) Act, 1974", "Air Act, 1981", "Forest Act, 1980"],
    "answer": 1,
    "explanation": "The CPCB was constituted under the Water (Prevention and Control of Pollution) Act, 1974."
  },
  {
    "q": "Who coined the term 'Greenhouse Effect'?",
    "options": ["Joseph Fourier", "Ernst Haeckel", "Arthur Tansley", "Svante Arrhenius"],
    "answer": 0,
    "explanation": "The term 'Greenhouse Effect' was first coined by Joseph Fourier in 1824."
  },
  {
    "q": "The Forest Rights Act (2006) is also known as:",
    "options": ["The Tribal Land Act", "The Scheduled Tribes and Other Traditional Forest Dwellers Act", "The Forest Conservation Act", "The Wildlife Protection Act"],
    "answer": 1,
    "explanation": "It is officially known as 'The Scheduled Tribes and Other Traditional Forest Dwellers (Recognition of Forest Rights) Act, 2006'."
  },
  {
    "q": "Which of the following is a simple step to reduce Greenhouse Gas emissions mentioned in the text?",
    "options": ["Using incandescent bulbs", "Using more hot water", "Replacing light bulbs with CFL/LED", "Driving more frequently"],
    "answer": 2,
    "explanation": "Replacing incandescent bulbs with CFL or LED bulbs is a measure to save energy and reduce greenhouse gas emissions."
  },
  {
    "q": "Man-Wildlife conflict often arises due to:",
    "options": ["Increase in forest area", "Habitat fragmentation and shrinkage", "Abundance of prey base", "Strict wildlife laws"],
    "answer": 1,
    "explanation": "Man-wildlife conflict is primarily caused by the shrinkage and fragmentation of wildlife habitats, leading animals to enter human settlements."
  },
  {
    "q": "The 'Bishnoi' community of Rajasthan is famous for protecting:",
    "options": ["Water bodies", "Blackbuck and Khejri trees", "Tigers", "Elephants"],
    "answer": 1,
    "explanation": "The Bishnoi community is well-known for their traditional protection of the Blackbuck and Khejri trees."
  },
  {
    "q": "In the context of environmental law, what does 'PIL' stand for?",
    "options": ["Public Interest Litigation", "Pollution Index Level", "Private Industry Law", "Protected Island Land"],
    "answer": 0,
    "explanation": "PIL stands for Public Interest Litigation, a legal tool often used for environmental protection in India."
  },
  {
    "q": "Which international day is observed on September 16th?",
    "options": ["World Environment Day", "World Ozone Day", "Earth Day", "Water Day"],
    "answer": 1,
    "explanation": "September 16th is observed as the International Day for the Preservation of the Ozone Layer (World Ozone Day)."
  }, {
    "q": "The term 'Disaster' is derived from the French word 'Desastre', which means:",
    "options": ["Sudden event", "Bad or Evil star", "Great destruction", "Earth shaking"],
    "answer": 1,
    "explanation": "The word is derived from the French word 'Desastre', meaning 'Bad or Evil star'."
  },
  {
    "q": "Which of the following is an example of a 'Hydrological Disaster'?",
    "options": ["Earthquake", "Flood", "Cyclone", "Forest fire"],
    "answer": 1,
    "explanation": "Floods, hailstorms, and cloudbursts are classified as Hydrological Disasters."
  },
  {
    "q": "Landslides and Volcanic eruptions are classified under which type of disaster?",
    "options": ["Meteorological", "Climatological", "Geological", "Biological"],
    "answer": 2,
    "explanation": "Geological Disasters include landslides, earthquakes, volcanic eruptions, and tornadoes."
  },
  {
    "q": "Which of the following represents a 'Man-made Disaster'?",
    "options": ["Tsunami", "Heat wave", "Oil spill", "Locust plague"],
    "answer": 2,
    "explanation": "Man-made disasters include urban and forest fires, oil spills, transportation accidents, and acts of terrorism."
  },
  {
    "q": "Viral outbreaks and pest invasions are examples of:",
    "options": ["Chemical Disasters", "Biological Disasters", "Hydrological Disasters", "Geophysical Disasters"],
    "answer": 1,
    "explanation": "Biological Disasters include viral outbreaks, pest invasions, livestock epidemics, and locust plagues."
  },
  {
    "q": "Which phase of the Disaster Management Cycle involves 'Mitigation' and 'Prevention'?",
    "options": ["Pre-Disaster", "During Disaster", "Post-Disaster", "Recovery"],
    "answer": 0,
    "explanation": "The Pre-Disaster phase includes Prevention, Mitigation, and Preparedness."
  },
  {
    "q": "The 'Response' phase occurs:",
    "options": ["Before the disaster", "During the disaster", "Months after the disaster", "During reconstruction"],
    "answer": 1,
    "explanation": "Response is the phase that occurs During the Disaster to minimize loss of life and property."
  },
  {
    "q": "Restoration of basic services and reconstruction of infrastructure belongs to which phase?",
    "options": ["Mitigation", "Preparedness", "Response", "Recovery"],
    "answer": 3,
    "explanation": "The Post-Disaster phase involves Recovery, Rehabilitation, and Reconstruction."
  },
  {
    "q": "Who is the Chairperson of the National Disaster Management Authority (NDMA) in India?",
    "options": ["President of India", "Prime Minister of India", "Home Minister", "Chief Justice of India"],
    "answer": 1,
    "explanation": "The Prime Minister of India is the Chairperson of the National Disaster Management Authority (NDMA)."
  },
  {
    "q": "The NDMA is hosted by which Ministry?",
    "options": ["Ministry of Environment", "Ministry of Earth Sciences", "Ministry of Home Affairs", "Ministry of Defence"],
    "answer": 2,
    "explanation": "The NDMA is hosted by the Ministry of Home Affairs."
  },
  {
    "q": "At the State level, who serves as the Chairperson of the State Disaster Management Authority (SDMA)?",
    "options": ["Governor", "Chief Minister", "Home Minister of State", "Chief Secretary"],
    "answer": 1,
    "explanation": "The Chief Minister is the Chairperson of the State Disaster Management Authority (SDMA)."
  },
  {
    "q": "Who chairs the District Disaster Management Authority (DDMA)?",
    "options": ["Superintendent of Police", "District Magistrate / Deputy Commissioner", "Mayor", "Local MLA"],
    "answer": 1,
    "explanation": "The DDMA is chaired by the District Magistrate (DM) or Deputy Commissioner (DC)."
  },
  {
    "q": "Which committee acts as the executive body at the National level for disaster management?",
    "options": ["National Executive Committee (NEC)", "Cabinet Committee on Security", "Finance Commission", "Planning Commission"],
    "answer": 0,
    "explanation": "The National Executive Committee (NEC), chaired by the Home Secretary, operates at the national level."
  },
  {
    "q": "At the School level, who is designated as the Chairperson for disaster management?",
    "options": ["Head Boy/Girl", "District Education Officer", "Principal", "Class Teacher"],
    "answer": 2,
    "explanation": "At the School Level, the Principal is the Chairperson for disaster management activities."
  },
  {
    "q": "Which of the following is NOT a member of the State Disaster Management Authority?",
    "options": ["Chief Minister", "Chief Medical Officer", "Superintendent of Police", "Prime Minister"],
    "answer": 3,
    "explanation": "The Prime Minister chairs the National authority, not the State authority. The State authority includes the CM, Deputy Commissioner, SP, etc."
  },
  {
    "q": "What constitutes the 'psychological impact' of a disaster?",
    "options": ["Loss of property", "PTSD, grief, and depression", "Soil erosion", "Economic loss"],
    "answer": 1,
    "explanation": "Psychological impacts include PTSD, grief, depression, and anxiety."
  },
  {
    "q": "Which activity is part of 'Preparedness' in disaster management?",
    "options": ["Rebuilding houses", "Planning and training for emergencies", "Rescue operations", "Assessing damage after the event"],
    "answer": 1,
    "explanation": "Preparedness involves planning, training, and educational activities for events that cannot be prevented."
  },
  {
    "q": "What is 'Mitigation' in the context of disaster management?",
    "options": ["Providing food during floods", "Measures to reduce the severity or likelihood of a disaster", "Reconstructing bridges", "Search and rescue"],
    "answer": 1,
    "explanation": "Mitigation refers to measures taken to prevent a disaster or reduce its severity and impact."
  },
  {
    "q": "Nuclear core meltdowns are classified as:",
    "options": ["Geological Disasters", "Nuclear Disasters", "Hydrological Disasters", "Meteorological Disasters"],
    "answer": 1,
    "explanation": "Nuclear Disasters include nuclear core meltdowns and radiation-related burns and illnesses."
  },
  {
    "q": "Which body co-chairs the District Disaster Management Authority along with the DC/DM?",
    "options": ["Superintendent of Police", "Chairperson, Zila Parishad", "Chief Medical Officer", "Mayor"],
    "answer": 1,
    "explanation": "The DDMA is chaired by the DM/DC and Co-chaired by the Chairperson, Zila Parishad."
  },
  {
    "q": "Identify the type of memory required for the execution of programs.",
    "options": ["RAM", "ROM", "HDD", "Cache"],
    "answer": 1,
    "explanation": "RAM (Random Access Memory) is the volatile memory used to store data and programs currently being executed by the CPU."
  },
  {
    "q": "RAM is ________.",
    "options": ["Non-Volatile, Temporary", "Volatile, Temporary", "Volatile, Permanent", "Non-Volatile, Permanent"],
    "answer": 2,
    "explanation": "RAM is volatile, meaning it loses data when power is lost, and it is used for temporary storage during program execution."
  },
  {
    "q": "The core computing unit of a computer System consists of:",
    "options": ["Central Processing Unit", "Power Supply", "Motherboard", "All of the above"],
    "answer": 1,
    "explanation": "The Central Processing Unit (CPU) is considered the core computing unit or the 'brain' of the computer."
  },
  {
    "q": "DRAM is made of:",
    "options": ["Capacitors", "D Flip Flop", "SSD", "Decoders"],
    "answer": 1,
    "explanation": "Dynamic RAM (DRAM) stores each bit of data in a separate capacitor within an integrated circuit."
  },
  {
    "q": "Which kind of RAM is used for cache memory?",
    "options": ["DRAM", "SRAM", "EERAM", "None of the above"],
    "answer": 2,
    "explanation": "Static RAM (SRAM) is faster and more expensive than DRAM, making it suitable for CPU cache memory."
  },
  {
    "q": "Mirroring for Fault Tolerance is used in:",
    "options": ["RAID 0", "RAID 1", "RAID 3", "RAID 5"],
    "answer": 2,
    "explanation": "RAID 1 consists of an exact copy (or mirror) of a set of data on two or more disks."
  },
  {
    "q": "Machine Language is a ________ language.",
    "options": ["High-Level Language", "Low-Level Language", "Medium Level Language", "Assembly Level Language"],
    "answer": 2,
    "explanation": "Machine language is the lowest-level programming language, consisting of binary code directly executable by the CPU."
  },
  {
    "q": "Which of the following is not a backup storage?",
    "options": ["CD", "DVD", "PenDrive", "RAM"],
    "answer": 4,
    "explanation": "RAM is volatile memory and cannot retain data without power, so it is not used for backup storage."
  },
  {
    "q": "Identify the correct flow of steps in program development.",
    "options": ["Load-Compile-Link-Execute", "Load-Compile-Execute-Link", "Compile-Link-Load-Execute", "Link-Compile-Load-Execute"],
    "answer": 3,
    "explanation": "The standard sequence is Compiling source code, Linking object files, Loading into memory, and Executing."
  },
  {
    "q": "The full form of BIOS is:",
    "options": ["Binary Input Output System", "Basic Input/Output System", "Basic Input off System", "None of the above"],
    "answer": 2,
    "explanation": "BIOS stands for Basic Input/Output System, the firmware used to perform hardware initialization."
  },
  {
    "q": "System Configuration files are present in the ________ directory in Linux.",
    "options": ["/bin", "/usr", "/etc", "None of the mentioned"],
    "answer": 3,
    "explanation": "The /etc directory contains all the system-related configuration files in Linux."
  },
  {
    "q": "Which file system was primarily designed for flash drives?",
    "options": ["HFS", "FAT", "NDFS", "Extended file system"],
    "answer": 2,
    "explanation": "FAT (specifically FAT32 and exFAT) is widely used for flash drives due to its broad compatibility."
  },
  {
    "q": "Which command is used to find and replace text in files in a Unix/Linux shell?",
    "options": ["grep", "sed", "awk", "diff"],
    "answer": 2,
    "explanation": "The 'sed' (stream editor) command is commonly used for finding and replacing text strings within files."
  },
  {
    "q": "What does the acronym 'NTFS' stand for in Windows file systems?",
    "options": ["New Technology File System", "Network Transfer File System", "Non-Text File System", "Native Transfer File System"],
    "answer": 1,
    "explanation": "NTFS stands for New Technology File System, the proprietary file system developed by Microsoft."
  },
  {
    "q": "Which signal asks the process to terminate voluntarily?",
    "options": ["SIGKILL", "SIGSTOP", "SIGTERMINATE", "SIGTERM"],
    "answer": 4,
    "explanation": "SIGTERM is the signal sent to a process to request its termination, allowing it to clean up before exiting."
  },
  {
    "q": "Which of the following usually observe each activity on the internet of the victim, gather all information in the background, and send it to someone else?",
    "options": ["Malware", "Spyware", "Adware", "All of the above"],
    "answer": 2,
    "explanation": "Spyware is malicious software designed to gather information about a person or organization and send it to another entity."
  },
  {
    "q": "What is Machine learning?",
    "options": ["The autonomous acquisition of knowledge through the use of computer programs", "The autonomous acquisition of knowledge through the use of manual programs", "The selective acquisition of knowledge through the use of computer programs", "The selective acquisition of knowledge through the use of manual programs"],
    "answer": 1,
    "explanation": "Machine learning involves computer programs (algorithms) autonomously learning from data to improve performance."
  },
  {
    "q": "Directing the output into a file instead of the terminal is called:",
    "options": ["Pipes", "Redirection", "Signals", "Inter-process communication"],
    "answer": 2,
    "explanation": "Redirection (using symbols like >) is used to send the output of a command to a file instead of the standard output (screen)."
  },
  {
    "q": "FAANG is an acronym referring to the stocks of the five most popular and best-performing:",
    "options": ["American technology companies", "European technology companies", "Korean technology companies", "Indian technology companies"],
    "answer": 1,
    "explanation": "FAANG stands for Facebook (Meta), Amazon, Apple, Netflix, and Google (Alphabet), which are major American tech companies."
  },
  {
    "q": "Which of the following is NOT a competitive coding platform?",
    "options": ["Hackerrank", "CodeChef", "LeetCode", "StackOverflow"],
    "answer": 4,
    "explanation": "StackOverflow is a question-and-answer website for programmers, whereas the others are platforms for coding challenges."
  }
  
];
// end QUESTIONS array

/* 300 QUESTIONS: We created 300 items above. */

/* ============== App State ============== */
/* If you paste the full 300 questions, make sure to update totalQ below automatically. */

const totalQ = QUESTIONS.length || 300;
document.getElementById('totalQ').innerText = totalQ;
document.getElementById('badgeCount').innerText = totalQ + " Qs";

/* ============== App State ============== */
let state = {
  current: 0,
  answers: Array(totalQ).fill(null), // user's selected index
  answeredCorrect: Array(totalQ).fill(false),
  started: false,
  startTime: null,
  elapsedSec: 0,
  timerInterval: null,
  idleTimer: null
};

/* ============== DOM refs ============== */
const startPage = document.getElementById('startPage');
const testPage = document.getElementById('testPage');
const inpName = document.getElementById('inpName');
const inpReg = document.getElementById('inpReg');
const inpPic = document.getElementById('inpPic');
const imgPreview = document.getElementById('imgPreview');
const btnStart = document.getElementById('btnStart');
const btnResetStart = document.getElementById('btnResetStart');
const startErrors = document.getElementById('startErrors');

const showName = document.getElementById('showName');
const showReg = document.getElementById('showReg');
const userPicSmall = document.getElementById('userPicSmall');
const showUser = document.getElementById('showUser');

const timeTop = document.getElementById('timeTop');
const topCorrect = document.getElementById('topCorrect');
const topWrong = document.getElementById('topWrong');
const topProgress = document.getElementById('topProgress');
const topAttempted = document.getElementById('topAttempted');
const topQno = document.getElementById('topQno');

const questionText = document.getElementById('questionText');
const optionsBox = document.getElementById('optionsBox');
const explainBox = document.getElementById('explainBox');
const btnPrev = document.getElementById('btnPrev');
const btnNext = document.getElementById('btnNext');
const btnShowExplain = document.getElementById('btnShowExplain');
const btnEndTestTop = document.getElementById('btnEndTestTop');

const curQ = document.getElementById('curQ');
const correctCountEl = document.getElementById('correctCount');
const wrongCountEl = document.getElementById('wrongCount');
const attemptedCountEl = document.getElementById('attemptedCount');
const timeSpentEl = document.getElementById('timeSpent');
const scoreInline = document.getElementById('scoreInline');
const progressPercent = document.getElementById('progressPercent');

const btnSave = document.getElementById('btnSave');
const btnExport = document.getElementById('btnExport');

const modalRoot = document.getElementById('modalRoot');

/* ============== Helpers ============== */
function formatTime(sec){
  const m = Math.floor(sec/60).toString().padStart(2,'0');
  const s = (sec%60).toString().padStart(2,'0');
  return `${m}:${s}`;
}
function updateTopStatus(){
  const attempted = state.answers.filter(a=>a!==null).length;
  const correct = state.answeredCorrect.filter(x=>x).length;
  const wrong = attempted - correct;
  topCorrect.innerText = correct;
  topWrong.innerText = wrong;
  topAttempted.innerText = attempted;
  topProgress.innerText = `${Math.round((correct/totalQ)*100)}%`;
  topQno.innerText = `${state.current+1}/${totalQ}`;
  // right side small summary
  correctCountEl.innerText = correct;
  wrongCountEl.innerText = wrong;
  attemptedCountEl.innerText = attempted;
  scoreInline.innerText = correct;
  curQ.innerText = state.current + 1;
  progressPercent.innerText = `${Math.round((correct/totalQ)*100)}%`;
}
function startTimer(){
  if(state.timerInterval) return;
  state.startTime = Date.now() - (state.elapsedSec*1000);
  state.timerInterval = setInterval(()=>{
    state.elapsedSec = Math.floor((Date.now()-state.startTime)/1000);
    timeTop.innerText = formatTime(state.elapsedSec);
    timeSpentEl.innerText = formatTime(state.elapsedSec);
  },1000);
}
function stopTimer(){
  if(state.timerInterval){ clearInterval(state.timerInterval); state.timerInterval = null; }
}
function resetIdleTimer(){
  if(state.idleTimer) clearTimeout(state.idleTimer);
  // show warning if no action for 60s
  state.idleTimer = setTimeout(()=>{ showWarning("You're idle â€” please continue answering to use time well."); }, 60000);
}
function showWarning(text){
  // small non-blocking toast modal that disappears
  const toast = document.createElement('div');
  toast.style.position='fixed'; toast.style.left='50%'; toast.style.transform='translateX(-50%)'; toast.style.bottom='22px';
  toast.style.background='rgba(0,0,1,0.8)'; toast.style.padding='12px 16px'; toast.style.borderRadius='10px'; toast.style.color='#fef'; toast.style.zIndex=9999;
  toast.innerText = "âš ï¸ " + text;
  document.body.appendChild(toast);
  setTimeout(()=>{ toast.style.transition='opacity .4s'; toast.style.opacity='0'; setTimeout(()=>toast.remove(),400); }, 3000);
}

/* ============== Validation (start page) ============== */
function validateName(v){
  if(!v || !v.trim()) return false;
  // allow letters, spaces, dot and hyphen optional; disallow digits
  return /^[A-Za-z\s\.\-']+$/.test(v.trim());
}
function validateReg(v){
  return /^\d{8}$/.test(v);
}
function checkStartInputs(){
  const name = inpName.value.trim();
  const reg = inpReg.value.trim();
  let ok = true; startErrors.innerText = '';
  if(!validateName(name)){ ok = false; startErrors.innerText = 'Name invalid: only letters, spaces allowed.'; }
  else if(!validateReg(reg)){ ok = false; startErrors.innerText = 'Registration invalid: must be exactly 8 digits.'; }
  btnStart.disabled = !ok;
}

/* image preview */
inpPic.addEventListener('change', (e)=>{
  const f = e.target.files && e.target.files[0];
  if(!f){ imgPreview.style.display='none'; userPicSmall.style.display='none'; return; }
  const url = URL.createObjectURL(f);
  imgPreview.src = url; imgPreview.style.display='block';
  userPicSmall.src = url; userPicSmall.style.display='block';
});

/* listen to inputs */
inpName.addEventListener('input', checkStartInputs);
inpReg.addEventListener('input', checkStartInputs);

/* ============== Rendering ============== */
function renderQuestion(idx){
  resetIdleTimer();
  const item = QUESTIONS[idx];
  if(!item){
    questionText.innerText = 'Question bank not loaded. Paste the QUESTIONS array into the file.';
    optionsBox.innerHTML = '';
    return;
  }
  questionText.innerHTML = `<span style="opacity:.9">${idx+1}.</span> <span style="margin-left:8px">${item.q}</span>`;
  showName.innerText = inpName.value || 'â€”';
  showReg.innerText = inpReg.value || 'â€”';
  showUser.innerText = `${inpName.value || ''} â€¢ ${inpReg.value || ''}`;
  explainBox.style.display = 'none'; explainBox.innerHTML = '';
  optionsBox.innerHTML = '';

  item.options.forEach((optText, i)=>{
    const div = document.createElement('div');
    div.className = 'option';
    div.dataset.index = i;
    div.innerHTML = `<div class="label"><strong>${String.fromCharCode(65+i)}</strong>. ${optText}</div><div class="explainTiny">Explain</div>`;
    // answer click
    div.addEventListener('click', (e)=>{
      if(state.answers[idx] !== null) return; // locked
      handleAnswer(idx, i);
    });
    // explain click
    div.querySelector('.explainTiny').addEventListener('click', (ev)=>{ ev.stopPropagation(); showExplanation(idx); });
    optionsBox.appendChild(div);
  });

  // if answered already, show colors
  if(state.answers[idx] !== null){
    const chosen = state.answers[idx];
    const correct = QUESTIONS[idx].answer;
    const all = optionsBox.querySelectorAll('.option');
    all.forEach((od, i)=>{
      od.classList.remove('correct','wrong');
      if(i === correct) od.classList.add('correct');
      if(i === chosen && chosen !== correct) od.classList.add('wrong');
    });
    explainBox.innerHTML = `<strong>Explanation:</strong><br>${item.explanation}<br><br><strong>Correct:</strong> ${String.fromCharCode(65+item.answer)}. ${item.options[item.answer]}`;
    explainBox.style.display = 'none';
  }

  updateTopStatus();
}

/* ============== Answer Logic ============== */
function handleAnswer(qIdx, choiceIdx){
  // lock once selected
  if(state.answers[qIdx] !== null) return;
  state.answers[qIdx] = choiceIdx;
  const correct = QUESTIONS[qIdx].answer;
  const wasCorrect = (choiceIdx === correct);
  state.answeredCorrect[qIdx] = wasCorrect;

  // color options
  const optDivs = optionsBox.querySelectorAll('.option');
  optDivs.forEach((od, i)=>{
    od.classList.remove('correct','wrong');
    if(i === correct) od.classList.add('correct');
    if(i === choiceIdx && choiceIdx !== correct) od.classList.add('wrong');
  });

  updateTopStatus();

  // brief animation & then auto-next after 700ms
  if(wasCorrect){
    const correctEl = optionsBox.querySelector('.option.correct');
    if(correctEl) correctEl.animate([{transform:'scale(1)'},{transform:'scale(1.03)'},{transform:'scale(1)'}], {duration:450, iterations:1, easing:'ease-out'});
  }

  // small delay then go next (unless last)
  setTimeout(()=>{
    if(state.current < totalQ - 1){
      state.current++;
      renderQuestion(state.current);
    } else {
      // reached end - show modal summary
      showSummaryModal();
    }
  }, 2000);
}

/* explanation */
function showExplanation(idx){
  const item = QUESTIONS[idx];
  if(!item) return;
  explainBox.style.display = 'block';
  explainBox.innerHTML = `<strong>Explanation:</strong><br>${item.explanation}<br><br><strong>Correct:</strong> ${String.fromCharCode(65+item.answer)}. ${item.options[item.answer]}`;
}

/* ============== Controls ============== */
btnStart.addEventListener('click', ()=>{
  // validate again
  const name = inpName.value.trim();
  const reg = inpReg.value.trim();
  if(!validateName(name) || !validateReg(reg)){ alert('Enter valid Name and 8-digit Registration number.'); return; }
  if(!QUESTIONS || QUESTIONS.length === 0){ alert('Question bank empty. Paste QUESTIONS into the file.'); return; }

  // save user to localStorage (temp)
  const user = {name, reg, pic: null};
  if(inpPic.files && inpPic.files[0]){
    // read as data URL
    const reader = new FileReader();
    reader.onload = function(e){
      user.pic = e.target.result;
      startTest(user);
    }
    reader.readAsDataURL(inpPic.files[0]);
  } else {
    startTest(user);
  }
});
function startTest(user){
  // store last user
  localStorage.setItem('ECE-249_user', JSON.stringify(user));
  // show test page
  startPage.style.display = 'none';
  testPage.style.display = 'block';
  if(user.pic){ userPicSmall.src = user.pic; userPicSmall.style.display='block'; }
  showName.innerText = user.name; showReg.innerText = user.reg; showUser.innerText = `${user.name} â€¢ ${user.reg}`;
  state.started = true; startTimer(); resetIdleTimer(); renderQuestion(state.current); updateTopStatus();
}

/* Prev/Next */
btnPrev.addEventListener('click', ()=>{ if(state.current>0){ state.current--; renderQuestion(state.current); } resetIdleTimer();});
btnNext.addEventListener('click', ()=>{ if(state.current < totalQ - 1){ state.current++; renderQuestion(state.current); } resetIdleTimer();});

/* End Test */
btnEndTestTop.addEventListener('click', ()=>{ if(!state.started){ alert('Test not started.'); return;} if(!confirm('End test now and save result?')) return; stopTimer(); saveResult(); showSummaryModal(); });

/* Show explain */
btnShowExplain.addEventListener('click', ()=>{ showExplanation(state.current); });

/* Keyboard navigation */
document.addEventListener('keydown', (e)=>{ if(e.key === 'ArrowRight') btnNext.click(); if(e.key === 'ArrowLeft') btnPrev.click(); });

/* Reset start page */
btnResetStart.addEventListener('click', ()=>{ if(confirm('Reset start form?')){ inpName.value=''; inpReg.value=''; inpPic.value=''; imgPreview.style.display='none'; checkStartInputs(); } });

/* Save result to localStorage */
function saveResult(){
  const correct = state.answeredCorrect.filter(x=>x).length;
  const attempted = state.answers.filter(a=>a!==null).length;
  const user = JSON.parse(localStorage.getItem('ECE-249_user') || '{}');
  const result = { name: user.name || inpName.value, reg: user.reg || inpReg.value, pic: user.pic || null, correct, attempted, time: formatTime(state.elapsedSec), date: (new Date()).toLocaleString() };
  
  // ðŸ”— also save online
  saveResultToSupabase(result); 

  // const key = 'ECE-249_results';
  // const arr = JSON.parse(localStorage.getItem(key) || '[]');
  // arr.push(result);
  // localStorage.setItem(key, JSON.stringify(arr));
  // alert('Result saved locally.');
}

// ðŸŒ€ Small loader toast (for showing saving progress)

function showLoader(msg, duration = 1500) {
  const toast = document.createElement('div');
  toast.style.position = 'fixed';
  toast.style.left = '50%';
  toast.style.transform = 'translateX(-50%)';
  toast.style.bottom = '30px';
  toast.style.background = 'rgba(0,0,0,0.8)';
  toast.style.color = '#fff';
  toast.style.padding = '12px 18px';
  toast.style.borderRadius = '10px';
  toast.style.fontSize = '14px';
  toast.style.zIndex = 9999;
  toast.innerText = msg;
  document.body.appendChild(toast);
  setTimeout(() => {
    toast.style.transition = 'opacity .4s';
    toast.style.opacity = '0';
    setTimeout(() => toast.remove(), 400);
  }, duration);
}


// // ðŸŸ¢ Supabase Database Save (adds result to test_result table)
// async function saveResultToSupabase(result) {
//   try {
//     // à¤ªà¤¹à¤²à¥‡ check à¤•à¤°à¥‹ à¤•à¤¿ à¤¯à¤¹ registration à¤ªà¤¹à¤²à¥‡ à¤¸à¥‡ à¤®à¥Œà¤œà¥‚à¤¦ à¤¤à¥‹ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆ
//     const { data: existing, error: fetchError } = await supabase
//       .from('test_result')
//       .select('reg')
//       .eq('reg', result.reg);

//     if (fetchError) throw fetchError;

//     if (existing && existing.length > 0) {
//       alert('âš ï¸ This registration number has already submitted a result!');
//       return;
//     }

//     // Insert new result
//     const { data, error } = await supabase
//       .from('test_result')
//       .insert([result]);

//     if (error) throw error;

//     alert('âœ… Result saved to Supabase database!');
//   } catch (err) {
//     console.error('Supabase insert error:', err);
//     alert('âŒ Error saving result to Supabase.');
//   }
// }
/* Export CSV for all saved results */

// ðŸŸ¢ Supabase Database Save (adds result to test_result table)
async function saveResultToSupabase(result) {
  try {
    showLoader("â³ Checking registration...");

    // à¤ªà¤¹à¤²à¥‡ check à¤•à¤°à¥‹ à¤•à¤¿ à¤¯à¤¹ registration à¤ªà¤¹à¤²à¥‡ à¤¸à¥‡ à¤®à¥Œà¤œà¥‚à¤¦ à¤¤à¥‹ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆ
    const { data: existing, error: fetchError } = await supabase
      .from('test_result')
      .select('reg')
      .eq('reg', result.reg);

    if (fetchError) throw fetchError;

    if (existing && existing.length > 0) {
      showLoader("âš ï¸ Already submitted!", 2000);
      alert('âš ï¸ This registration number has already submitted a result!');
      return;
    }

    showLoader("ðŸ’¾ Saving your result...");

    // Insert new result
    const { data, error } = await supabase
      .from('test_result')
      .insert([result]);

    if (error) throw error;

    showLoader("âœ… Saved successfully!", 1800);
    alert('âœ… Result saved to Aryan_data_base!');

  } catch (err) {
    console.error('Aryan_data_base insert error:', err);
    showLoader("âŒ Error saving result!", 2000);
    alert('âŒ Error saving result to Aryan_data_base.');
  }
}

// ðŸŸ¢ Fetch all saved results from Supabase (Leaderboard)
async function fetchAllResults() {
  try {
    showLoader("ðŸ“¡ Fetching results...");

    const { data, error } = await supabase
      .from('test_result')
      .select('name, reg, correct, attempted, time, date')
      .order('correct', { ascending: false }); // Highest score first

    if (error) throw error;

    showResultsTable(data); // show inside modal
  } catch (err) {
    console.error("Aryan_database fetch error:", err);
    alert("âŒ Error fetching results from Aryan_database!");
  }
}

btnExport.addEventListener('click', ()=>{
  const arr = JSON.parse(localStorage.getItem('ece249_results') || '[]');
  if(arr.length === 0){ alert('No saved results to export.'); return; }
  const headers = ['Name','Reg','Correct','Attempted','Time','Date'];
  const rows = arr.map(r => [r.name, r.reg, r.correct, r.attempted, r.time, r.date]);
  let csv = headers.join(',') + '\n' + rows.map(r => r.map(c => `"${String(c).replace(/"/g,'""')}"`).join(',')).join('\n');
  const blob = new Blob([csv], {type: 'text/csv'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = 'ece249_results.csv'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
});

/* View summary modal */
function showSummaryModal(){
  const correct = state.answeredCorrect.filter(x=>x).length;
  const attempted = state.answers.filter(a=>a!==null).length;
  modalRoot.innerHTML = '';
  const backdrop = document.createElement('div'); backdrop.className = 'modal-backdrop';
  const modal = document.createElement('div'); modal.className = 'modal';
  const user = JSON.parse(localStorage.getItem('ece249_user') || '{}');
  modal.innerHTML = `<h3>Test Summary</h3>
    <p><strong>Name:</strong> ${user.name || inpName.value} &nbsp; â€¢ &nbsp; <strong>Reg:</strong> ${user.reg || inpReg.value}</p>
    <p><strong>Score:</strong> ${correct} / ${totalQ} &nbsp; â€¢ &nbsp; <strong>Attempted:</strong> ${attempted}</p>
    <p><strong>Time:</strong> ${formatTime(state.elapsedSec)}</p>
    <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px">
      <button id="modalSave" class="btn">Save</button>
      <button id="modalReview" class="btn ghost">Review Answers</button>
      <button id="modalClose" class="btn ghost">Close</button>
    </div>`;
  backdrop.appendChild(modal); modalRoot.appendChild(backdrop); modalRoot.style.display = 'block';
  document.getElementById('modalClose').addEventListener('click', ()=>{ modalRoot.innerHTML=''; modalRoot.style.display='none'; });
  document.getElementById('modalSave').addEventListener('click', ()=>{ saveResult(); modalRoot.innerHTML=''; modalRoot.style.display='none'; });
  document.getElementById('modalReview').addEventListener('click', ()=>{ modalRoot.innerHTML=''; modalRoot.style.display='none'; reviewAllAnswers(); });
}

/* Review answers (list with question and selected) */
function reviewAllAnswers(){
  modalRoot.innerHTML = ''; const backdrop = document.createElement('div'); backdrop.className='modal-backdrop';
  const modal = document.createElement('div'); modal.className='modal';
  modal.innerHTML = `<h3>Review Answers</h3><div style="max-height:60vh;overflow:auto"><table class="results-table"><thead><tr><th>#</th><th>Question</th><th>Your</th><th>Correct</th></tr></thead><tbody id="revBody"></tbody></table></div><div style="display:flex;justify-content:flex-end;margin-top:8px"><button id="closeRev" class="btn ghost">Close</button></div>`;
  backdrop.appendChild(modal); modalRoot.appendChild(backdrop); modalRoot.style.display='block';
  const body = modal.querySelector('#revBody');
  QUESTIONS.forEach((q,i)=>{
    const your = state.answers[i] === null ? '-' : String.fromCharCode(65 + state.answers[i]) + '. ' + q.options[state.answers[i]];
    const corr = String.fromCharCode(65 + q.answer) + '. ' + q.options[q.answer];
    const tr = document.createElement('tr'); tr.innerHTML = `<td>${i+1}</td><td style="max-width:380px">${q.q}</td><td>${your}</td><td>${corr}</td>`;
    body.appendChild(tr);
  });
  document.getElementById('closeRev').addEventListener('click', ()=>{ modalRoot.innerHTML=''; modalRoot.style.display='none'; });
}

/* review finished. */

/* idle reset on any interaction */
['click','mousemove','keydown','touchstart'].forEach(ev => document.addEventListener(ev, resetIdleTimer));

/* Before unload confirm if started */
window.addEventListener('beforeunload', function(e){ if(state.started){ e.preventDefault(); e.returnValue = ''; } });

/* init */
(function init(){
  // if previous user exists, prefill name/reg
  const prevUser = JSON.parse(localStorage.getItem('ECE-249_user') || 'null');
  if(prevUser){
    if(prevUser.name) inpName.value = prevUser.name;
    if(prevUser.reg) inpReg.value = prevUser.reg;
    if(prevUser.pic){ imgPreview.src = prevUser.pic; imgPreview.style.display='block'; userPicSmall.src = prevUser.pic; userPicSmall.style.display='block'; }
  }
  checkStartInputs();
  curQ.innerText = 0;
  timeTop.innerText = '00:00';
  timeSpentEl.innerText = '00:00';
  topProgress.innerText = '0%';
  topCorrect.innerText = '0';
  topWrong.innerText = '0';
  topAttempted.innerText = '0';
  topQno.innerText = '0/' + totalQ;
})();
</script>
</body>
</html>
