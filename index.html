<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ECE-249 ‚Äî Test Series (Units 1-6)</title>
<style>
/* ===================== CSS Variables ===================== */
:root{
    --bg:#10a482; /* Background main color variable */
    --card:#0d0e0f; /* Card background color variable */
    --accent:#1d6c52; /* Main accent color */
    --accent-600:#059669; /* Darker accent */
    --accent-400:#44a631; /* Lighter accent */
    --danger:#d41212b8; /* Error/danger color */
    --muted:#1e2939; /* Muted text color */
    --glass:rgba(52, 36, 36, 0.03); /* Glassy overlay color */
}

/* ===================== Global Styles ===================== */
*{
    box-sizing:border-box; /* Padding + border included in element width/height */
    font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial; /* Default font stack */
}
html,body{
    height:100%; /* Full height for page */
}
body{
    margin:0; /* Remove default margin */
    background:
        radial-gradient(900px 500px at 10% 10%, rgba(210, 47, 142, 0.04), transparent), /* Decorative radial gradient */
        linear-gradient(180deg,#3171e0 0%, #29cacf 100%); /* Main page gradient background */
    color:#070b0f; /* Default text color */
    min-height:100vh; /* Minimum height full viewport */
    display:flex; /* Flex layout */
    align-items:center; /* Vertically center content */
    justify-content:center; /* Horizontally center content */
    padding:18px; /* Page padding */
}

/* ===================== Layout Wrappers ===================== */
.wrap{
    width:100%; /* Full width */
    max-width:1100px; /* Max width for large screens */
    margin:0 auto; /* Center horizontally */
}
.card{
    background:linear-gradient(180deg, rgba(5, 3, 3, 0.02), rgba(0,0,0,0.12)); /* Card gradient */
    border-radius:14px; /* Rounded corners */
    padding:18px; /* Inner spacing */
    box-shadow:0 10px 40px rgba(2,6,23,0.7); /* Shadow under card */
    border:1px solid rgba(255,255,255,0.03); /* Subtle border */
}

/* ===================== Header ===================== */
header{
    display:flex; /* Flex layout */
    justify-content:space-between; /* Space between title and other elements */
    align-items:flex-start; /* Align at top */
    gap:12px; /* Gap between items */
}
.title{
    display:flex; /* Flex for vertical layout */
    flex-direction:column; /* Stack title + subtitle vertically */
}
h1{
    margin:0; /* Remove default margin */
    font-size:20px; /* Title font size */
}
.small-by{
    font-size:12px; /* Small subtitle text */
    color:var(--muted); /* Muted color */
    margin-top:6px; /* Space above */
}
.accent-badge{
    background:linear-gradient(90deg,var(--accent-400),var(--accent)); /* Gradient badge */
    padding:6px 10px; /* Inner spacing */
    border-radius:8px; /* Rounded corners */
    color:#022; /* Text color inside badge */
    font-weight:700; /* Bold */
}

/* ===================== Start area ===================== */
.start-area{
    display:flex; /* Flex layout */
    gap:14px; /* Gap between inputs/buttons */
    align-items:flex-start; /* Align at top */
    margin-top:12px; /* Top spacing */
}
.inputs{
    display:flex; /* Flex layout */
    flex-direction:column; /* Stack inputs vertically */
    gap:8px; /* Space between inputs */
}
input[type="text"], input[type="file"]{
    padding:10px; /* Inner spacing */
    border-radius:8px; /* Rounded corners */
    border:1px solid rgba(255,255,255,0.05); /* Border style */
    background:transparent; /* Transparent input background */
    color:inherit; /* Same as body color */
    width:280px; /* Fixed input width */
}

/* ===================== About box ===================== */
.about{
    background:linear-gradient(180deg, rgba(184, 11, 11, 0.01), rgba(156, 43, 43, 0.02)); /* Light background gradient */
    padding:12px; /* Inner spacing */
    border-radius:10px; /* Rounded corners */
    border:1px solid rgba(105, 0, 0, 0.02); /* Light border */
    max-width:600px; /* Max width */
}
.about p{
    margin:6px 0; /* Paragraph spacing */
    color:var(--muted); /* Muted color */
    font-size:13px; /* Small text */
}

/* ===================== Buttons ===================== */
.btn{
    padding:10px 14px; /* Inner spacing */
    border-radius:10px; /* Rounded */
    border:0; /* No border */
    cursor:pointer; /* Pointer on hover */
    font-weight:700; /* Bold */
    background:var(--accent); /* Main accent color */
    color:rgb(0, 0, 0); /* Text color */
    box-shadow:0 6px 20px rgba(14, 239, 164, 0.08); /* Shadow */
    transition:transform .14s ease, box-shadow .14s ease; /* Smooth interaction */
}
.btn:active{
    transform:translateY(2px); /* Button press effect */
}
.btn.ghost{
    background:transparent; /* Ghost button */
    border:1px solid rgb(89, 33, 33); /* Light border */
    color:rgb(142, 64, 0); /* Text color */
}
.btn.warn{
    background:var(--danger); /* Red background for warning */
    color:#52aeb7; /* Text color */
}

/* ===================== Row flex ===================== */
.row{
    display:flex; /* Flex layout */
    gap:8px; /* Gap between items */
    align-items:center; /* Vertical center */
}
.muted{
    color:var(--muted); /* Muted text */
    font-size:13px; /* Small text */
}

/* ===================== Main Layout ===================== */
.main{
    display:flex; /* Flex layout */
    gap:16px; /* Gap between left and right */
    margin-top:16px; /* Top spacing */
}
.left{
    flex:1; /* Left area grows */
}
.right{
    width:320px; /* Fixed width for right panel */
}

/* ===================== Top Status boxes ===================== */
.topstatus{
    display:flex;
    gap:8px;
    align-items:center;
    flex-wrap:wrap; /* Wrap to next line if overflow */
}
.status-box{
    background:var(--glass); /* Glassy background */
    padding:8px 10px; /* Inner padding */
    border-radius:8px;
    min-width:80px; /* Minimum width */
    text-align:center; /* Center text */
    font-size:13px;
}
.status-box .label{
    color:var(--muted);
    font-size:12px;
}
.status-box .val{
    font-weight:800;
    margin-top:4px;
}

/* ===================== Question Area ===================== */
.question-area{
    margin-top:12px;
    padding:18px;
    border-radius:12px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
    border:1px solid rgba(255,255,255,0.02);
}
.qtop{
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.qtext{
    font-size:19px;
    font-weight:700;
    margin:12px 0;
}
.options{
    display:grid; /* Grid layout */
    grid-template-columns:1fr 1fr; /* Two columns for options */
    gap:12px; /* Gap between options */
}
.option{
    padding:12px;
    border-radius:10px;
    border:1px solid rgba(91, 206, 248, 0.438);
    cursor:pointer;
    background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
    display:flex;
    justify-content:space-between;
    align-items:center;
    gap:10px;
    transition:transform .18s cubic-bezier(.2,.9,.3,1), box-shadow .18s ease, background .18s ease;
}
.option:hover{
    transform:translateY(-4px); /* Hover lift effect */
    box-shadow:0 10px 30px rgba(24, 54, 185, 0.6);
}
.option .label{
    font-weight:750;
}
.option .explainTiny{
    font-size:12px;
    color:var(--muted);
    padding:10px 10px;
    border-radius:10px;
    border:5px solid rgba(255,255,255,0.02);
}

/* ===================== Option states ===================== */
.option.correct{
    background:linear-gradient(90deg, rgba(11, 29, 23, 0.12), rgba(22, 69, 53, 0.06));
    border-color:rgba(16,185,129,0.28);
    color:var(--accent);
    box-shadow:0 10px 30px rgba(16,185,129,0.06), 0 0 18px rgba(16,185,129,0.06) inset;
    animation:glow 900ms ease forwards; /* Green glow animation */
}
.option.wrong{
    background:linear-gradient(90deg, rgba(239,68,68,0.06), rgba(239,68,68,0.03));
    border-color:rgba(5, 5, 5, 0.22);
    color:var(--danger);
    animation:shake .45s linear; /* Red shake animation */
}

/* ===================== Animations ===================== */
@keyframes glow{
    0%{box-shadow:0 0 0 rgba(16,185,129,0)}
    50%{box-shadow:0 0 20px rgba(113, 234, 194, 0.08)}
    100%{box-shadow:0 0 6px rgba(16,185,129,0.04)}
}
@keyframes shake{
    0%{transform:translateX(0)}
    25%{transform:translateX(-6px)}
    50%{transform:translateX(6px)}
    75%{transform:translateX(-4px)}
    100%{transform:translateX(0)}
}

/* ===================== Explanation box ===================== */
.explain{
    font-size:14px;
    color:var(--muted);
    margin-top:10px;
    padding:12px;
    border-radius:10px;
    background:rgba(0,0,0,0.05);
    display:none; /* Hidden by default */
}

/* ===================== Controls and Footer ===================== */
.controls{
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-top:14px;
}
.nav{
    display:flex;
    gap:8px;
    align-items:center;
}
.footer{
    margin-top:12px;
    color:var(--muted);
    font-size:13px;
}

/* ===================== Modal ===================== */
.modal-backdrop{
    position:fixed;
    inset:0;
    background:rgba(2,6,23,0.6); /* Semi-transparent backdrop */
    display:flex;
    align-items:center;
    justify-content:center;
    z-index:60;
}
.modal{
    background:#d3d8e3;
    padding:16px;
    border-radius:12px;
    width:90%;
    max-width:720px;
    border:1px solid rgba(255,255,255,0.03);
}
.modal h3{
    margin:0 0 8px;
}
.results-table{
    width:100%;
    border-collapse:collapse;
    margin-top:8px;
}
.results-table th,.results-table td{
    padding:8px;
    border-bottom:1px solid rgba(255,255,255,0.03);
    text-align:left;
    font-size:13px;
}
.img-preview{
    width:56px;
    height:56px;
    border-radius:8px;
    object-fit:cover;
    border:1px solid rgba(255,255,255,0.04);
}

/* ===================== Responsive ===================== */
@media(max-width:880px){
    .main{flex-direction:column;} /* Stack left & right vertically */
    .right{width:100%;} /* Right panel full width */
    .options{grid-template-columns:1fr;} /* Single column for options */
}
</style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="cardRoot">
      <header>
        <div class="title">
          <div style="display:flex;align-items:center;gap:10px">
            <h1>ECE-249 ‚Äî Test Series (Units 1-6)</h1>
            <div class="accent-badge" id="badgeCount">300+ Qs</div>
          </div>
          <div class="small-by">Created by <strong>Aryan Singh</strong></div>
        </div>
        <div style="display:flex;flex-direction:column;align-items:flex-end;gap:8px">
          <div style="font-size:12px;color:var(--muted)">BY:- <strong style="color:var(--accent)">ARYAN SINGH ü•∑</strong></div>
        </div>
      </header>

      <!-- START PAGE -->
      <div id="startPage" style="margin-top:12px">
        <div class="start-area">
          <div class="inputs">
            <input id="inpName" type="text" placeholder="Enter full name "  />
            <input id="inpReg" type="text" placeholder="Registration number" />
            <div style="display:flex;align-items:center;gap:8px">
              <input id="inpPic" type="file" accept="image/*" />
              <img id="imgPreview" class="img-preview" src="" alt="profile picture" style="display:none" />
            </div>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button id="btnStart" class="btn" disabled>Start Test</button>
              <button id="btnResetStart" class="btn ghost">Reset</button>
            </div>
            <div id="startErrors" style="color:#ffcccb;font-size:13px;margin-top:6px"></div>
          </div>
          <div class="about">
            <strong>About this Test</strong>
            <p>‚Ä¢ 200+ MCQs covering Units 1-6. One question at a time.</p>
            <p>‚Ä¢ Name & Registration number are mandatory. Profile picture optional.</p>
            <p>‚Ä¢ No hard time limit, but inactivity of 60s shows a warning.</p>
            <p>‚Ä¢ Wrong answers do not increase progress percentage (progress = correct / total).</p>
          </div>
        </div>
      </div>

      <!-- TEST PAGE (hidden initially) -->
      <div id="testPage" style="display:none">
        <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap">
          <div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap" class="topstatus">
            <div class="status-box"><div class="label">Time</div><div class="val" id="timeTop">00:00</div></div>
            <div class="status-box"><div class="label">Correct</div><div class="val" id="topCorrect">0</div></div>
            <div class="status-box"><div class="label">Wrong</div><div class="val" id="topWrong">0</div></div>
            <div class="status-box"><div class="label">Progress</div><div class="val" id="topProgress">0%</div></div>
            <div class="status-box"><div class="label">Attempted</div><div class="val" id="topAttempted">0</div></div>
            <div class="status-box"><div class="label">Q</div><div class="val" id="topQno">0/300</div></div>
          </div>
          <div style="display:flex;gap:8px;align-items:center">
            <div class="muted" id="showUser">‚Äî</div>
            <button id="btnEndTestTop" class="btn warn">End Test</button>
          </div>
        </div>

        <div class="main">
          <div class="left">
            <div class="question-area">
              <div class="qtop">
                <div class="muted">Name: <span id="showName">‚Äî</span> ‚Ä¢ Reg: <span id="showReg">‚Äî</span></div>
                <div class="muted">Progress: <span id="progressPercent">0%</span></div>
              </div>
              <div class="qtext" id="questionText">Loading...</div>
              <div class="options" id="optionsBox"></div>
              <div class="explain" id="explainBox"></div>

              <div class="controls">
                <div class="nav">
                  <button id="btnPrev" class="btn ghost">Prev</button>
                  <button id="btnNext" class="btn ghost">Next</button>
                  <button id="btnShowExplain" class="btn ghost">Show Explanation</button>
                </div>
                <div class="muted">Score: <span id="scoreInline">0</span></div>
              </div>
            </div>
            <div class="footer">Tip: Click the correct option ‚Äî it turns <span style="color:var(--accent);font-weight:700">green</span>. Wrong picks become <span style="color:var(--danger);font-weight:700">red</span>.</div>
          </div>

          <aside class="right">
            <div class="scorebox">
              <div class="row" style="justify-content:space-between;align-items:center">
                <div style="display:flex;gap:8px;align-items:center">
                  <div style="display:flex;flex-direction:column"><div class="muted" style="font-size:12px">Questions</div><div style="font-weight:800" id="curQ">0</div></div>
                  <div style="display:flex;flex-direction:column"><div class="muted" style="font-size:12px">Total</div><div style="font-weight:800" id="totalQ">300</div></div>
                </div>
                <img id="userPicSmall" class="img-preview" src="" style="display:none">
              </div>

              <div style="display:flex;gap:8px;margin-top:8px">
                <div style="flex:1"><div class="label muted">Correct</div><div id="correctCount" style="font-weight:800">0</div></div>
                <div style="flex:1"><div class="label muted">Wrong</div><div id="wrongCount" style="font-weight:800">0</div></div>
              </div>

              <div style="display:flex;gap:8px;margin-top:10px">
                <div style="flex:1"><div class="label muted">Attempted</div><div id="attemptedCount" style="font-weight:800">0</div></div>
                <div style="flex:1"><div class="label muted">Time</div><div id="timeSpent" style="font-weight:800">00:00</div></div>
              </div>
               <div style="border: 2px solid #555; background-color: transparent; padding: 10px; width: fit-content; border-radius: 5px; font-family: sans-serif; font-size: 14px; color: inherit; margin: 15px 0;">
                    <strong>How to View Answers:</strong>
                    <ol style="margin: 5px 0 0 20px; padding: 0;">
                        <li>Click <b>"End Test"</b></li>
                        <li>Click <b>"OK"</b></li>
                       <li>Click <b>"OK"</b> again</li>
                        <li>Click <b>"Review Answers"</b></li>
                    </ol>
                </div>

              <div style="margin-top:10px;display:flex;gap:8px">
                <!-- <button id="btnSave" class="btn">Save Result</button> -->
                <button id="btnExport" class="btn ghost">Export CSV</button>
              </div>
            </div>
          </aside>
        </div>
      </div>

    </div>
  </div>

  <script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';

  const SUPABASE_URL = "https://kqfdyvqrhytbjyszsxmr.supabase.co";
  const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtxZmR5dnFyaHl0Ymp5c3pzeG1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2NDkzNzQsImV4cCI6MjA4MDIyNTM3NH0.-WpfPxH7Q3xE5UF5448ERdsdSjYTiefF4nVymSM9cu0";

  const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
  window.supabase = supabase;
</script>
<script>const QUESTIONS = [
    {
  "q": "Signals carry information in the form of variations in:",
  "options": ["Physical quantities", "Voltage", "Current", "Power"],
  "answer": 0,
  "explanation": "Signals represent information through variations in physical quantities."
},
{
  "q": "Which signal is continuous in time and amplitude?",
  "options": ["Digital", "Pulse", "Binary", "Analog"],
  "answer": 3,
  "explanation": "Analog signals are continuous in both time and amplitude."
},
{
  "q": "Temperature reading is an example of:",
  "options": ["Analog signal", "Digital signal", "Discrete signal", "Binary signal"],
  "answer": 0,
  "explanation": "Temperature varies continuously, so it is analog."
},
{
  "q": "Audio waveform is an example of:",
  "options": ["Digital signal", "Square wave", "Analog signal", "Pulse signal"],
  "answer": 2,
  "explanation": "Audio signals are continuous analog signals."
},
{
  "q": "Analog signals can take:",
  "options": ["Two values", "Infinite values", "Finite values", "Integer values only"],
  "answer": 1,
  "explanation": "Analog signals can have infinite possible values."
},
{
  "q": "Digital signals are:",
  "options": ["Discrete", "Continuous", "Sinusoidal", "Infinite"],
  "answer": 0,
  "explanation": "Digital signals have discrete values."
},
{
  "q": "Frequency is measured in:",
  "options": ["Volts", "Seconds", "Hertz", "Amperes"],
  "answer": 2,
  "explanation": "Frequency unit is Hertz (Hz)."
},
{
  "q": "Time period is defined as:",
  "options": ["Product of frequency", "Inverse of frequency", "Amplitude", "Phase angle"],
  "answer": 1,
  "explanation": "Time period is the reciprocal of frequency."
},
{
  "q": "Unit of time period is:",
  "options": ["Hertz", "Volt", "Ampere", "Second"],
  "answer": 3,
  "explanation": "Time period is measured in seconds."
},
{
  "q": "Amplitude represents:",
  "options": ["Time duration", "Frequency", "Signal strength", "Phase"],
  "answer": 2,
  "explanation": "Amplitude indicates signal strength."
},
{
  "q": "RMS value stands for:",
  "options": ["Random Mean Signal", "Root Mean Square", "Root Max Square", "Rated Mean Signal"],
  "answer": 1,
  "explanation": "RMS means Root Mean Square."
},
{
  "q": "Peak value of a signal means:",
  "options": ["Maximum value", "Average value", "RMS value", "Instant value"],
  "answer": 0,
  "explanation": "Peak value is the maximum value of the signal."
},
{
  "q": "Instantaneous value refers to:",
  "options": ["Average over cycle", "Peak value", "Value at a specific instant", "RMS value"],
  "answer": 2,
  "explanation": "Instantaneous value is measured at a particular moment."
},
{
  "q": "Average value of a sinusoidal signal over a full cycle is:",
  "options": ["Maximum", "RMS value", "Infinite", "Zero"],
  "answer": 3,
  "explanation": "Average of sine wave over full cycle is zero."
},
{
  "q": "RMS value is important because it represents:",
  "options": ["Heating effect", "Peak power", "Instant value", "Zero value"],
  "answer": 0,
  "explanation": "RMS value gives effective heating value."
},
{
  "q": "If current leads voltage, then voltage:",
  "options": ["Leads current", "Is equal", "Lags current", "Is zero"],
  "answer": 2,
  "explanation": "If current leads, voltage lags."
},
{
  "q": "Lead and lag are measured in:",
  "options": ["Degrees or radians", "Seconds", "Volts", "Amperes"],
  "answer": 0,
  "explanation": "Phase difference is measured in degrees or radians."
},
{
  "q": "Arduino was created in:",
  "options": ["2000", "2005", "2003", "2010"],
  "answer": 1,
  "explanation": "Arduino was created in 2005."
},
{
  "q": "Arduino was created by:",
  "options": ["David Cuartielles and Massimo Banzi", "Steve Jobs", "Bill Gates", "Elon Musk"],
  "answer": 0,
  "explanation": "Arduino was created by two Italian engineers."
},
{
  "q": "Meaning of 'Uno' in Arduino Uno:",
  "options": ["Two", "Zero", "Ten", "One"],
  "answer": 3,
  "explanation": "'Uno' means one in Italian."
},
{
  "q": "Arduino Uno is named to mark:",
  "options": ["Version 0.1", "Prototype", "Version 1.0", "Version 2.0"],
  "answer": 2,
  "explanation": "Arduino Uno marks version 1.0."
},
{
  "q": "Arduino has which type of power supply?",
  "options": ["On-board", "External only", "Battery only", "Solar"],
  "answer": 0,
  "explanation": "Arduino has an on-board power supply."
},
{
  "q": "Arduino communicates with PC using:",
  "options": ["HDMI", "USB port", "Ethernet", "Bluetooth only"],
  "answer": 1,
  "explanation": "Arduino uses USB for PC communication."
},
{
  "q": "Arduino uses which microcontroller chip?",
  "options": ["Atmel", "ARM", "Intel", "Qualcomm"],
  "answer": 0,
  "explanation": "Arduino uses Atmel microcontroller."
},
{
  "q": "Arduino is an example of:",
  "options": ["Closed hardware", "Software only", "IC only", "Open source hardware"],
  "answer": 3,
  "explanation": "Arduino is open source hardware."
},
{
  "q": "Which of the following is a sensor?",
  "options": ["LED", "Thermistor", "Motor", "Speaker"],
  "answer": 1,
  "explanation": "Thermistor is a sensor."
},
{
  "q": "Which device senses light?",
  "options": ["Thermistor", "Ultrasound sensor", "IR LED", "Photoresistor"],
  "answer": 3,
  "explanation": "Photoresistor senses light."
},
{
  "q": "Which is an actuator?",
  "options": ["Motor", "IR sensor", "Thermistor", "LDR"],
  "answer": 0,
  "explanation": "Motor performs action, so it is an actuator."
},
{
  "q": "Which component is used for display?",
  "options": ["Motor", "LCD", "LED", "Sensor"],
  "answer": 1,
  "explanation": "LCD is used for display."
},
{
  "q": "Push button is an example of:",
  "options": ["Sensor", "Actuator", "Input device", "Display"],
  "answer": 2,
  "explanation": "Push button provides input."
},
{
  "q": "Volume knob works on:",
  "options": ["Variable resistance", "Capacitance", "Inductance", "Voltage source"],
  "answer": 0,
  "explanation": "Volume knob is a variable resistor."
},
{
  "q": "Ultrasound sensor is used to measure:",
  "options": ["Temperature", "Distance", "Light", "Voltage"],
  "answer": 1,
  "explanation": "Ultrasound sensors measure distance."
},
{
  "q": "IR sensor works using:",
  "options": ["Visible light", "Sound waves", "Infrared radiation", "Magnetic field"],
  "answer": 2,
  "explanation": "IR sensor uses infrared radiation."
},{
  "q": "Which signal type is more suitable for microcontroller processing?",
  "options": ["Sinusoidal", "Analog", "Digital", "Continuous"],
  "answer": 2,
  "explanation": "Microcontrollers process discrete digital signals."
},
{
  "q": "Why are analog signals difficult to process directly by Arduino?",
  "options": ["They are continuous", "They are noisy", "They are discrete", "They are fast"],
  "answer": 0,
  "explanation": "Analog signals are continuous and need ADC for processing."
},
{
  "q": "Which parameter decides how many times a signal repeats per second?",
  "options": ["Phase", "Amplitude", "Frequency", "Time period"],
  "answer": 2,
  "explanation": "Frequency indicates repetitions per second."
},
{
  "q": "If frequency increases, time period will:",
  "options": ["Decrease", "Increase", "Become zero", "Remain same"],
  "answer": 0,
  "explanation": "Time period is inversely proportional to frequency."
},
{
  "q": "Which value of AC signal determines heating effect?",
  "options": ["Peak value", "RMS value", "Average value", "Instantaneous value"],
  "answer": 1,
  "explanation": "RMS value represents effective heating."
},
{
  "q": "Why RMS value is preferred over average value in AC circuits?",
  "options": ["Always zero", "Represents power", "Easier to calculate", "Higher value"],
  "answer": 1,
  "explanation": "RMS value represents actual power effect."
},
{
  "q": "If voltage lags current, current:",
  "options": ["Is equal", "Leads voltage", "Lags voltage", "Is zero"],
  "answer": 1,
  "explanation": "Lagging voltage means current leads."
},
{
  "q": "Which signal parameter shows maximum deviation from zero?",
  "options": ["Instantaneous value", "Peak value", "RMS value", "Average value"],
  "answer": 1,
  "explanation": "Peak value is maximum deviation."
},
{
  "q": "A sensor mainly converts:",
  "options": ["Signal to motion", "Voltage to current", "Physical quantity to signal", "Energy to power"],
  "answer": 2,
  "explanation": "Sensors convert physical quantities into signals."
},
{
  "q": "Which component converts electrical signal into motion?",
  "options": ["Microcontroller", "Sensor", "Actuator", "ADC"],
  "answer": 2,
  "explanation": "Actuators perform physical action."
},
{
  "q": "Why Arduino is suitable for beginners?",
  "options": ["Cheap processors", "Open source & easy programming", "High voltage operation", "Closed source"],
  "answer": 1,
  "explanation": "Arduino is open source and easy to use."
},
{
  "q": "Which Arduino feature removes need for complex PCB design?",
  "options": ["Large memory", "High speed CPU", "Standard board layout", "USB port"],
  "answer": 2,
  "explanation": "Standard board simplifies hardware design."
},
{
  "q": "Which device requires ADC before Arduino can read it?",
  "options": ["Relay", "Thermistor", "Push button", "LED"],
  "answer": 1,
  "explanation": "Thermistor gives analog output."
},
{
  "q": "Which sensor is best for distance measurement?",
  "options": ["LDR", "IR sensor", "Ultrasound sensor", "Thermistor"],
  "answer": 2,
  "explanation": "Ultrasound sensor measures distance."
},
{
  "q": "Why digital signals are less affected by noise?",
  "options": ["Large amplitude", "Discrete levels", "Continuous nature", "Higher frequency"],
  "answer": 1,
  "explanation": "Discrete levels make digital signals noise-resistant."
},
{
  "q": "Which quantity defines signal strength?",
  "options": ["Time period", "Phase", "Amplitude", "Frequency"],
  "answer": 2,
  "explanation": "Amplitude represents signal strength."
},
{
  "q": "Which device both senses and gives input to Arduino?",
  "options": ["Sensor", "Speaker", "Motor", "LCD"],
  "answer": 0,
  "explanation": "Sensors provide input to Arduino."
},
{
  "q": "Why photoresistor output is analog?",
  "options": ["Continuous light variation", "Digital encoding", "Binary output", "Discrete steps"],
  "answer": 0,
  "explanation": "Light intensity changes continuously."
},
{
  "q": "Which signal value changes at every instant?",
  "options": ["Instantaneous value", "Average value", "Peak value", "RMS value"],
  "answer": 0,
  "explanation": "Instantaneous value varies with time."
},
{
  "q": "Which Arduino component enables communication with computer?",
  "options": ["Power supply", "Atmel chip", "USB port", "Sensor"],
  "answer": 2,
  "explanation": "USB port allows PC communication."
},
{
  "q": "Which is NOT an input device?",
  "options": ["Motor", "IR sensor", "Thermistor", "Push button"],
  "answer": 0,
  "explanation": "Motor is an output (actuator) device."
},
{
  "q": "If charge flowing through a conductor increases while time remains constant, current will:",
  "options": ["Decrease", "Remain constant", "Increase", "Become zero"],
  "answer": 2,
  "explanation": "Current is directly proportional to charge (I = Q/T)."
},
{
  "q": "1 Ampere is equivalent to:",
  "options": ["1 watt/second", "1 joule/second", "1 volt/second", "1 coulomb/second"],
  "answer": 3,
  "explanation": "By definition, 1 A = 1 C/s."
},
{
  "q": "If current is zero, which quantity must also be zero?",
  "options": ["Charge", "Rate of change of charge", "Resistance", "Voltage"],
  "answer": 1,
  "explanation": "Current is the rate of change of charge."
},
{
  "q": "Voltage can be best described as:",
  "options": ["Energy per unit charge", "Rate of energy", "Opposition to current", "Flow of electrons"],
  "answer": 0,
  "explanation": "Voltage is work done per unit charge."
},
{
  "q": "Which relation directly defines electrical power?",
  "options": ["P = V/I", "P = V¬≤/I", "P = VI", "P = I¬≤R"],
  "answer": 2,
  "explanation": "Electrical power is given by P = V √ó I."
},
{
  "q": "If voltage is constant and resistance increases, current will:",
  "options": ["Remain same", "Increase", "Decrease", "Become infinite"],
  "answer": 2,
  "explanation": "From Ohm‚Äôs law, I = V/R."
},
{
  "q": "Which component always absorbs energy?",
  "options": ["Generator", "Battery", "Current source", "Resistor"],
  "answer": 3,
  "explanation": "Resistors are passive elements that absorb energy."
},
{
  "q": "Which element violates Ohm‚Äôs law?",
  "options": ["Conductor", "Metal wire", "Diode", "Resistor"],
  "answer": 2,
  "explanation": "Diode is a non-linear device."
},
{
  "q": "Ohm‚Äôs law is valid only when:",
  "options": ["Current is high", "Temperature is constant", "Circuit is open", "Voltage is constant"],
  "answer": 1,
  "explanation": "Resistance changes with temperature."
},
{
  "q": "In a series circuit, which quantity remains the same?",
  "options": ["Power", "Resistance", "Current", "Voltage"],
  "answer": 2,
  "explanation": "Series circuits have the same current through all elements."
},
{
  "q": "In a parallel circuit, which quantity remains the same?",
  "options": ["Current", "Power", "Voltage", "Resistance"],
  "answer": 2,
  "explanation": "Parallel elements share the same voltage."
},
{
  "q": "If one resistor fails open in a series circuit, the circuit will:",
  "options": ["Increase voltage", "Still work", "Stop conducting", "Draw more current"],
  "answer": 2,
  "explanation": "Series circuit breaks when one element opens."
},
{
  "q": "Which law is used to analyze node currents?",
  "options": ["KCL", "KVL", "Ohm‚Äôs law", "Power law"],
  "answer": 0,
  "explanation": "KCL deals with currents at a node."
},
{
  "q": "KCL is based on conservation of:",
  "options": ["Voltage", "Power", "Energy", "Charge"],
  "answer": 3,
  "explanation": "Charge is conserved at a node."
},
{
  "q": "According to KVL, the algebraic sum of voltages in a closed loop is:",
  "options": ["Infinite", "Zero", "Maximum", "Equal to current"],
  "answer": 1,
  "explanation": "KVL states sum of voltages in a loop is zero."
},
{
  "q": "KVL is based on conservation of:",
  "options": ["Energy", "Charge", "Current", "Mass"],
  "answer": 0,
  "explanation": "KVL follows conservation of energy."
},
{
  "q": "If more resistors are added in series, equivalent resistance will:",
  "options": ["Remain same", "Increase", "Become zero", "Decrease"],
  "answer": 1,
  "explanation": "Series resistances add up."
},
{
  "q": "If more resistors are added in parallel, equivalent resistance will:",
  "options": ["Increase", "Decrease", "Become infinite", "Remain same"],
  "answer": 1,
  "explanation": "Parallel paths reduce total resistance."
},
{
  "q": "Which circuit divides voltage?",
  "options": ["Parallel", "Series", "Short", "Open"],
  "answer": 1,
  "explanation": "Series circuits divide voltage."
},
{
  "q": "Which circuit divides current?",
  "options": ["Parallel", "Short", "Series", "Open"],
  "answer": 0,
  "explanation": "Parallel circuits divide current."
},
{
  "q": "A node is defined as:",
  "options": ["Voltage source", "Closed path", "Single element", "Connection of two or more branches"],
  "answer": 3,
  "explanation": "Node connects two or more branches."
},
{
  "q": "A loop in a circuit must be:",
  "options": ["Closed", "Linear", "Parallel", "Open"],
  "answer": 0,
  "explanation": "A loop is a closed path."
},
{
  "q": "Which quantity determines heating effect in a resistor?",
  "options": ["Charge", "Power", "Current", "Voltage"],
  "answer": 1,
  "explanation": "Heating depends on power dissipation."
},
{
  "q": "If power rating of a device is low, it means:",
  "options": ["High current", "More resistance", "Less energy per second", "High voltage"],
  "answer": 2,
  "explanation": "Power is energy consumed per unit time."
},
{
  "q": "Which element provides energy to a circuit?",
  "options": ["Inductor", "Battery", "Resistor", "Capacitor"],
  "answer": 1,
  "explanation": "Battery is an active element."
},
{
  "q": "Equivalent resistance of resistors in series is:",
  "options": ["Inverse sum", "Product of resistances", "Difference", "Sum of resistances"],
  "answer": 3,
  "explanation": "Series resistances add directly."
},
{
  "q": "Equivalent resistance of resistors in parallel is always:",
  "options": ["Equal to largest resistor", "Greater than largest resistor", "Less than smallest resistor", "Zero"],
  "answer": 2,
  "explanation": "Parallel resistance is always less than smallest resistor."
},
{
  "q": "Which law alone is NOT sufficient to analyze a circuit?",
  "options": ["KCL", "KVL", "Ohm‚Äôs law", "Kirchhoff‚Äôs laws"],
  "answer": 2,
  "explanation": "Ohm‚Äôs law alone cannot analyze complex circuits."
},
{
  "q": "If voltage across a resistor is doubled, power will become:",
  "options": ["Double", "Half", "Four times", "Unchanged"],
  "answer": 2,
  "explanation": "Power ‚àù V¬≤/R."
},
{
  "q": "If current through a resistor is doubled, power will become:",
  "options": ["Double", "Half", "Four times", "Zero"],
  "answer": 2,
  "explanation": "Power ‚àù I¬≤R."
},
{
  "q": "Why does conductivity of a semiconductor increase with temperature?",
  "options": ["Mobility becomes zero", "Band gap increases", "More electron-hole pairs are generated", "Resistance decreases"],
  "answer": 2,
  "explanation": "Higher temperature generates more electron-hole pairs."
},
{
  "q": "At absolute zero temperature, an intrinsic semiconductor behaves like:",
  "options": ["Insulator", "Conductor", "Metal", "Superconductor"],
  "answer": 0,
  "explanation": "No free charge carriers exist at absolute zero."
},
{
  "q": "A semiconductor generally has how many valence electrons?",
  "options": ["5", "3", "2", "4"],
  "answer": 3,
  "explanation": "Semiconductors like Si and Ge have 4 valence electrons."
},
{
  "q": "Which bond holds atoms together in a semiconductor crystal?",
  "options": ["Ionic", "Hydrogen", "Metallic", "Covalent"],
  "answer": 3,
  "explanation": "Semiconductors are formed by covalent bonds."
},
{
  "q": "In an intrinsic semiconductor, number of electrons and holes are:",
  "options": ["Unequal", "Equal", "Zero", "Infinite"],
  "answer": 1,
  "explanation": "Electrons and holes are generated in pairs."
},
{
  "q": "Which impurity creates an N-type semiconductor?",
  "options": ["Aluminium", "Boron", "Phosphorus", "Gallium"],
  "answer": 2,
  "explanation": "Pentavalent impurities create N-type material."
},
{
  "q": "Majority carriers in N-type semiconductor are:",
  "options": ["Ions", "Holes", "Protons", "Electrons"],
  "answer": 3,
  "explanation": "Electrons dominate conduction in N-type."
},
{
  "q": "Which impurity produces a P-type semiconductor?",
  "options": ["Boron", "Arsenic", "Antimony", "Phosphorus"],
  "answer": 0,
  "explanation": "Trivalent impurities produce holes."
},
{
  "q": "Majority carriers in P-type semiconductor are:",
  "options": ["Holes", "Electrons", "Ions", "Neutrons"],
  "answer": 0,
  "explanation": "Holes dominate conduction in P-type."
},
{
  "q": "Why silicon is preferred over germanium?",
  "options": ["More costly", "Higher leakage current", "Better thermal stability", "Lower band gap"],
  "answer": 2,
  "explanation": "Silicon has better thermal stability and oxide layer."
},
{
  "q": "A PN junction diode conducts when it is:",
  "options": ["Unbiased", "Forward biased", "Reverse biased", "Short circuited"],
  "answer": 1,
  "explanation": "Forward bias reduces barrier potential."
},
{
  "q": "The depletion region in a diode becomes wider during:",
  "options": ["Reverse bias", "Breakdown", "No bias", "Forward bias"],
  "answer": 0,
  "explanation": "Reverse bias increases barrier width."
},
{
  "q": "Knee voltage of a silicon diode is approximately:",
  "options": ["0.3 V", "0.5 V", "1.0 V", "0.7 V"],
  "answer": 3,
  "explanation": "Silicon diode turns ON around 0.7 V."
},
{
  "q": "The resistance of a diode in forward bias is:",
  "options": ["Infinite", "Very low", "Very high", "Zero"],
  "answer": 1,
  "explanation": "Forward bias allows easy current flow."
},
{
  "q": "Reverse saturation current in a diode is due to:",
  "options": ["Holes only", "Majority carriers", "Minority carriers", "Ions"],
  "answer": 2,
  "explanation": "Minority carriers cause leakage current."
},
{
  "q": "Avalanche breakdown occurs due to:",
  "options": ["Zener effect", "Thermal heating", "Carrier collision", "Low voltage"],
  "answer": 2,
  "explanation": "High-energy carriers knock out electrons."
},
{
  "q": "Which rectifier uses four diodes?",
  "options": ["Center-tapped full wave", "Half wave", "Clipper", "Bridge rectifier"],
  "answer": 3,
  "explanation": "Bridge rectifier uses four diodes."
},
{
  "q": "Average output voltage of a half-wave rectifier is:",
  "options": ["Vp/2", "2Vp/œÄ", "Vp", "Vp/œÄ"],
  "answer": 3,
  "explanation": "Vavg = Vp / œÄ for half-wave rectifier."
},
{
  "q": "A transistor is called bipolar because:",
  "options": ["Two terminals", "Both electrons and holes conduct", "Two junctions", "Two power supplies"],
  "answer": 1,
  "explanation": "Both charge carriers take part in conduction."
},
{
  "q": "Which region of transistor is heavily doped?",
  "options": ["Substrate", "Emitter", "Base", "Collector"],
  "answer": 1,
  "explanation": "Emitter supplies carriers, so it is heavily doped."
},
{
  "q": "Which transistor configuration gives maximum gain?",
  "options": ["Common base", "Common emitter", "Common collector", "Emitter follower"],
  "answer": 1,
  "explanation": "Common emitter provides high voltage and current gain."
},
{
  "q": "In an NPN transistor, the emitter arrow points:",
  "options": ["Upwards", "Inwards", "Downwards", "Outwards"],
  "answer": 3,
  "explanation": "NPN arrow points OUT."
},
{
  "q": "Which junctions are forward biased in active region?",
  "options": ["Both reverse", "BE reverse, BC forward", "Both forward", "BE forward, BC reverse"],
  "answer": 3,
  "explanation": "Active region enables amplification."
},
{
  "q": "Transistor acts as a switch when operated in:",
  "options": ["Only active", "Cutoff and saturation", "Reverse bias", "Active region"],
  "answer": 1,
  "explanation": "Switching uses cutoff (OFF) and saturation (ON)."
},
{
  "q": "Current gain Œ≤ is defined as:",
  "options": ["IB/IC", "IC/IE", "IC/IB", "IE/IB"],
  "answer": 2,
  "explanation": "Œ≤ represents collector current amplification."
},
{
  "q": "If IB = 1 mA and Œ≤ = 100, IC is:",
  "options": ["1 mA", "50 mA", "100 mA", "10 mA"],
  "answer": 2,
  "explanation": "IC = Œ≤ √ó IB = 100 mA."
},
{
  "q": "In CE configuration, transistor turns ON when VBE is:",
  "options": ["1.5 V", "0.3 V", "0 V", "0.7 V"],
  "answer": 3,
  "explanation": "Silicon transistor conducts at ~0.7 V."
},
{
  "q": "Cutoff region corresponds to transistor acting as:",
  "options": ["Amplifier", "OFF switch", "ON switch", "Rectifier"],
  "answer": 1,
  "explanation": "No base current flows in cutoff."
},
{
  "q": "Saturation region means:",
  "options": ["Maximum current", "No current", "Reverse bias", "Amplification"],
  "answer": 0,
  "explanation": "Both junctions forward biased ‚Üí maximum conduction."
},
{
  "q": "Relation between IE, IB and IC is:",
  "options": ["IE = IC + IB", "IE = IC ‚àí IB", "IC = IE + IB", "IB = IE + IC"],
  "answer": 0,
  "explanation": "Follows Kirchhoff‚Äôs current law."
},
{
  "q": "Why base region is thin?",
  "options": ["Allow carriers to pass easily", "Increase voltage", "Increase resistance", "Reduce power loss"],
  "answer": 0,
  "explanation": "Thin base reduces recombination."
},
{
  "q": "Which device amplifies weak signals?",
  "options": ["Resistor", "Diode", "Transistor", "Rectifier"],
  "answer": 2,
  "explanation": "Transistor provides gain."
},
{
  "q": "A defective transistor shows low resistance in both directions means:",
  "options": ["Ideal transistor", "Shorted transistor", "Good transistor", "Open transistor"],
  "answer": 1,
  "explanation": "Low resistance both ways indicates short."
},{
  "q": "Why does a semiconductor have a negative temperature coefficient of resistance?",
  "options": ["Carrier mobility decreases", "Band gap becomes infinite", "Number of charge carriers increases", "Resistance increases with temperature"],
  "answer": 2,
  "explanation": "Higher temperature generates more electron‚Äìhole pairs."
},
{
  "q": "Which material has the largest energy band gap?",
  "options": ["Semiconductor", "Metal", "Conductor", "Insulator"],
  "answer": 3,
  "explanation": "Insulators have a very large band gap."
},
{
  "q": "Germanium has higher leakage current than silicon because:",
  "options": ["Lower band gap", "Higher resistance", "More doping", "Higher band gap"],
  "answer": 0,
  "explanation": "Lower band gap causes more minority carriers."
},
{
  "q": "Hole current exists because of:",
  "options": ["Movement of protons", "Ion drift", "Movement of electrons", "Vacuum flow"],
  "answer": 2,
  "explanation": "Hole current is due to electron movement in opposite direction."
},
{
  "q": "Doping a semiconductor mainly increases its:",
  "options": ["Volume", "Conductivity", "Mass", "Band gap"],
  "answer": 1,
  "explanation": "Doping increases charge carriers."
},
{
  "q": "Which impurity creates acceptor levels?",
  "options": ["Hexavalent", "Trivalent", "Tetravalent", "Pentavalent"],
  "answer": 1,
  "explanation": "Trivalent impurities accept electrons."
},
{
  "q": "A PN junction at equilibrium has:",
  "options": ["Zero barrier potential", "Built-in potential", "Large current", "No depletion region"],
  "answer": 1,
  "explanation": "Barrier potential exists even without bias."
},
{
  "q": "Why a resistor is connected in series with a diode?",
  "options": ["Reduce noise", "Limit current", "Increase power", "Increase voltage"],
  "answer": 1,
  "explanation": "Series resistor prevents diode damage."
},
{
  "q": "Which bias condition makes diode act as an open switch?",
  "options": ["No bias", "Reverse bias", "Breakdown", "Forward bias"],
  "answer": 1,
  "explanation": "Reverse bias ideally blocks current."
},
{
  "q": "Breakdown voltage depends mainly on:",
  "options": ["Current gain", "Load resistance", "Temperature only", "Doping concentration"],
  "answer": 3,
  "explanation": "Doping sets electric field strength."
},
{
  "q": "Zener breakdown differs from avalanche breakdown because:",
  "options": ["Occurs due to tunneling", "Occurs at high voltage", "Destroys diode", "Occurs due to collision"],
  "answer": 0,
  "explanation": "Zener breakdown is due to tunneling."
},
{
  "q": "Which rectifier gives maximum DC output?",
  "options": ["Clipper", "Bridge rectifier", "Half wave", "Center-tapped full wave"],
  "answer": 1,
  "explanation": "Bridge rectifier uses full AC cycle efficiently."
},
{
  "q": "Output frequency of a full-wave rectifier is:",
  "options": ["Double of input", "Zero", "Same as input", "Half of input"],
  "answer": 0,
  "explanation": "Both half cycles are used."
},
{
  "q": "Peak Inverse Voltage (PIV) of half-wave rectifier is:",
  "options": ["Vp/œÄ", "Vp/2", "Vp", "2Vp"],
  "answer": 2,
  "explanation": "Diode must withstand peak voltage."
},
{
  "q": "Which transistor region controls current flow?",
  "options": ["Collector", "Substrate", "Base", "Emitter"],
  "answer": 2,
  "explanation": "Base controls carrier flow."
},
{
  "q": "Why collector is physically largest region?",
  "options": ["Carry more current", "Reduce voltage", "Increase gain", "Dissipate heat"],
  "answer": 3,
  "explanation": "Collector handles more power."
},
{
  "q": "Emitter efficiency depends mainly on:",
  "options": ["Base width", "Collector doping", "Load resistance", "Emitter doping"],
  "answer": 3,
  "explanation": "Heavily doped emitter injects carriers."
},
{
  "q": "If Œ≤ increases, transistor amplification will:",
  "options": ["Decrease", "Increase", "Become zero", "Remain same"],
  "answer": 1,
  "explanation": "Higher Œ≤ gives more collector current."
},
{
  "q": "Which configuration has no phase reversal?",
  "options": ["Common emitter", "Bridge", "Common collector", "Common base"],
  "answer": 2,
  "explanation": "Emitter follower has no phase inversion."
},
{
  "q": "Which configuration is used as buffer?",
  "options": ["CC", "Rectifier", "CE", "CB"],
  "answer": 0,
  "explanation": "Common collector provides impedance matching."
},
{
  "q": "Why CE configuration is most popular?",
  "options": ["High power gain", "No bias needed", "Low gain", "High stability"],
  "answer": 0,
  "explanation": "CE offers voltage, current, and power gain."
},
{
  "q": "In cutoff region, transistor currents are:",
  "options": ["Unstable", "Maximum", "Zero", "Moderate"],
  "answer": 2,
  "explanation": "No base drive means no conduction."
},
{
  "q": "Which region is unsafe for continuous operation?",
  "options": ["Active", "Saturation", "Breakdown", "Cutoff"],
  "answer": 2,
  "explanation": "Breakdown damages device."
},
{
  "q": "Which law is verified by transistor current relation?",
  "options": ["KCL", "Faraday‚Äôs law", "Ohm‚Äôs law", "KVL"],
  "answer": 0,
  "explanation": "IE = IB + IC follows KCL."
},
{
  "q": "Transistor acts as amplifier when operated in:",
  "options": ["Reverse", "Cutoff", "Saturation", "Active"],
  "answer": 3,
  "explanation": "Active region provides linear operation."
},
{
  "q": "Which device replaced vacuum tubes?",
  "options": ["Transistor", "SCR", "Diode", "MOSFET"],
  "answer": 0,
  "explanation": "Transistors are compact and efficient."
},
{
  "q": "Why transistor consumes less power than vacuum tube?",
  "options": ["High resistance", "More heat", "Lower voltage operation", "Large size"],
  "answer": 2,
  "explanation": "Transistors operate at low voltage."
},
{
  "q": "If base current is zero, collector current will be:",
  "options": ["Maximum", "Infinite", "Unstable", "Zero"],
  "answer": 3,
  "explanation": "No base drive ‚Üí no conduction."
},
{
  "q": "Which semiconductor device can both switch and amplify?",
  "options": ["Diode", "Transistor", "Zener diode", "Rectifier"],
  "answer": 1,
  "explanation": "Transistor performs both functions."
},
{
  "q": "Main purpose of Karnaugh Map is to:",
  "options": ["Increase logic gates", "Draw truth table", "Convert SOP to POS", "Simplify Boolean expressions"],
  "answer": 3,
  "explanation": "K-map minimizes Boolean expressions by eliminating redundant terms."
},
{
  "q": "K-map is a graphical representation of:",
  "options": ["Logic circuit", "Gate diagram", "Truth table", "Boolean equation"],
  "answer": 2,
  "explanation": "Each cell in K-map corresponds to a truth table row."
},
{
  "q": "Number of minterms in a 3-variable K-map is:",
  "options": ["6", "16", "4", "8"],
  "answer": 3,
  "explanation": "2¬≥ = 8 minterms."
},
{
  "q": "Adjacent cells in a K-map differ by:",
  "options": ["Two bits", "No bit", "One bit", "Three bits"],
  "answer": 2,
  "explanation": "K-map follows Gray code sequence."
},
{
  "q": "Diagonal grouping in K-map is:",
  "options": ["Optional", "Allowed", "Recommended", "Not allowed"],
  "answer": 3,
  "explanation": "Only horizontal and vertical grouping is permitted."
},
{
  "q": "Valid group sizes in K-map are:",
  "options": ["Any number", "Powers of 2", "Odd numbers", "Prime numbers"],
  "answer": 1,
  "explanation": "Groups must be 1,2,4,8‚Ä¶ cells."
},
{
  "q": "Which grouping gives maximum simplification?",
  "options": ["Single cell", "Pair", "Largest possible group", "Quad"],
  "answer": 2,
  "explanation": "Larger groups eliminate more variables."
},
{
  "q": "Overlapping groups in K-map are:",
  "options": ["Mandatory", "Allowed", "Incorrect", "Not allowed"],
  "answer": 1,
  "explanation": "Overlapping helps achieve minimal expression."
},
{
  "q": "Prime implicant is a group that:",
  "options": ["Is diagonal", "Cannot be combined further", "Covers all minterms", "Has one cell"],
  "answer": 1,
  "explanation": "Prime implicants cannot be enlarged."
},
{
  "q": "Essential prime implicant is one that:",
  "options": ["Covers unique minterm", "Covers no minterm", "Is optional", "Is smallest"],
  "answer": 0,
  "explanation": "It covers at least one minterm not covered by others."
},
{
  "q": "Don‚Äôt care conditions are represented by:",
  "options": ["Z", "X", "1", "0"],
  "answer": 1,
  "explanation": "X denotes unspecified output."
},
{
  "q": "Don‚Äôt care terms are used to:",
  "options": ["Further simplify expression", "Increase gates", "Remove outputs", "Avoid simplification"],
  "answer": 0,
  "explanation": "They allow flexible grouping."
},
{
  "q": "A 4-variable K-map contains how many cells?",
  "options": ["12", "16", "32", "8"],
  "answer": 1,
  "explanation": "2‚Å¥ = 16 cells."
},
{
  "q": "K-map can simplify expressions in:",
  "options": ["Only POS", "Both SOP and POS", "Only SOP", "Neither"],
  "answer": 1,
  "explanation": "K-map supports SOP and POS forms."
},
{
  "q": "Which gate implementation is preferred in practice?",
  "options": ["OR", "XOR", "AND", "NAND"],
  "answer": 3,
  "explanation": "NAND is a universal and easy-to-fabricate gate."
},
{
  "q": "A half adder has how many inputs?",
  "options": ["3", "1", "2", "4"],
  "answer": 2,
  "explanation": "Half adder adds two input bits."
},
{
  "q": "Outputs of a half adder are:",
  "options": ["Sum and Difference", "Sum and Carry", "Carry and Borrow", "Output and Input"],
  "answer": 1,
  "explanation": "Half adder produces Sum and Carry."
},
{
  "q": "Sum output of half adder is given by:",
  "options": ["A OR B", "A XNOR B", "A AND B", "A XOR B"],
  "answer": 3,
  "explanation": "XOR performs binary addition without carry."
},
{
  "q": "Carry output of half adder is:",
  "options": ["A XOR B", "A NAND B", "A OR B", "A AND B"],
  "answer": 3,
  "explanation": "Carry is generated when both inputs are 1."
},
{
  "q": "A full adder has how many inputs?",
  "options": ["3", "1", "4", "2"],
  "answer": 0,
  "explanation": "Inputs are A, B, and Carry-in."
},
{
  "q": "Outputs of a full adder are:",
  "options": ["Difference and Borrow", "Carry only", "Sum only", "Sum and Carry"],
  "answer": 3,
  "explanation": "Full adder outputs Sum and Carry-out."
},
{
  "q": "Full adder can be constructed using:",
  "options": ["Only XOR gates", "NOR gates only", "One half adder", "Two half adders and OR gate"],
  "answer": 3,
  "explanation": "Two half adders generate sum and carry."
},
{
  "q": "Carry output of full adder is:",
  "options": ["A OR B OR C", "(A AND B) OR (A XOR B) AND C", "A NAND B", "A XOR B XOR C"],
  "answer": 1,
  "explanation": "This is the standard carry equation."
},
{
  "q": "Combinational circuits depend on:",
  "options": ["Present inputs only", "Clock signal", "Past inputs", "Memory"],
  "answer": 0,
  "explanation": "They have no memory element."
},
{
  "q": "Adder is an example of:",
  "options": ["Analog circuit", "Sequential circuit", "Combinational circuit", "Memory circuit"],
  "answer": 2,
  "explanation": "Adder output depends only on current inputs."
},
{
  "q": "Binary addition 1 + 1 gives:",
  "options": ["Sum=0 Carry=0", "Sum=1 Carry=0", "Sum=0 Carry=1", "Sum=1 Carry=1"],
  "answer": 2,
  "explanation": "Binary 1+1 = 10."
},
{
  "q": "Which circuit adds three bits?",
  "options": ["Half adder", "Comparator", "Full adder", "Decoder"],
  "answer": 2,
  "explanation": "Full adder adds A, B and Carry-in."
},
{
  "q": "Why half adder is not practical for multi-bit addition?",
  "options": ["Complex design", "High cost", "No carry input", "Low speed"],
  "answer": 2,
  "explanation": "It cannot accept carry from previous stage."
},
{
  "q": "Which circuit forms the basic building block of arithmetic unit?",
  "options": ["Adder", "Encoder", "Multiplexer", "Decoder"],
  "answer": 0,
  "explanation": "Adders perform core arithmetic operations."
},{
  "q": "Who stated that the 'Next World War will be fought on chips'?",
  "options": ["S. Jaishankar", "Elon Musk", "Sundar Pichai", "Narendra Modi"],
  "answer": 0,
  "explanation": "External Affairs Minister S. Jaishankar highlighted the strategic importance of semiconductors."
},
{
  "q": "India's semiconductor consumption is expected to cross $80 billion by which year?",
  "options": ["2030", "2026", "2024", "2028"],
  "answer": 1,
  "explanation": "The slides project consumption crossing $80 billion by 2026."
},
{
  "q": "By 2030, India's semiconductor consumption is projected to reach:",
  "options": ["$150 Billion", "$90 Billion", "$200 Billion", "$110 Billion"],
  "answer": 3,
  "explanation": "Projections indicate $110 billion by 2030."
},
{
  "q": "Which technology is mentioned as a key innovation driver for semiconductor demand?",
  "options": ["Virtual Reality", "Artificial Intelligence (AI)", "Blockchain", "3D Printing"],
  "answer": 1,
  "explanation": "AI is cited as a major innovation driver stabilising supply chains and meeting demand."
},
{
  "q": "The initiative 'MACA++' appears in the context of:",
  "options": ["A startup", "Course or Subject Code", "Government Policy", "A new processor"],
  "answer": 1,
  "explanation": "It appears as a header on the educational slides."
},
{
  "q": "S. Jaishankar compared the semiconductor industry to:",
  "options": ["A renewable resource", "A software hub", "A global battleground", "A gold mine"],
  "answer": 2,
  "explanation": "He compared it to a battleground for the next world war."
},
{
  "q": "India is investing in capabilities for which of the following sectors?",
  "options": ["Agriculture", "Heavy Machinery", "Textiles", "5G, IoT, and Clean Energy"],
  "answer": 3,
  "explanation": "The slides mention investments in 5G, IoT, clean energy, data, and AI."
},
{
  "q": "Which of the following is a combinational circuit?",
  "options": ["Flip-flop", "Counter", "Subtractor", "Register"],
  "answer": 2,
  "explanation": "Subtractors are combinational; the others are sequential."
},
{
  "q": "Combinational circuits differ from sequential circuits because they:",
  "options": ["Have feedback loops", "Depend on clock pulses", "Have no memory", "Store previous states"],
  "answer": 2,
  "explanation": "Combinational circuit outputs depend only on present inputs."
},
{
  "q": "Which of the following is NOT a combinational circuit?",
  "options": ["Encoder", "Multiplexer", "Flip-Flop", "Comparator"],
  "answer": 2,
  "explanation": "Flip-flops are sequential circuits with memory."
},
{
  "q": "A circuit that performs arithmetic subtraction is called:",
  "options": ["Differential Amplifier", "Adder", "Subtractor", "Attenuator"],
  "answer": 2,
  "explanation": "A digital subtractor performs binary subtraction."
},
{
  "q": "Which block is part of the Arithmetic Logic Unit (ALU)?",
  "options": ["Subtractor", "Monitor", "Clock Generator", "Hard Disk"],
  "answer": 0,
  "explanation": "ALUs contain adders and subtractors for arithmetic operations."
},
{
  "q": "A digital comparator is used to:",
  "options": ["Compare magnitudes of two numbers", "Store two numbers", "Subtract two numbers", "Add two numbers"],
  "answer": 0,
  "explanation": "Comparators determine if A > B, A < B, or A = B."
},
{
  "q": "A 1-bit magnitude comparator has how many outputs?",
  "options": ["3", "4", "1", "2"],
  "answer": 0,
  "explanation": "The outputs are A > B, A = B, and A < B."
},
{
  "q": "Which logic gate acts as a basic 1-bit comparator for equality (A=B)?",
  "options": ["XNOR", "AND", "OR", "XOR"],
  "answer": 0,
  "explanation": "XNOR outputs 1 when inputs are equal (both 0 or both 1)."
},
{
  "q": "For a 1-bit comparator, the output A > B is high when:",
  "options": ["A=1, B=0", "A=0, B=0", "A=1, B=1", "A=0, B=1"],
  "answer": 0,
  "explanation": "A is greater than B only in the case 1 > 0."
},
{
  "q": "The Boolean expression for the A < B output in a 1-bit comparator is:",
  "options": ["A'B", "A+B", "A'B'", "AB'"],
  "answer": 0,
  "explanation": "A < B is true when A=0 (A') and B=1."
},
{
  "q": "The Boolean expression for the A > B output in a 1-bit comparator is:",
  "options": ["AB'", "A'B", "AB", "A+B"],
  "answer": 0,
  "explanation": "A > B is true when A=1 and B=0 (B')."
},
{
  "q": "If inputs A=1 and B=1 are applied to a comparator, which output goes HIGH?",
  "options": ["A < B", "A > B", "None", "A = B"],
  "answer": 3,
  "explanation": "Since 1 equals 1, the equality output is active."
},
{
  "q": "Which gate is often used to check for inequality (A != B)?",
  "options": ["NAND", "XOR", "AND", "XNOR"],
  "answer": 1,
  "explanation": "XOR outputs 1 if inputs are different."
},
{
  "q": "In binary subtraction, 0 - 0 results in:",
  "options": ["Difference 0, Borrow 0", "Difference 1, Borrow 1", "Difference 1, Borrow 0", "Difference 0, Borrow 1"],
  "answer": 0,
  "explanation": "0 - 0 = 0."
},
{
  "q": "In binary subtraction, 0 - 1 results in:",
  "options": ["Difference 0, Borrow 1", "Difference 1, Borrow 0", "Difference 0, Borrow 0", "Difference 1, Borrow 1"],
  "answer": 3,
  "explanation": "0 - 1 requires a borrow, making it 10 - 1 = 1."
},
{
  "q": "In binary subtraction, 1 - 0 results in:",
  "options": ["Difference 1, Borrow 1", "Difference 0, Borrow 0", "Difference 0, Borrow 1", "Difference 1, Borrow 0"],
  "answer": 3,
  "explanation": "1 - 0 = 1."
},
{
  "q": "In binary subtraction, 1 - 1 results in:",
  "options": ["Difference 1, Borrow 1", "Difference 0, Borrow 1", "Difference 1, Borrow 0", "Difference 0, Borrow 0"],
  "answer": 3,
  "explanation": "1 - 1 = 0."
},
{
  "q": "A Half Subtractor takes how many inputs?",
  "options": ["4", "3", "2", "1"],
  "answer": 2,
  "explanation": "Inputs are usually labeled A and B."
},
{
  "q": "The outputs of a Half Subtractor are:",
  "options": ["Difference and Borrow", "Product and Remainder", "Quotient and Divisor", "Sum and Carry"],
  "answer": 0,
  "explanation": "It produces a Difference bit and a Borrow bit."
},
{
  "q": "The Difference output of a Half Subtractor is implemented using:",
  "options": ["AND gate", "OR gate", "NOR gate", "XOR gate"],
  "answer": 3,
  "explanation": "Difference D = A ‚äï B."
},
{
  "q": "The Borrow output of a Half Subtractor (A - B) is implemented using:",
  "options": ["NAND gate", "AND gate with NOT on A", "OR gate", "XOR gate"],
  "answer": 1,
  "explanation": "Borrow = A'B."
},
{
  "q": "Which Boolean expression represents the Borrow output of a Half Subtractor?",
  "options": ["AB", "AB'", "A+B", "A'B"],
  "answer": 3,
  "explanation": "It indicates we need to borrow when A=0 and B=1."
},
{
  "q": "Why is a Half Subtractor insufficient for multi-bit subtraction?",
  "options": ["Too slow", "Cannot handle Borrow-in", "Consumes too much power", "Too expensive"],
  "answer": 1,
  "explanation": "It ignores the borrow from the previous lower significant position."
},
{
  "q": "If A=0 and B=1 in a Half Subtractor, the outputs are:",
  "options": ["Difference=1, Borrow=1", "Difference=1, Borrow=0", "Difference=0, Borrow=0", "Difference=0, Borrow=1"],
  "answer": 0,
  "explanation": "0 - 1 requires borrow, result is 1."
},
{
  "q": "A Full Subtractor has how many inputs?",
  "options": ["3", "1", "4", "2"],
  "answer": 0,
  "explanation": "Inputs are A, B, and Bin (Borrow-in)."
},
{
  "q": "The 'Bin' input in a Full Subtractor stands for:",
  "options": ["Borrow In", "Base Input", "Binary Input", "Bit Inverse"],
  "answer": 0,
  "explanation": "It represents the borrow from the previous stage."
},
{
  "q": "The Difference equation for a Full Subtractor is:",
  "options": ["A + B + Bin", "A ‚äï B ‚äï Bin", "(A ‚äï B) ‚Ä¢ Bin", "A ‚Ä¢ B ‚Ä¢ Bin"],
  "answer": 1,
  "explanation": "Difference is the XOR sum of all three inputs."
},
{
  "q": "A Full Subtractor can be constructed using:",
  "options": ["Two Half Subtractors and an AND gate", "Three XOR gates", "One Half Subtractor", "Two Half Subtractors and an OR gate"],
  "answer": 3,
  "explanation": "Cascading two half subtractors and combining borrows with OR."
},
{
  "q": "The Borrow Out (Bout) expression for a Full Subtractor is:",
  "options": ["A'B'", "AB + Bin", "A + B + Bin", "A'B + A'Bin + BBin"],
  "answer": 3,
  "explanation": "It represents conditions where a borrow is generated or propagated."
},
{
  "q": "If A=0, B=0, Bin=1 in a Full Subtractor, the Difference is:",
  "options": ["0", "1", "Undefined", "High Impedance"],
  "answer": 1,
  "explanation": "0 - 0 - 1 results in Difference 1 (and Borrow 1)."
},
{
  "q": "If A=0, B=0, Bin=1 in a Full Subtractor, the Borrow Out is:",
  "options": ["1", "High Impedance", "0", "Undefined"],
  "answer": 0,
  "explanation" : "We need to borrow to subtract 1 from 0."
},
{
  "q": "If A=1, B=1, Bin=1 in a Full Subtractor, the outputs are:",
  "options": ["Difference=0, Borrow=1", "Difference=0, Borrow=0", "Difference=1, Borrow=0", "Difference=1, Borrow=1"],
  "answer": 3,
  "explanation": "1 - 1 - 1 leads to 1 with a borrow of 1."
},
{
  "q": "The OR gate in a Full Subtractor circuit is used to:",
  "options": ["Combine difference outputs", "Combine borrow outputs", "Generate the clock", "Invert the inputs"],
  "answer": 1,
  "explanation": "It combines the borrow from the first and second half subtractors."
},
{
  "q": "Which gate outputs 1 only when inputs are different?",
  "options": ["AND", "NAND", "XOR", "XNOR"],
  "answer": 2,
  "explanation": "Exclusive OR checks for inequality."
},
{
  "q": "Which gate outputs 1 only when inputs are the same?",
  "options": ["OR", "AND", "XNOR", "XOR"],
  "answer": 2,
  "explanation": "Exclusive NOR checks for equality."
},
{
  "q": "An inverter is also known as a:",
  "options": ["AND gate", "NOT gate", "Switch", "Buffer"],
  "answer": 1,
  "explanation": "It inverts the input signal."
},
{
  "q": "How many XOR gates are typically required for the Difference logic of a Full Subtractor?",
  "options": ["3", "4", "2", "1"],
  "answer": 2,
  "explanation": "One for A‚äïB, another for (A‚äïB)‚äïBin."
},
{
  "q": "If we use a Half Subtractor to subtract 1 from 0, the Borrow output is:",
  "options": ["Z", "0", "1", "Don't Care"],
  "answer": 2,
  "explanation": "0 - 1 generates a borrow."
},
{
  "q": "What device is used to display the output of digital circuits in a lab setting?",
  "options": ["Multimeter only", "Microphone", "Oscilloscope only", "Digital Display / LED"],
  "answer": 3,
  "explanation": "LEDs or 7-segment displays show the binary states."
},
{
  "q": "In the K-Map for A < B (1-bit), the logic 1 is placed in cell:",
  "options": ["A=0, B=0", "A=0, B=1", "A=1, B=0", "A=1, B=1"],
  "answer": 1,
  "explanation": "A < B corresponds to the minterm A'B."
},
{
  "q": "In the K-Map for A > B (1-bit), the logic 1 is placed in cell:",
  "options": ["A=0, B=1", "A=1, B=1", "A=1, B=0", "A=0, B=0"],
  "answer": 2,
  "explanation": "A > B corresponds to the minterm AB'."
},
{
  "q": "The 'Difference' between a Half Adder and a Full Adder is:",
  "options": ["Full Adder has no Carry output", "Half Adder takes a Carry-in", "Half Adder has 3 outputs", "Full Adder takes a Carry-in"],
  "answer": 3,
  "explanation": "Full Adders account for the carry from the previous bit."
},
{
  "q": "Subtractors are a specific type of:",
  "options": ["Memory Device", "Microcontroller", "Sequential Circuit", "Combinational Circuit"],
  "answer": 3,
  "explanation": "Their output depends only on current inputs."
},
{
  "q": "Which of the following refers to 'Be the Change' in the slides?",
  "options": ["AI Revolution", "Industrial Revolution", "EDU Revolution", "Chip Revolution"],
  "answer": 2,
  "explanation": "The slogan 'EDU Revolution: Be the Change' appears on the slides."
},
{
  "q": "The term 'IoT' stands for:",
  "options": ["Input of Technology", "Internal of Transistors", "Integer of Time", "Internet of Things"],
  "answer": 3,
  "explanation": "Mentioned as an investment sector alongside 5G."
},
{
  "q": "Which symbol represents the Borrow-in in a Full Subtractor block diagram?",
  "options": ["Cin", "Bin", "X", "Y"],
  "answer": 1,
  "explanation": "Standard notation for Borrow Input."
},
{
  "q": "In a 1-bit Magnitude Comparator, the expression for the A = B output is equivalent to:",
  "options": ["A XOR B", "A OR B", "A XNOR B", "A NAND B"],
  "answer": 2,
  "explanation": "XNOR (Exclusive-NOR) checks for equality between two bits[cite: 126, 127]."
},
{
  "q": "Which of the following is NOT an output terminal of a Magnitude Comparator?",
  "options": ["A > B", "A + B", "A = B", "A < B"],
  "answer": 1,
  "explanation": "A magnitude comparator has three outputs: A>B, A=B, and A<B [cite: 45-48]."
},
{
  "q": "According to the slides, what is the 'Next World War' predicted to be fought on?",
  "options": ["Water", "Chips (Semiconductors)", "Oil", "Data"],
  "answer": 1,
  "explanation": "External Affairs Minister S. Jaishankar stated the next world war will be fought on chips[cite: 147, 155]."
},
{
  "q": "The Boolean expression for the 'Borrow' output in a Half Subtractor is:",
  "options": ["A'B", "AB", "A + B", "A' + B"],
  "answer": 0,
  "explanation": "The borrow output is High when A=0 and B=1, given by A'B[cite: 271]."
},
{
  "q": "How many Half Subtractors are required to construct a Full Subtractor?",
  "options": ["1", "3", "2", "4"],
  "answer": 2,
  "explanation": "A Full Subtractor is implemented using two Half Subtractors and one OR gate[cite: 308]."
},
{
  "q": "In a Full Subtractor, the final 'Borrow Out' is obtained by using which gate to combine intermediate borrows?",
  "options": ["AND gate", "OR gate", "XOR gate", "NOT gate"],
  "answer": 1,
  "explanation": "An OR gate is used to combine the borrow outputs from the two half subtractors[cite: 308]."
},
{
  "q": "If A=0, B=1, and Bin=0 in a Full Subtractor, what is the value of the Difference (D) output?",
  "options": ["0", "1", "High Impedance", "Undefined"],
  "answer": 1,
  "explanation": "0 - 1 - 0 results in a Difference of 1 (and Borrow of 1)[cite: 282]."
},
{
  "q": "Which combinational circuit component is specifically mentioned as 'Be the Change' in the slides?",
  "options": ["EDU Revolution", "MACA++", "Full Adder", "Multiplexer"],
  "answer": 0,
  "explanation": "The slogan 'EDU Revolution: Be the Change' appears on the title slides[cite: 15, 160]."
},
{
  "q": "In a 1-bit comparator truth table, if A=1 and B=0, which output is High?",
  "options": ["A < B", "A = B", "A > B", "None"],
  "answer": 2,
  "explanation": "When A(1) is greater than B(0), the A > B output is High[cite: 70]."
},
{
  "q": "What is the logic expression for 'Difference' in a Half Subtractor?",
  "options": ["A AND B", "A XOR B", "A OR B", "NOT A"],
  "answer": 1,
  "explanation": "The Difference output acts like an XOR gate (A ‚äï B)[cite: 239, 241]."
},
{
  "q": "Which specific sector's 'transforming governance' is mentioned as part of India's tech push?",
  "options": ["All sectors", "Only Defense", "Only Agriculture", "Only Banking"],
  "answer": 0,
  "explanation": "India has an ambitious push for using tech to transform governance in 'all sectors'[cite: 6]."
},
{
  "q": "The logic expression for A > B in a comparator is given as:",
  "options": ["A'B", "A + B", "AB'", "AB"],
  "answer": 2,
  "explanation": "A > B corresponds to the minterm where A=1 and B=0, which is AB'[cite: 92, 99]."
},
{
  "q": "Ideally, a Full Subtractor takes how many inputs?",
  "options": ["2", "4", "3", "1"],
  "answer": 2,
  "explanation"   : "It takes 3 inputs: A, B, and Bin[cite: 280]."
},
{
  "q": "In binary subtraction, the operation 0 - 1 generates:",
  "options": ["Borrow 1", "Borrow 0", "Carry 1", "No change"],
  "answer": 0,
  "explanation": "0 - 1 requires a borrow from the next higher bit[cite: 191]."
},
{
  "q": "Which logic gate is identified as a 'basic comparator' in the Quick Quiz?",
  "options": ["NAND", "XNOR", "AND", "XOR"],
  "answer": 1,
  "explanation": "XNOR is called a basic comparator because it outputs 1 only if two bits are equal[cite: 126, 127]."
},
{
  "q": "For the input combination A=1, B=1 in a Half Subtractor, the Difference is:",
  "options": ["1", "0", "Undefined", "Infinite"],
  "answer": 1,
  "explanation": "1 - 1 = 0, so the Difference is 0[cite: 236]."
},
{
  "q": "For the input combination A=1, B=1 in a Half Subtractor, the Borrow is:",
  "options": ["1", "0", "High", "Low"],
  "answer": 1,
  "explanation": "1 - 1 does not require a borrow, so Borrow is 0[cite: 236]."
},
{
  "q": "The algebraic sum of minterms for A < B (1-bit) is:",
  "options": ["m1 (A'B)", "m2 (AB')", "m0 (A'B')", "m3 (AB)"],
  "answer": 0,
  "explanation": "A < B is high at A=0, B=1, which corresponds to minterm m1 or A'B[cite: 81]."
},
{
  "q": "Which company/entity is NOT explicitly mentioned in the investment context in the text?",
  "options": ["Google", "BusinessToday.In", "LPU", "Edu Revolution"],
  "answer": 0,
  "explanation": "LPU, BusinessToday, and Edu Revolution appear in the source text; [cite_start]Google is not explicitly cited[cite: 1, 2, 20]."
},
{
  "q": "What is the projected value of India's semiconductor consumption by 2026?",
  "options": ["$80 Billion", "$110 Billion", "$50 Billion", "$100 Billion"],
  "answer": 0,
  "explanation": "Consumption is expected to cross $80 billion by 2026[cite: 9]."
},
{
  "q": "In the Full Subtractor truth table, the case A=1, B=0, Bin=0 results in:",
  "options": ["D=1, Bout=0", "D=0, Bout=1", "D=1, Bout=1", "D=0, Bout=0"],
  "answer": 0,
  "explanation": "1 - 0 - 0 = 1. Difference is 1, Borrow is 0[cite: 282]."
},
{
  "q": "The block diagram of a Full Subtractor has how many outputs?",
  "options": ["3", "1", "4", "2"],
  "answer": 3,
  "explanation": "It has two outputs: Difference (D) and Borrow Out (Bout)[cite: 280]."
},
{
  "q": "A Half Subtractor handles the subtraction of:",
  "options": ["Three bits", "Two bits", "Four bits", "One byte"],
  "answer": 1,
  "explanation": "A half subtractor subtracts two bits (A and B)[cite: 233]."
},
{
  "q": "The expression for Difference (D) in a Full Subtractor is:",
  "options": ["A XNOR B XNOR Bin", "A AND B AND Bin", "A OR B OR Bin", "A XOR B XOR Bin"],
  "answer": 3,
  "explanation": "Difference is the XOR sum: A ‚äï B ‚äï Bin[cite: 318, 324]."
},
{
  "q": "If inputs are A=0, B=1 to a 1-bit comparator, which output is 1?",
  "options": ["A = B", "A > B", "A < B", "None"],
  "answer": 2,
  "explanation": "Since 0 is less than 1, A < B is High[cite: 70]."
},
{
  "q": "Which term represents the input 'borrow' from a previous stage in a Full Subtractor?",
  "options": ["Bin", "Cin", "Bprev", "Xin"],
  "answer": 0,
  "explanation": "Bin stands for Borrow-in[cite: 280]."
},
{
  "q": "The logic circuit for A < B uses which gate in a 1-bit comparator?",
  "options": ["OR", "AND", "XOR", "NOT"],
  "answer": 1,
  "explanation": "The term A'B is implemented using an AND gate (with an inverter on A)[cite: 93]."
},
{
  "q": "According to the slides, India is undertaking reforms for:",
  "options": ["Ease of doing business", "Increasing taxes", "Stopping imports", "Closing factories"],
  "answer": 0,
  "explanation": "The slides mention 'Undertaken wide ranging reforms for ease of doing business'[cite: 10]."
},
{
  "q": "In a Half Subtractor, the input 'A' is also known as the:",
  "options": ["Minuend", "Subtrahend", "Divisor", "Quotient"],
  "answer": 0,
  "explanation": "In A - B, A is the Minuend and B is the Subtrahend (implied by binary subtraction logic)[cite: 191]."
},
{
  "q": "For the subtraction 1 - 0, the borrow required is:",
  "options": ["1", "0", "High", "Negative"],
  "answer": 1,
  "explanation": "1 - 0 does not require a borrow[cite: 191]."
},
{
  "q": "The 'MACA++' branding is associated with which Grade on the slide?",
  "options": ["2", "1", "A", "10"],
  "answer": 0,
  "explanation": "The slide explicitly lists 'GRADE 2' below MACA++[cite: 21, 22]."
},
{
  "q": "The output 'Bout' in a Full Subtractor stands for:",
  "options": ["Borrow Out", "Binary Out", "Base Output", "Bit Output"],
  "answer": 0,
  "explanation": "Bout is the Borrow Out signal sent to the next stage[cite: 280]."
},
{
  "q": "Which of these is a listed type of Subtractor?",
  "options": ["Quarter Subtractor", "Double Subtractor", "Half Subtractor", "Triple Subtractor"],
  "answer": 2,
  "explanation": "The slides list Half Subtractor and Full Subtractor as types [cite: 221-224]."
},
{
  "q": "To implement A=B in a comparator using basic gates (AND, OR, NOT), the expression is:",
  "options": ["AB + A'B'", "A'B + AB'", "A + B", "A' + B'"],
  "answer": 0,
  "explanation": "A XNOR B expands to AB + A'B'[cite: 82, 99]."
},
{
  "q": "In the context of the slides, 'AI' stands for:",
  "options": ["Automated Intelligence", "Artificial Intelligence", "Advanced Interface", "Analog Input"],
  "answer": 1,
  "explanation": "AI is cited as an innovation driver[cite: 131]."
},
{
  "q": "Which logic gate is essentially an inverter?",
  "options": ["AND", "OR", "NOT", "BUFFER"],
  "answer": 2,
  "explanation": "A NOT gate inverts the input signal (0 to 1, 1 to 0)[cite: 93]."
},
{
  "q": "The Full Subtractor truth table row for 0, 1, 1 (A, B, Bin) gives Borrow Out as:",
  "options": ["0", "1", "Low", "Z"],
  "answer": 1,
  "explanation": "0 - 1 - 1 requires a borrow to handle the operation[cite: 282]."
},
{
  "q": "In a Full Subtractor using two Half Subtractors, the first Half Subtractor inputs are:",
  "options": ["A and B", "A and Bin", "B and Bin", "A and Bout"],
  "answer": 0,
  "explanation": "The first HS takes the main inputs A and B[cite: 311]."
},
{
  "q": "The 'Quick Quiz' asks which gate is a basic comparator. The answer provided is:",
  "options": ["XNOR", "NAND", "OR", "AND"],
  "answer": 0,
  "explanation": "XNOR is the answer because it outputs high for equality[cite: 126]."
},
{
  "q": "A logic circuit with 'n-bit comparator' block diagram typically outputs:",
  "options": ["Sum and Carry", "A>B, A=B, A<B", "Difference and Borrow", "Product"],
  "answer": 1,
  "explanation": "The block diagram shows three specific comparison outputs [cite: 53-54]."
},
{
  "q": "Which input combination in a Full Subtractor results in Difference=0 and Borrow Out=0?",
  "options": ["1, 1, 0", "0, 0, 1", "0, 1, 0", "1, 0, 0"],
  "answer": 3,
  "explanation": "1 - 0 - 0 = 1 (Diff=1, Bout=0). Wait, 1-1-0 = 0 (Diff=0, Bout=0). [cite_start]Correct option is 1, 1, 0[cite: 282]."
},
{
  "q": "What component is used to display digital signals in the lab image provided?",
  "options": ["Digital Display", "Speaker", "Microphone", "Printer"],
  "answer": 0,
  "explanation": "The image labels a 'Digital Display' on the multimeter-like device[cite: 201]."
},
{
  "q": "The Boolean function for A < B in a comparator is derived from which K-map cell?",
  "options": ["A=0, B=1", "A=1, B=0", "A=0, B=0", "A=1, B=1"],
  "answer": 0,
  "explanation": "The K-map shows a 1 at the intersection of A=0 and B=1 for Y1 (A<B)[cite: 81]."
},
{
  "q": "Which gate is NOT used in the basic internal structure of a Half Subtractor?",
  "options": ["OR", "XOR", "AND", "NOT"],
  "answer": 0,
  "explanation": "A Half Subtractor uses XOR (Difference) and AND+NOT (Borrow). [cite_start]It does not typically use OR[cite: 241]."
},
{
  "q": "The term 'Subtractor' is defined as a circuit that performs:",
  "options": ["Addition", "Multiplication", "Subtraction", "Division"],
  "answer": 2,
  "explanation": "It is explicitly defined as a circuit that performs subtraction of numbers[cite: 195]."
},{
  "q": "How many select lines are required for an 8-to-1 Multiplexer?",
  "options": ["3", "2", "8", "4"],
  "answer": 0,
  "explanation": "For 2^n inputs, n select lines are needed. Since 8 = 2^3, three select lines are required."
},
{
  "q": "If all select lines of a Multiplexer are 0, which input is selected?",
  "options": ["First input", "Last input", "All inputs", "No input"],
  "answer": 0,
  "explanation": "When all select lines are 0, input I0 (first input) is selected."
},
{
  "q": "A Demultiplexer performs which type of data flow?",
  "options": ["One-to-many", "Many-to-one", "Many-to-many", "One-to-one"],
  "answer": 0,
  "explanation": "A DEMUX distributes one input to one of many outputs."
},
{
  "q": "How many output lines does a 1-to-8 Demultiplexer have?",
  "options": ["8", "3", "1", "16"],
  "answer": 0,
  "explanation": "A 1-to-8 Demultiplexer has eight output lines."
},
{
  "q": "Which circuit can be used as a data router in digital systems?",
  "options": ["Multiplexer", "Decoder", "Comparator", "Half Adder"],
  "answer": 0,
  "explanation": "A Multiplexer routes selected data from multiple inputs to a single output."
},
{
  "q": "Priority Encoder differs from a normal Encoder because it:",
  "options": ["Assigns priority to inputs", "Has more outputs", "Uses flip-flops", "Works sequentially"],
  "answer": 0,
  "explanation": "A Priority Encoder assigns priority when multiple inputs are active."
},
{
  "q": "If multiple inputs are HIGH in a normal Encoder, the output becomes:",
  "options": ["Undefined", "Correct", "Zero", "Maximum"],
  "answer": 0,
  "explanation": "Normal encoders cannot handle multiple active inputs, so output becomes undefined."
},
{
  "q": "Which circuit activates only one output for a given binary input?",
  "options": ["Decoder", "Encoder", "Multiplexer", "Comparator"],
  "answer": 0,
  "explanation": "A Decoder activates exactly one output corresponding to the binary input."
},
{
  "q": "A Decoder is mainly used for:",
  "options": ["Address decoding", "Data storage", "Signal amplification", "Clock generation"],
  "answer": 0,
  "explanation": "Decoders are widely used for memory and address decoding."
},
{
  "q": "Which device converts coded data into individual output lines?",
  "options": ["Decoder", "Encoder", "MUX", "DEMUX"],
  "answer": 0,
  "explanation": "A Decoder converts binary coded inputs into one-hot outputs."
},
{
  "q": "A 4-to-16 Decoder requires how many input lines?",
  "options": ["4", "16", "8", "2"],
  "answer": 0,
  "explanation": "A 4-to-16 Decoder uses 4 input lines to generate 16 outputs."
},
{
  "q": "Which logic gate combination is most suitable to build a Decoder?",
  "options": ["AND and NOT", "OR only", "XOR only", "NOR only"],
  "answer": 0,
  "explanation": "Decoders use NOT gates to generate complements and AND gates to form minterms."
},
{
  "q": "Comparator output A = B is HIGH when:",
  "options": ["All corresponding bits are equal", "A is greater than B", "A is less than B", "Inputs are zero"],
  "answer": 0,
  "explanation": "Equality output becomes HIGH only when all bits of A and B match."
},
{
  "q": "In a magnitude comparator, which outputs should never be HIGH together?",
  "options": ["A > B and A < B", "A = B and A < B", "A > B and A = B", "All can be HIGH"],
  "answer": 0,
  "explanation": "Only one comparison result can be true at any time."
},
{
  "q": "Which comparator output is HIGH when MSB of A is 1 and MSB of B is 0?",
  "options": ["A > B", "A < B", "A = B", "Invalid"],
  "answer": 0,
  "explanation": "A higher MSB value determines the greater number."
},
{
  "q": "Which block is commonly used in ALU design?",
  "options": ["Adder and Comparator", "Decoder only", "Encoder only", "DEMUX only"],
  "answer": 0,
  "explanation": "ALU performs arithmetic and comparison operations."
},
{
  "q": "A Full Subtractor requires how many inputs?",
  "options": ["3", "2", "1", "4"],
  "answer": 0,
  "explanation": "Inputs are A, B, and Borrow-in."
},
{
  "q": "Difference output of a Full Subtractor is equivalent to:",
  "options": ["A ‚äï B ‚äï Bin", "A + B + Bin", "A ¬∑ B ¬∑ Bin", "A + B"],
  "answer": 0,
  "explanation": "The Difference output is produced using XOR logic."
},
{
  "q": "Which circuit is used to select one register among many?",
  "options": ["Multiplexer", "Decoder", "Comparator", "Half Adder"],
  "answer": 0,
  "explanation": "A Multiplexer selects one input from multiple sources."
},
{
  "q": "Which combinational circuit helps reduce hardware by sharing lines?",
  "options": ["Multiplexer", "Comparator", "Full Adder", "Latch"],
  "answer": 0,
  "explanation": "Multiplexers reduce hardware by sharing a single output line."
},
{
  "q": "A Magnitude Comparator has how many output terminals?",
  "options": ["3", "1", "2", "4"],
  "answer": 0,
  "explanation": "It has three outputs: A < B, A = B, and A > B."
},
{
  "q": "In a 1-bit comparator, the equality (A = B) is implemented using which gate?",
  "options": ["XNOR", "XOR", "NAND", "OR"],
  "answer": 0,
  "explanation": "XNOR gives a high output when both inputs are the same."
},
{
  "q": "For a 4:1 Multiplexer, what is the boolean expression for the output Y?",
  "options": [
    "S1'S0'I0 + S1'S0I1 + S1S0'I2 + S1S0I3",
    "S1S0I0 + S1S0I1 + S1S0I2 + S1S0I3",
    "I0 + I1 + I2 + I3",
    "S1I1 + S0I0"
  ],
  "answer": 0,
  "explanation": "The output is the sum of products of selection lines and inputs."
},
{
  "q": "Which device is often called a 'Universal Logic Circuit' because it can implement any Boolean function?",
  "options": ["Multiplexer", "Decoder", "Counter", "Register"],
  "answer": 0,
  "explanation": "Multiplexers can be configured to implement any Boolean function."
},
{
  "q": "In an 8:1 Multiplexer, how many selection lines are there?",
  "options": ["3", "2", "8", "1"],
  "answer": 0,
  "explanation": "8 inputs = 2^3, so 3 select lines are needed."
},
{
  "q": "What is the function of the 'Enable' input in a Decoder?",
  "options": [
    "To activate or deactivate the circuit",
    "To select the output line",
    "To invert the output",
    "To store data"
  ],
  "answer": 0,
  "explanation": "The Enable input controls whether the decoder is operational or disabled."
},
{
  "q": "Which combinational circuit is used to translate a decimal number to BCD?",
  "options": ["Encoder", "Decoder", "Multiplexer", "Demultiplexer"],
  "answer": 0,
  "explanation": "Encoders convert decimal inputs into BCD codes."
},
{
  "q": "A Priority Encoder differs from a standard Encoder because it:",
  "options": [
    "Handles multiple active inputs by prioritizing one",
    "Has fewer outputs",
    "Is faster",
    "Cannot handle active inputs"
  ],
  "answer": 0,
  "explanation": "Priority encoders resolve conflicts when multiple inputs are active."
},
{
  "q": "Which logic circuit is described as 'One to Many'?",
  "options": ["Demultiplexer", "Multiplexer", "Encoder", "Full Adder"],
  "answer": 0,
  "explanation": "Demultiplexers route one input to one of many outputs."
},
{
  "q": "For a 1-to-4 Demultiplexer, how many selection lines are required?",
  "options": ["2", "4", "1", "3"],
  "answer": 0,
  "explanation": "4 outputs = 2^2, so 2 select lines are required."
},
{
  "q": "The output of a Comparator when A (10) > B (01) is:",
  "options": [
    "A > B is High",
    "A < B is High",
    "A = B is High",
    "All outputs Low"
  ],
  "answer": 0,
  "explanation": "Binary 10 (2) is greater than 01 (1)."
},
{
  "q": "In a 2-bit Comparator, how many inputs are there in total?",
  "options": ["4", "2", "3", "8"],
  "answer": 0,
  "explanation": "Two 2-bit numbers require 4 input bits."
},
{
  "q": "The boolean expression for A < B in a 1-bit comparator is:",
  "options": ["A'B", "AB'", "A'B'", "A + B"],
  "answer": 0,
  "explanation": "A < B only when A = 0 and B = 1."
},
{
  "q": "Which IC is a common example of a Decoder/Demultiplexer?",
  "options": ["74138", "7400", "7404", "7432"],
  "answer": 0,
  "explanation": "IC 74138 is a 3-to-8 line decoder/demultiplexer."
},
{
  "q": "In a Multiplexer, the input selected depends on:",
  "options": [
    "The binary value of select lines",
    "The clock signal",
    "The previous output",
    "The power supply"
  ],
  "answer": 0,
  "explanation": "Select lines determine which input is routed to the output."
},
{
  "q": "A Full Subtractor logic can be implemented using a MUX. How many variables would be select lines?",
  "options": ["3", "2", "1", "4"],
  "answer": 0,
  "explanation": "A Full Subtractor has three variables: A, B, and Borrow-in."
},
{
  "q": "Which circuit is essentially a Decoder with an Enable input used as a data input?",
  "options": ["Demultiplexer", "Encoder", "Multiplexer", "Comparator"],
  "answer": 0,
  "explanation": "A Demultiplexer is a decoder with its enable acting as data input."
},
{
  "q": "What is the primary application of a Multiplexer?",
  "options": [
    "Communication systems (Time Division Multiplexing)",
    "Power generation",
    "Voltage regulation",
    "Noise filtering"
  ],
  "answer": 0,
  "explanation": "MUXs allow multiple signals to share a single communication line."
},
{
  "q": "If a 3x8 Decoder has active-low outputs, an output is selected by being:",
  "options": ["Low (0)", "High (1)", "Floating", "Oscillating"],
  "answer": 0,
  "explanation": "Active-low outputs go LOW when selected."
},
{
  "q": "How many AND gates are required for a 1-to-4 Demultiplexer?",
  "options": ["4", "2", "1", "8"],
  "answer": 0,
  "explanation": "Each output requires one AND gate."
},
{
  "q": "Which combinational circuit is used to convert Octal to Binary?",
  "options": ["Encoder", "Decoder", "Comparator", "Multiplexer"],
  "answer": 0,
  "explanation": "Encoders convert octal inputs into binary codes."
},
{
  "q": "In a 4:1 MUX, if S1 = 1 and S0 = 0, which input is selected?",
  "options": ["I2", "I0", "I1", "I3"],
  "answer": 0,
  "explanation": "Select lines 10 correspond to input I2."
},
{
  "q": "The number of inputs in a BCD-to-7-Segment Decoder is:",
  "options": ["4", "7", "10", "3"],
  "answer": 0,
  "explanation": "BCD uses 4 input bits."
},
{
  "q": "The number of outputs in a BCD-to-7-Segment Decoder is:",
  "options": ["7", "4", "10", "1"],
  "answer": 0,
  "explanation": "There are 7 segments (a‚Äìg)."
},
{
  "q": "Cascading two 4:1 Multiplexers can create a:",
  "options": ["8:1 Multiplexer", "16:1 Multiplexer", "2:1 Multiplexer", "Demultiplexer"],
  "answer": 0,
  "explanation": "Cascading increases the number of selectable inputs."
},
{
  "q": "Which device identifies the position of a specific active input line?",
  "options": ["Encoder", "Decoder", "Multiplexer", "Subtractor"],
  "answer": 0,
  "explanation": "Encoders output the binary address of the active input."
},
{
  "q": "In a Comparator, if A = 1011 and B = 1011, the output is:",
  "options": ["A = B", "A > B", "A < B", "Error"],
  "answer": 0,
  "explanation": "The bits are identical, so the equality output is high."
},
{
  "q": "A logic circuit that accepts one data input and distributes it to 4 output lines is a:",
  "options": ["1-to-4 Demultiplexer", "4-to-1 Multiplexer", "2-to-4 Decoder", "Encoder"],
  "answer": 0,
  "explanation": "1 input to 4 outputs describes a 1-to-4 DEMUX."
},
{
  "q": "Which boolean equation represents A > B for a 1-bit comparator?",
  "options": ["A B'", "A' B", "A' B'", "A B"],
  "answer": 0,
  "explanation": "A > B is true when A = 1 and B = 0."
},
{
  "q": "What is the maximum number of inputs a 3-select line Multiplexer can handle?",
  "options": ["8", "4", "16", "2"],
  "answer": 0,
  "explanation": "2^3 = 8 inputs."
},
{
  "q": "Which of the following is NOT a valid type of Decoder?",
  "options": ["8-to-1 Decoder", "2-to-4 Decoder", "3-to-8 Decoder", "4-to-16 Decoder"],
  "answer": 0,
  "explanation": "8-to-1 implies many to one, which describes a Multiplexer, not a Decoder."
},
{
  "q": "The outputs of an Encoder are usually:",
  "options": ["Binary code", "Decimal numbers", "One-hot code", "Analog signals"],
  "answer": 0,
  "explanation": "Encoders generate the binary code corresponding to the active input."
},
{
  "q": "In a 4-to-1 MUX, the select lines are named:",
  "options": ["S1, S0", "A, B, C", "D0, D1", "X, Y"],
  "answer": 0,
  "explanation": "Two select lines are required, typically labeled S1 and S0."
},
{
  "q": "A basic 2-to-1 Multiplexer can be built using:",
  "options": [
    "Two AND gates, one OR gate, one NOT gate",
    "Three AND gates",
    "Two OR gates",
    "One XOR gate"
  ],
  "answer": 0,
  "explanation": "Standard implementation uses AND, OR, and NOT gates."
},
{
  "q": "The term 'MACA++' appearing in the slides is related to:",
  "options": ["Course Code / Subject", "A programming language", "A microprocessor", "A government scheme"],
  "answer": 0,
  "explanation": "It appears as a header or identifier on the academic slides."
},
{
  "q": "Which component is essential for building a parallel-to-serial converter?",
  "options": ["Multiplexer", "Demultiplexer", "Decoder", "Comparator"],
  "answer": 0,
  "explanation": "Multiplexers convert parallel inputs into serial output."
},
{
  "q": "If an Encoder has input lines representing decimal 0‚Äì9, it is likely a:",
  "options": [
    "Decimal to BCD Encoder",
    "Octal to Binary Encoder",
    "Hex to Binary Encoder",
    "Priority Decoder"
  ],
  "answer": 0,
  "explanation": "Decimal-to-BCD encoders convert digits 0‚Äì9 into BCD."
},
{
  "q": "In a 1-to-4 Demultiplexer, if Select lines S1 = 1 and S0 = 1, which output gets the data?",
  "options": ["Y3", "Y0", "Y1", "Y2"],
  "answer": 0,
  "explanation": "Binary 11 selects output Y3."
},
{
  "q": "In a 4-bit Serial-In Serial-Out (SISO) shift register, how many clock pulses are required to completely load data 1011?",
  "options": ["1", "4", "8", "2"],
  "answer": 1,
  "explanation": "An N-bit SISO register requires N clock pulses."
},
{
  "q": "Which type of register converts parallel data into a serial stream?",
  "options": ["SIPO", "PISO", "SISO", "PIPO"],
  "answer": 1,
  "explanation": "PISO registers shift parallel data out serially."
},
{
  "q": "In a Parallel-In Parallel-Out (PIPO) register, the propagation delay is:",
  "options": [
    "N times the flip-flop delay",
    "Sum of all flip-flop delays",
    "Equal to the delay of a single flip-flop",
    "Zero"
  ],
  "answer": 2,
  "explanation": "All flip-flops load simultaneously."
},
{
  "q": "A Universal Shift Register can:",
  "options": [
    "Only shift left",
    "Only shift right",
    "Shift left, shift right, and parallel load",
    "Only count"
  ],
  "answer": 2,
  "explanation": "It supports bidirectional shifting and parallel loading."
},
{
  "q": "The primary disadvantage of an Asynchronous Counter is:",
  "options": [
    "More power consumption",
    "Accumulated propagation delay",
    "Complex design",
    "More gates"
  ],
  "answer": 1,
  "explanation": "Ripple delays limit high-frequency operation."
},
{
  "q": "A Johnson Counter with 4 flip-flops produces how many states?",
  "options": ["4", "8", "16", "32"],
  "answer": 1,
  "explanation": "A Johnson counter produces 2N states."
},
{
  "q": "Which register operation multiplies a binary number by 2?",
  "options": ["Shift Right", "Shift Left", "Parallel Load", "Reset"],
  "answer": 1,
  "explanation": "Left shift appends a 0 at LSB, doubling the value."
},{
  "q": "If a Johnson Counter starts at 0000, what is the next state?",
  "options": ["0001", "1000", "0100", "1111"],
  "answer": 1,
  "explanation": "Johnson counters shift data and invert the feedback. 0000 ‚Üí 1000 (inverted 0 fed to MSB)."
},
{
  "q": "What component is used to decode the output of a counter to drive a 7-segment display?",
  "options": ["Multiplexer", "Encoder", "Decoder", "Flip-Flop"],
  "answer": 2,
  "explanation": "A BCD-to-7-segment decoder converts counter outputs into segment control signals."
},
{
  "q": "Which type of counter is preferred for high-speed digital systems?",
  "options": ["Asynchronous Counter", "Synchronous Counter", "Ripple Counter", "Mechanical Counter"],
  "answer": 1,
  "explanation": "All flip-flops switch simultaneously in synchronous counters, reducing delay."
},
{
  "q": "The 'Race-Around Condition' in a JK Flip-Flop occurs when the clock pulse width is:",
  "options": [
    "Greater than the propagation delay of the flip-flop",
    "Less than the propagation delay",
    "Equal to zero",
    "Equal to the setup time"
  ],
  "answer": 0,
  "explanation": "If the clock pulse is wider than the FF delay and J=K=1, multiple toggles can occur."
},
{
  "q": "In a Master-Slave JK Flip-Flop, the Master latch is active when the clock is:",
  "options": ["High (Logic 1)", "Low (Logic 0)", "Rising Edge", "Falling Edge"],
  "answer": 0,
  "explanation": "The Master is active when the clock is HIGH; the Slave is active when LOW."
},
{
  "q": "Ideally, the input impedance of a voltmeter should be:",
  "options": ["Infinite", "Zero", "Very Low", "Equal to the load"],
  "answer": 0,
  "explanation": "Infinite impedance prevents the voltmeter from loading the circuit."
},
{
  "q": "Ideally, the internal resistance of an ammeter should be:",
  "options": ["Zero", "Infinite", "Very High", "100 Ohms"],
  "answer": 0,
  "explanation": "Zero resistance ensures no voltage drop across the ammeter."
},
{
  "q": "If S1=1 and S0=1 in a Universal Shift Register, the operation is:",
  "options": ["Parallel Load", "Shift Right", "Shift Left", "Hold"],
  "answer": 0,
  "explanation": "Standard universal shift registers use S1S0 = 11 for parallel loading."
},
{
  "q": "Minimum number of flip-flops required to design a Mod-12 counter is:",
  "options": ["4", "3", "12", "6"],
  "answer": 0,
  "explanation": "2‚Å¥ = 16 ‚â• 12, so 4 flip-flops are required."
},
{
  "q": "In a 4-bit Johnson Counter, if the present state is 0111, the next state is:",
  "options": ["0011", "1000", "1111", "0001"],
  "answer": 0,
  "explanation": "The inverted LSB is fed back and bits shift, giving 0011."
},
{
  "q": "The maximum count of an n-bit counter is:",
  "options": ["2^n - 1", "2^n", "n", "2n"],
  "answer": 0,
  "explanation": "An n-bit counter counts from 0 to (2^n ‚àí 1)."
},
{
  "q": "Which theorem states that total response equals the sum of individual responses?",
  "options": ["Superposition Theorem", "Thevenin‚Äôs Theorem", "Norton‚Äôs Theorem", "Maximum Power Transfer"],
  "answer": 0,
  "explanation": "Superposition applies to linear circuits with multiple sources."
},
{
  "q": "A 5-variable Karnaugh Map contains how many cells?",
  "options": ["32", "16", "25", "10"],
  "answer": 0,
  "explanation": "A K-Map contains 2^n cells; for n=5, 32 cells."
},
{
  "q": "Which gate is known as a Controlled Inverter?",
  "options": ["XOR", "AND", "OR", "NAND"],
  "answer": 0,
  "explanation": "XOR inverts the input when the control input is 1."
},
{
  "q": "To convert a D Flip-Flop into a T Flip-Flop, the logic used is:",
  "options": ["D = T ‚äï Q", "D = TQ", "D = T + Q", "D = T ‚äô Q"],
  "answer": 0,
  "explanation": "XOR allows toggling when T=1 and holding when T=0."
},
{
  "q": "In a Ripple Counter, the frequency at the nth flip-flop output is:",
  "options": ["f / 2^n", "f √ó n", "f / n", "f"],
  "answer": 0,
  "explanation": "Each stage divides the frequency by 2."
},
{
  "q": "A Transparent Latch allows data to pass when:",
  "options": ["Enable is High", "Clock edge occurs", "Enable is Low", "Reset is active"],
  "answer": 0,
  "explanation": "The latch is transparent while the enable signal is active."
},
{
  "q": "Which device generates minterms directly?",
  "options": ["Decoder", "Encoder", "Multiplexer", "Adder"],
  "answer": 0,
  "explanation": "A decoder activates one output for each input combination."
},
{
  "q": "Which Boolean law explains A + AB = A?",
  "options": ["Absorption Law", "De Morgan‚Äôs Law", "Identity Law", "Distributive Law"],
  "answer": 0,
  "explanation": "According to absorption, A absorbs AB."
},
{
  "q": "In a 3-bit Johnson Counter, how many unique states are generated?",
  "options": ["6", "8", "3", "5"],
  "answer": 0,
  "explanation": "A Johnson counter generates 2N states. For N=3, total states = 6."
},
{
  "q": "Which flip-flop eliminates the race-around condition inherently?",
  "options": ["D Flip-Flop", "SR Flip-Flop", "JK Flip-Flop", "T Flip-Flop"],
  "answer": 0,
  "explanation": "D Flip-Flop has only one data input, so race-around cannot occur."
},
{
  "q": "If all inputs of a NAND gate are tied together, it behaves as:",
  "options": ["NOT gate", "AND gate", "OR gate", "XOR gate"],
  "answer": 0,
  "explanation": "NAND with same inputs gives output = NOT(A¬∑A) = A'."
},
{
  "q": "In K-Map, grouping is always done in powers of:",
  "options": ["2", "4", "3", "10"],
  "answer": 0,
  "explanation": "Groups must be of size 2‚Åø (1,2,4,8‚Ä¶)."
},
{
  "q": "Which counter can be used as a frequency divider?",
  "options": ["Binary Counter", "Comparator", "Encoder", "Decoder"],
  "answer": 0,
  "explanation": "Each flip-flop in a binary counter divides frequency by 2."
},
{
  "q": "In a full adder, the Carry output is 1 when:",
  "options": ["At least two inputs are 1", "All inputs are 0", "Only one input is 1", "Inputs are equal"],
  "answer": 0,
  "explanation": "Carry is generated when two or more bits are high."
},
{
  "q": "The maximum number of states in a Mod-10 counter is:",
  "options": ["10", "8", "16", "9"],
  "answer": 0,
  "explanation": "A Mod-N counter cycles through exactly N states."
},
{
  "q": "Which logic gate is functionally complete by itself?",
  "options": ["NAND", "XOR", "OR", "XNOR"],
  "answer": 0,
  "explanation": "Any Boolean function can be implemented using only NAND gates."
},
{
  "q": "In a comparator, cascading is required to:",
  "options": ["Compare larger bit-width numbers", "Increase speed", "Reduce power", "Store data"],
  "answer": 0,
  "explanation": "Cascading allows multiple comparators to work together for multi-bit comparison."
},
{
  "q": "A synchronous reset differs from an asynchronous reset because it:",
  "options": ["Works only on clock edge", "Acts immediately", "Ignores clock", "Needs extra power"],
  "answer": 0,
  "explanation": "Synchronous reset is sampled only at the active clock edge."
},{
  "q": "Why is a Schmitt Trigger sometimes used at the clock input of a counter?",
  "options": ["To invert the clock", "To reduce frequency", "To clean up noisy/slow-rising clock signals", "To store data"],
  "answer": 2,
  "explanation": "Schmitt triggers have hysteresis, converting noisy or slow signals into clean, sharp square waves for reliable clocking."
},
{
  "q": "If a 4-bit ripple counter has a propagation delay of 10ns per flip-flop, the total delay is:",
  "options": ["10ns", "20ns", "40ns", "5ns"],
  "answer": 2,
  "explanation": "Delays accumulate in ripple counters. 4 stages * 10ns = 40ns total delay."
},
{
  "q": "Which state is considered 'illegal' or 'unused' in a standard 4-bit Ring Counter?",
  "options": ["0001", "0010", "0100", "1010"],
  "answer": 3,
  "explanation": "A ring counter should only have one '1'. '1010' has two '1's, making it an invalid state."
},
{
  "q": "The Clear (CLR) or Reset input on a flip-flop used in a counter is usually:",
  "options": ["Synchronous", "Asynchronous", "Not used", "Slower than clock"],
  "answer": 1,
  "explanation": "Asynchronous Clear inputs override the clock to reset the counter immediately, crucial for truncating sequences (e.g., Mod-12)."
},
{
  "q": "In a bidirectional shift register, the direction of shift is controlled by:",
  "options": ["The Clock polarity", "A Mode Control input", "The power supply voltage", "The number of flip-flops"],
  "answer": 1,
  "explanation": "A control line (Mode) selects which neighbor (left or right) feeds the flip-flop input via combinational logic."
},
{
  "q": "What is the equivalent gate operation performed by a Shift-Left?",
  "options": ["Multiplication by 2", "Division by 2", "Addition of 2", "Subtraction of 2"],
  "answer": 0,
  "explanation": "Shifting bits left (e.g., 0010 -> 0100, which is 2 -> 4) multiplies the binary value by 2."
},
{
  "q": "What is the equivalent gate operation performed by a Shift-Right?",
  "options": ["Multiplication by 2", "Division by 2", "Addition of 2", "Subtraction of 2"],
  "answer": 1,
  "explanation": "Shifting bits right (e.g., 0100 -> 0010, which is 4 -> 2) divides the binary value by 2."
},
{
  "q": "A Modulus-N counter counts from:",
  "options": ["0 to N", "0 to N-1", "1 to N", "1 to N+1"],
  "answer": 1,
  "explanation": "A Mod-N counter has N states, typically counting from 0 up to N-1 before resetting."
},
{
  "q": "To design a Synchronous Counter that counts 0, 2, 4, 6, ..., you must:",
  "options": ["Use T Flip-Flops only", "Design the K-Map logic to skip odd numbers", "Use a Ripple counter", "Use a Ring counter"],
  "answer": 1,
  "explanation": "The next-state logic (derived from excitation tables/K-Maps) must explicitly map even states to the next even state and handle odd states as don't cares or resets."
},
{
  "q": "Which flip-flop is easiest to use for simple counters because its excitation table requires only 'Toggle' or 'Hold'?",
  "options": ["D Flip-Flop", "SR Flip-Flop", "T Flip-Flop", "Latch"],
  "answer": 2,
  "explanation": "T Flip-Flops are ideal because if you want the state to change, T=1; if not, T=0. This simplifies K-Maps."
},
{
  "q": "In the Practice Sheet 1 example, currents I1 and I2 are solved using which method?",
  "options": ["Simultaneous equations from KVL loops", "Simple Ohm's law", "VDR", "CDR"],
  "answer": 0,
  "explanation": "The solution involves writing two loop equations (-100i1... -200i2...) and solving them simultaneously."
},
{
  "q": "In a sequential circuit, the output depends on:",
  "options": ["Present inputs only", "Past outputs only", "Present inputs and past internal states", "Clock frequency only"],
  "answer": 2,
  "explanation": "Sequential circuits have memory; their output is determined by the current input and the stored history (present state) of the system."
},
{
  "q": "Which fundamental property distinguishes a Latch from a Flip-Flop?",
  "options": ["Latches are edge-triggered", "Flip-Flops are level-triggered", "Latches are level-sensitive (transparent)", "Flip-Flops usually do not require a clock"],
  "answer": 2,
  "explanation": "Latches check inputs continuously while enabled (level-sensitive), whereas Flip-Flops sample inputs only at specific clock edges."
},
{
  "q": "In a basic NOR-gate SR Latch, the 'Indeterminate' or 'Invalid' state occurs when:",
  "options": ["S=0, R=0", "S=1, R=0", "S=0, R=1", "S=1, R=1"],
  "answer": 3,
  "explanation": "If S=1 and R=1 in a NOR latch, both outputs are forced to 0, violating the rule that Q and Q' must be complements."
},
{
  "q": "For a NAND-gate SR Latch, the normal 'Hold' state is maintained when inputs are:",
  "options": ["S=0, R=0", "S=1, R=1", "S=1, R=0", "S=0, R=1"],
  "answer": 1,
  "explanation": "NAND latches are active-low. S=1, R=1 is the inactive state where the latch holds its previous value."
},
{
  "q": "The 'Race-Around Condition' is a primary disadvantage of which type of Flip-Flop?",
  "options": ["Edge-triggered D Flip-Flop", "Level-triggered JK Flip-Flop", "Master-Slave Flip-Flop", "T Flip-Flop"],
  "answer": 1,
  "explanation": "It occurs in level-triggered JK flip-flops when J=1, K=1 and the clock pulse width exceeds the propagation delay."
},
{
  "q": "What is the primary function of the Master-Slave configuration in JK Flip-Flops?",
  "options": ["To increase switching speed", "To eliminate the Race-Around condition", "To allow asynchronous inputs", "To reduce power consumption"],
  "answer": 1,
  "explanation": "By isolating the output (Slave) from the input (Master) during the active clock edge, it prevents multiple toggles (racing) within one clock pulse."
},
{
  "q": "The characteristic equation for a JK Flip-Flop is:",
  "options": ["Q(n+1) = JQ' + K'Q", "Q(n+1) = JQ + KQ", "Q(n+1) = J'Q + KQ'", "Q(n+1) = J + K"],
  "answer": 0,
  "explanation": "The next state is determined by J setting the bit (if Q is 0) or K' holding the bit (if Q is 1)."
},
{
  "q": "In a Master-Slave JK Flip-Flop, when is the 'Slave' isolated from the 'Master'?",
  "options": ["When Clock is High", "When Clock is Low", "During the rising edge", "Always"],
  "answer": 0,
  "explanation": "When Clock is High, the Master accepts inputs, but the Slave is isolated. The Slave updates only when the Clock goes Low."
},
{
  "q": "A D Flip-Flop is often called a 'Delay' flip-flop because:",
  "options": ["It slows down the clock", "The output follows the input after one clock edge", "It has a high propagation delay", "It requires delay lines"],
  "answer": 1,
  "explanation": "The data (D) present at the input is transferred to the output (Q) at the next active clock edge, effectively delaying it by one cycle."
},
  {
    "q": "In a sequential circuit, the output depends on:",
    "options": ["Present inputs only", "Past outputs only", "Present inputs and past internal states", "Clock frequency only"],
    "answer": 2,
    "analysis": "Sequential circuits have memory. The output depends not just on the current input, but also on the stored state. You must analyze both input and internal state transitions."
  },
  {
    "q": "The 'Race-Around Condition' is a primary disadvantage of which type of Flip-Flop?",
    "options": ["Edge-triggered D Flip-Flop", "Level-triggered JK Flip-Flop", "Master-Slave Flip-Flop", "T Flip-Flop"],
    "answer": 1,
    "analysis": "This occurs in level-triggered JK flip-flops when J=K=1 and the clock pulse width exceeds the propagation delay. Understanding the timing diagram helps prevent errors."
  },
  {
    "q": "To convert a JK Flip-Flop into a T (Toggle) Flip-Flop, you must:",
    "options": ["Connect J to K", "Connect J to 1, K to 0", "Invert K and connect to J", "Connect J to Q'"],
    "answer": 0,
    "analysis": "By connecting J and K together, the flip-flop toggles on every clock pulse when the input is high. You need to visualize the state transitions to fully grasp this."
  },
  {
    "q": "Which register type is the fastest for loading and retrieving 8-bit data?",
    "options": ["SISO (Serial-In Serial-Out)", "SIPO (Serial-In Parallel-Out)", "PISO (Parallel-In Serial-Out)", "PIPO (Parallel-In Parallel-Out)"],
    "answer": 3,
    "analysis": "PIPO loads and retrieves all bits simultaneously. To understand why it is fastest, analyze the timing for each register type."
  },
  {
    "q": "The maximum frequency of an N-bit ripple counter with flip-flop delay t_d is restricted by:",
    "options": ["N * t_d", "t_d / N", "t_d", "Clock width"],
    "answer": 0,
    "analysis": "The total delay accumulates through all N stages. To analyze, you must sum individual flip-flop propagation delays to see the limitation on clock frequency."
  },
  {
    "q": "Which state transition indicates a 'Self-Correcting' counter?",
    "options": ["Unused states eventually transition into the valid counting loop", "It never enters an invalid state", "It resets manually", "It stops on error"],
    "answer": 0,
    "analysis": "A self-correcting counter uses additional logic to bring invalid states back into the correct sequence. Understanding the state diagram is key."
  }
];
// end QUESTIONS array

/* 300 QUESTIONS: We created 300 items above. */
/* If you paste the full 300 questions, make sure to update totalQ below automatically. */

const totalQ = QUESTIONS.length || 300;
document.getElementById('totalQ').innerText = totalQ;
document.getElementById('badgeCount').innerText = totalQ + " Qs";

/* ============== App State ============== */
let state = {
  current: 0,
  answers: Array(totalQ).fill(null), // user's selected index
  answeredCorrect: Array(totalQ).fill(false),
  started: false,
  startTime: null,
  elapsedSec: 0,
  timerInterval: null,
  idleTimer: null
};

/* ============== DOM refs ============== */
const startPage = document.getElementById('startPage');
const testPage = document.getElementById('testPage');
const inpName = document.getElementById('inpName');
const inpReg = document.getElementById('inpReg');
const inpPic = document.getElementById('inpPic');
const imgPreview = document.getElementById('imgPreview');
const btnStart = document.getElementById('btnStart');
const btnResetStart = document.getElementById('btnResetStart');
const startErrors = document.getElementById('startErrors');

const showName = document.getElementById('showName');
const showReg = document.getElementById('showReg');
const userPicSmall = document.getElementById('userPicSmall');
const showUser = document.getElementById('showUser');

const timeTop = document.getElementById('timeTop');
const topCorrect = document.getElementById('topCorrect');
const topWrong = document.getElementById('topWrong');
const topProgress = document.getElementById('topProgress');
const topAttempted = document.getElementById('topAttempted');
const topQno = document.getElementById('topQno');

const questionText = document.getElementById('questionText');
const optionsBox = document.getElementById('optionsBox');
const explainBox = document.getElementById('explainBox');
const btnPrev = document.getElementById('btnPrev');
const btnNext = document.getElementById('btnNext');
const btnShowExplain = document.getElementById('btnShowExplain');
const btnEndTestTop = document.getElementById('btnEndTestTop');

const curQ = document.getElementById('curQ');
const correctCountEl = document.getElementById('correctCount');
const wrongCountEl = document.getElementById('wrongCount');
const attemptedCountEl = document.getElementById('attemptedCount');
const timeSpentEl = document.getElementById('timeSpent');
const scoreInline = document.getElementById('scoreInline');
const progressPercent = document.getElementById('progressPercent');

const btnSave = document.getElementById('btnSave');
const btnExport = document.getElementById('btnExport');

const modalRoot = document.getElementById('modalRoot');

/* ============== Helpers ============== */
function formatTime(sec){
  const m = Math.floor(sec/60).toString().padStart(2,'0');
  const s = (sec%60).toString().padStart(2,'0');
  return `${m}:${s}`;
}
function updateTopStatus(){
  const attempted = state.answers.filter(a=>a!==null).length;
  const correct = state.answeredCorrect.filter(x=>x).length;
  const wrong = attempted - correct;
  topCorrect.innerText = correct;
  topWrong.innerText = wrong;
  topAttempted.innerText = attempted;
  topProgress.innerText = `${Math.round((correct/totalQ)*100)}%`;
  topQno.innerText = `${state.current+1}/${totalQ}`;
  // right side small summary
  correctCountEl.innerText = correct;
  wrongCountEl.innerText = wrong;
  attemptedCountEl.innerText = attempted;
  scoreInline.innerText = correct;
  curQ.innerText = state.current + 1;
  progressPercent.innerText = `${Math.round((correct/totalQ)*100)}%`;
}
function startTimer(){
  if(state.timerInterval) return;
  state.startTime = Date.now() - (state.elapsedSec*1000);
  state.timerInterval = setInterval(()=>{
    state.elapsedSec = Math.floor((Date.now()-state.startTime)/1000);
    timeTop.innerText = formatTime(state.elapsedSec);
    timeSpentEl.innerText = formatTime(state.elapsedSec);
  },1000);
}
function stopTimer(){
  if(state.timerInterval){ clearInterval(state.timerInterval); state.timerInterval = null; }
}
function resetIdleTimer(){
  if(state.idleTimer) clearTimeout(state.idleTimer);
  // show warning if no action for 60s
  state.idleTimer = setTimeout(()=>{ showWarning("You're idle ‚Äî please continue answering to use time well."); }, 60000);
}
function showWarning(text){
  // small non-blocking toast modal that disappears
  const toast = document.createElement('div');
  toast.style.position='fixed'; toast.style.left='50%'; toast.style.transform='translateX(-50%)'; toast.style.bottom='22px';
  toast.style.background='rgba(0,0,1,0.8)'; toast.style.padding='12px 16px'; toast.style.borderRadius='10px'; toast.style.color='#fef'; toast.style.zIndex=9999;
  toast.innerText = "‚ö†Ô∏è " + text;
  document.body.appendChild(toast);
  setTimeout(()=>{ toast.style.transition='opacity .4s'; toast.style.opacity='0'; setTimeout(()=>toast.remove(),400); }, 3000);
}

/* ============== Validation (start page) ============== */
function validateName(v){
  if(!v || !v.trim()) return false;
  // allow letters, spaces, dot and hyphen optional; disallow digits
  return /^[A-Za-z\s\.\-']+$/.test(v.trim());
}
function validateReg(v){
  return /^\d{8}$/.test(v);
}
function checkStartInputs(){
  const name = inpName.value.trim();
  const reg = inpReg.value.trim();
  let ok = true; startErrors.innerText = '';
  if(!validateName(name)){ ok = false; startErrors.innerText = 'Name invalid: only letters, spaces allowed.'; }
  else if(!validateReg(reg)){ ok = false; startErrors.innerText = 'Registration invalid: must be exactly 8 digits.'; }
  btnStart.disabled = !ok;
}

/* image preview */
inpPic.addEventListener('change', (e)=>{
  const f = e.target.files && e.target.files[0];
  if(!f){ imgPreview.style.display='none'; userPicSmall.style.display='none'; return; }
  const url = URL.createObjectURL(f);
  imgPreview.src = url; imgPreview.style.display='block';
  userPicSmall.src = url; userPicSmall.style.display='block';
});

/* listen to inputs */
inpName.addEventListener('input', checkStartInputs);
inpReg.addEventListener('input', checkStartInputs);

/* ============== Rendering ============== */
function renderQuestion(idx){
  resetIdleTimer();
  const item = QUESTIONS[idx];
  if(!item){
    questionText.innerText = 'Question bank not loaded. Paste the QUESTIONS array into the file.';
    optionsBox.innerHTML = '';
    return;
  }
  questionText.innerHTML = `<span style="opacity:.9">${idx+1}.</span> <span style="margin-left:8px">${item.q}</span>`;
  showName.innerText = inpName.value || '‚Äî';
  showReg.innerText = inpReg.value || '‚Äî';
  showUser.innerText = `${inpName.value || ''} ‚Ä¢ ${inpReg.value || ''}`;
  explainBox.style.display = 'none'; explainBox.innerHTML = '';
  optionsBox.innerHTML = '';

  item.options.forEach((optText, i)=>{
    const div = document.createElement('div');
    div.className = 'option';
    div.dataset.index = i;
    div.innerHTML = `<div class="label"><strong>${String.fromCharCode(65+i)}</strong>. ${optText}</div><div class="explainTiny">Explain</div>`;
    // answer click
    div.addEventListener('click', (e)=>{
      if(state.answers[idx] !== null) return; // locked
      handleAnswer(idx, i);
    });
    // explain click
    div.querySelector('.explainTiny').addEventListener('click', (ev)=>{ ev.stopPropagation(); showExplanation(idx); });
    optionsBox.appendChild(div);
  });

  // if answered already, show colors
  if(state.answers[idx] !== null){
    const chosen = state.answers[idx];
    const correct = QUESTIONS[idx].answer;
    const all = optionsBox.querySelectorAll('.option');
    all.forEach((od, i)=>{
      od.classList.remove('correct','wrong');
      if(i === correct) od.classList.add('correct');
      if(i === chosen && chosen !== correct) od.classList.add('wrong');
    });
    explainBox.innerHTML = `<strong>Explanation:</strong><br>${item.explanation}<br><br><strong>Correct:</strong> ${String.fromCharCode(65+item.answer)}. ${item.options[item.answer]}`;
    explainBox.style.display = 'none';
  }

  updateTopStatus();
}

/* ============== Answer Logic ============== */
function handleAnswer(qIdx, choiceIdx){
  // lock once selected
  if(state.answers[qIdx] !== null) return;
  state.answers[qIdx] = choiceIdx;
  const correct = QUESTIONS[qIdx].answer;
  const wasCorrect = (choiceIdx === correct);
  state.answeredCorrect[qIdx] = wasCorrect;

  // color options
  const optDivs = optionsBox.querySelectorAll('.option');
  optDivs.forEach((od, i)=>{
    od.classList.remove('correct','wrong');
    if(i === correct) od.classList.add('correct');
    if(i === choiceIdx && choiceIdx !== correct) od.classList.add('wrong');
  });

  updateTopStatus();

  // brief animation & then auto-next after 700ms
  if(wasCorrect){
    const correctEl = optionsBox.querySelector('.option.correct');
    if(correctEl) correctEl.animate([{transform:'scale(1)'},{transform:'scale(1.03)'},{transform:'scale(1)'}], {duration:450, iterations:1, easing:'ease-out'});
  }

  // small delay then go next (unless last)
  setTimeout(()=>{
    if(state.current < totalQ - 1){
      state.current++;
      renderQuestion(state.current);
    } else {
      // reached end - show modal summary
      showSummaryModal();
    }
  }, 2000);
}

/* explanation */
function showExplanation(idx){
  const item = QUESTIONS[idx];
  if(!item) return;
  explainBox.style.display = 'block';
  explainBox.innerHTML = `<strong>Explanation:</strong><br>${item.explanation}<br><br><strong>Correct:</strong> ${String.fromCharCode(65+item.answer)}. ${item.options[item.answer]}`;
}

/* ============== Controls ============== */
btnStart.addEventListener('click', ()=>{
  // validate again
  const name = inpName.value.trim();
  const reg = inpReg.value.trim();
  if(!validateName(name) || !validateReg(reg)){ alert('Enter valid Name and 8-digit Registration number.'); return; }
  if(!QUESTIONS || QUESTIONS.length === 0){ alert('Question bank empty. Paste QUESTIONS into the file.'); return; }

  // save user to localStorage (temp)
  const user = {name, reg, pic: null};
  if(inpPic.files && inpPic.files[0]){
    // read as data URL
    const reader = new FileReader();
    reader.onload = function(e){
      user.pic = e.target.result;
      startTest(user);
    }
    reader.readAsDataURL(inpPic.files[0]);
  } else {
    startTest(user);
  }
});
function startTest(user){
  // store last user
  localStorage.setItem('ECE-249_user', JSON.stringify(user));
  // show test page
  startPage.style.display = 'none';
  testPage.style.display = 'block';
  if(user.pic){ userPicSmall.src = user.pic; userPicSmall.style.display='block'; }
  showName.innerText = user.name; showReg.innerText = user.reg; showUser.innerText = `${user.name} ‚Ä¢ ${user.reg}`;
  state.started = true; startTimer(); resetIdleTimer(); renderQuestion(state.current); updateTopStatus();
}

/* Prev/Next */
btnPrev.addEventListener('click', ()=>{ if(state.current>0){ state.current--; renderQuestion(state.current); } resetIdleTimer();});
btnNext.addEventListener('click', ()=>{ if(state.current < totalQ - 1){ state.current++; renderQuestion(state.current); } resetIdleTimer();});

/* End Test */
btnEndTestTop.addEventListener('click', ()=>{ if(!state.started){ alert('Test not started.'); return;} if(!confirm('End test now and save result?')) return; stopTimer(); saveResult(); showSummaryModal(); });

/* Show explain */
btnShowExplain.addEventListener('click', ()=>{ showExplanation(state.current); });

/* Keyboard navigation */
document.addEventListener('keydown', (e)=>{ if(e.key === 'ArrowRight') btnNext.click(); if(e.key === 'ArrowLeft') btnPrev.click(); });

/* Reset start page */
btnResetStart.addEventListener('click', ()=>{ if(confirm('Reset start form?')){ inpName.value=''; inpReg.value=''; inpPic.value=''; imgPreview.style.display='none'; checkStartInputs(); } });

/* Save result to localStorage */
function saveResult(){
  const correct = state.answeredCorrect.filter(x=>x).length;
  const attempted = state.answers.filter(a=>a!==null).length;
  const user = JSON.parse(localStorage.getItem('ECE-249_user') || '{}');
  const result = { name: user.name || inpName.value, reg: user.reg || inpReg.value, pic: user.pic || null, correct, attempted, time: formatTime(state.elapsedSec), date: (new Date()).toLocaleString() };
  
  // üîó also save online
  saveResultToSupabase(result); 

  // const key = 'ECE-249_results';
  // const arr = JSON.parse(localStorage.getItem(key) || '[]');
  // arr.push(result);
  // localStorage.setItem(key, JSON.stringify(arr));
  // alert('Result saved locally.');
}

// üåÄ Small loader toast (for showing saving progress)

function showLoader(msg, duration = 1500) {
  const toast = document.createElement('div');
  toast.style.position = 'fixed';
  toast.style.left = '50%';
  toast.style.transform = 'translateX(-50%)';
  toast.style.bottom = '30px';
  toast.style.background = 'rgba(0,0,0,0.8)';
  toast.style.color = '#fff';
  toast.style.padding = '12px 18px';
  toast.style.borderRadius = '10px';
  toast.style.fontSize = '14px';
  toast.style.zIndex = 9999;
  toast.innerText = msg;
  document.body.appendChild(toast);
  setTimeout(() => {
    toast.style.transition = 'opacity .4s';
    toast.style.opacity = '0';
    setTimeout(() => toast.remove(), 400);
  }, duration);
}


// // üü¢ Supabase Database Save (adds result to test_result table)
// async function saveResultToSupabase(result) {
//   try {
//     // ‡§™‡§π‡§≤‡•á check ‡§ï‡§∞‡•ã ‡§ï‡§ø ‡§Ø‡§π registration ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§§‡•ã ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à
//     const { data: existing, error: fetchError } = await supabase
//       .from('test_result')
//       .select('reg')
//       .eq('reg', result.reg);

//     if (fetchError) throw fetchError;

//     if (existing && existing.length > 0) {
//       alert('‚ö†Ô∏è This registration number has already submitted a result!');
//       return;
//     }

//     // Insert new result
//     const { data, error } = await supabase
//       .from('test_result')
//       .insert([result]);

//     if (error) throw error;

//     alert('‚úÖ Result saved to Supabase database!');
//   } catch (err) {
//     console.error('Supabase insert error:', err);
//     alert('‚ùå Error saving result to Supabase.');
//   }
// }
/* Export CSV for all saved results */

// üü¢ Supabase Database Save (adds result to test_result table)
async function saveResultToSupabase(result) {
  try {
    showLoader("‚è≥ üòÑüòÑChecking registration...");

    // ‡§™‡§π‡§≤‡•á check ‡§ï‡§∞‡•ã ‡§ï‡§ø ‡§Ø‡§π registration ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§§‡•ã ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à
    const { data: existing, error: fetchError } = await supabase
      .from('test_result')
      .select('reg')
      .eq('reg', result.reg);

    if (fetchError) throw fetchError;

    if (existing && existing.length > 0) {
      showLoader("‚ö†Ô∏è Already submitted!", 2000);
      alert('‚ö†Ô∏è This registration number has already submitted a result!');
      return;
    }

    showLoader("üíæ Saving your result...");

    // Insert new result
    const { data, error } = await supabase
      .from('test_result')
      .insert([result]);

    if (error) throw error;

    showLoader("‚úÖ üòÉSaved successfully!", 1800);
    alert('‚úÖ  üòÉResult saved to Aryan_data_base!');

  } catch (err) {
    console.error('Aryan_data_base insert error:', err);
    showLoader("‚ùåü•≤ü•≤ Error saving result!", 2000);
    alert('‚ùåü•≤ü•≤ Error saving result to Aryan_data_base.');
  }
}

// üü¢ Fetch all saved results from Supabase (Leaderboard)
async function fetchAllResults() {
  try {
    showLoader("üì° Fetching results...");

    const { data, error } = await supabase
      .from('test_result')
      .select('name, reg, correct, attempted, time, date')
      .order('correct', { ascending: false }); // Highest score first

    if (error) throw error;

    showResultsTable(data); // show inside modal
  } catch (err) {
    console.error("Aryan_database fetch error:", err);
    alert("‚ùå Error fetching results from Aryan_database!");
  }
}

btnExport.addEventListener('click', ()=>{
  const arr = JSON.parse(localStorage.getItem('ECE-249_results') || '[]');
  if(arr.length === 0){ alert('No saved results to export.'); return; }
  const headers = ['Name','Reg','Correct','Attempted','Time','Date'];
  const rows = arr.map(r => [r.name, r.reg, r.correct, r.attempted, r.time, r.date]);
  let csv = headers.join(',') + '\n' + rows.map(r => r.map(c => `"${String(c).replace(/"/g,'""')}"`).join(',')).join('\n');
  const blob = new Blob([csv], {type: 'text/csv'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = 'ECE-249_results.csv'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
});

/* View summary modal */
function showSummaryModal(){
  const correct = state.answeredCorrect.filter(x=>x).length;
  const attempted = state.answers.filter(a=>a!==null).length;
  modalRoot.innerHTML = '';
  const backdrop = document.createElement('div'); backdrop.className = 'modal-backdrop';
  const modal = document.createElement('div'); modal.className = 'modal';
  const user = JSON.parse(localStorage.getItem('ECE-249_user') || '{}');
  modal.innerHTML = `<h3>Test Summary</h3>
    <p><strong>Name:</strong> ${user.name || inpName.value} &nbsp; ‚Ä¢ &nbsp; <strong>Reg:</strong> ${user.reg || inpReg.value}</p>
    <p><strong>Score:</strong> ${correct} / ${totalQ} &nbsp; ‚Ä¢ &nbsp; <strong>Attempted:</strong> ${attempted}</p>
    <p><strong>Time:</strong> ${formatTime(state.elapsedSec)}</p>
    <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px">
      <button id="modalSave" class="btn">Save</button>
      <button id="modalReview" class="btn ghost">Review Answers</button>
      <button id="modalClose" class="btn ghost">Close</button>
    </div>`;
  backdrop.appendChild(modal); modalRoot.appendChild(backdrop); modalRoot.style.display = 'block';
  document.getElementById('modalClose').addEventListener('click', ()=>{ modalRoot.innerHTML=''; modalRoot.style.display='none'; });
  document.getElementById('modalSave').addEventListener('click', ()=>{ saveResult(); modalRoot.innerHTML=''; modalRoot.style.display='none'; });
  document.getElementById('modalReview').addEventListener('click', ()=>{ modalRoot.innerHTML=''; modalRoot.style.display='none'; reviewAllAnswers(); });
}

/* Review answers (list with question and selected) */
function reviewAllAnswers(){
  modalRoot.innerHTML = ''; const backdrop = document.createElement('div'); backdrop.className='modal-backdrop';
  const modal = document.createElement('div'); modal.className='modal';
  modal.innerHTML = `<h3>Review Answers</h3><div style="max-height:60vh;overflow:auto"><table class="results-table"><thead><tr><th>#</th><th>Question</th><th>Your</th><th>Correct</th></tr></thead><tbody id="revBody"></tbody></table></div><div style="display:flex;justify-content:flex-end;margin-top:8px"><button id="closeRev" class="btn ghost">Close</button></div>`;
  backdrop.appendChild(modal); modalRoot.appendChild(backdrop); modalRoot.style.display='block';
  const body = modal.querySelector('#revBody');
  QUESTIONS.forEach((q,i)=>{
    const your = state.answers[i] === null ? '-' : String.fromCharCode(65 + state.answers[i]) + '. ' + q.options[state.answers[i]];
    const corr = String.fromCharCode(65 + q.answer) + '. ' + q.options[q.answer];
    const tr = document.createElement('tr'); tr.innerHTML = `<td>${i+1}</td><td style="max-width:380px">${q.q}</td><td>${your}</td><td>${corr}</td>`;
    body.appendChild(tr);
  });
  document.getElementById('closeRev').addEventListener('click', ()=>{ modalRoot.innerHTML=''; modalRoot.style.display='none'; });
}

/* review finished. */

/* idle reset on any interaction */
['click','mousemove','keydown','touchstart'].forEach(ev => document.addEventListener(ev, resetIdleTimer));

/* Before unload confirm if started */
window.addEventListener('beforeunload', function(e){ if(state.started){ e.preventDefault(); e.returnValue = ''; } });

/* init */
(function init(){
  // if previous user exists, prefill name/reg
  const prevUser = JSON.parse(localStorage.getItem('ECE-249_user') || 'null');
  if(prevUser){
    if(prevUser.name) inpName.value = prevUser.name;
    if(prevUser.reg) inpReg.value = prevUser.reg;
    if(prevUser.pic){ imgPreview.src = prevUser.pic; imgPreview.style.display='block'; userPicSmall.src = prevUser.pic; userPicSmall.style.display='block'; }
  }
  checkStartInputs();
  curQ.innerText = 0;
  timeTop.innerText = '00:00';
  timeSpentEl.innerText = '00:00';
  topProgress.innerText = '0%';
  topCorrect.innerText = '0';
  topWrong.innerText = '0';
  topAttempted.innerText = '0';
  topQno.innerText = '0/' + totalQ;
})();
</script>
</body>
</html>
